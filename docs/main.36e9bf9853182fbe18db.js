(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return u}));var r=n("os0x"),i=n("qOnz"),s=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),o="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=o);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(s){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:o,optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var s=this.getOrInitializeService(i);if(!s){if(n)return null;throw Error("Service "+this.name+" is not available")}return s}catch(a){if(n)return null;throw a}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService(o)}catch(h){}try{for(var i=Object(r.h)(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var a=Object(r.e)(s.value,2),u=a[1],c=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService(c);u.resolve(l)}catch(h){}}}catch(f){e={error:f}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t=o),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,(function(){var t;return Object(r.d)(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})),t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()}))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return t===o?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:o:t},t}(),u=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class s extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("lJxs"),i=n("Cfvw"),s=n("zx2A");function o(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?s=>s.pipe(o((n,s)=>Object(i.a)(t(n,s)).pipe(Object(r.a)((t,r)=>e(n,t,s,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new u(t,this.project,this.concurrent))}}class u extends s.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new s.a(this),n=this.destination;n.add(e);const r=Object(s.c)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"7Hc7":function(t,e,n){"use strict";n.d(e,"b",(function(){return f})),n.d(e,"a",(function(){return d}));let r=1;const i=(()=>Promise.resolve())(),s={};function o(t){return t in s&&(delete s[t],!0)}const a={setImmediate(t){const e=r++;return s[e]=!0,i.then(()=>o(e)&&t()),e},clearImmediate(t){o(t)}};var u=n("3N8a");class c extends u.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=a.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(a.clearImmediate(e),t.scheduled=void 0)}}var l=n("IjjT");class h extends l.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const f=new h(c),d=f},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("n6bG"),i=n("gRHU"),s=n("quSY"),o=n("2QA8"),a=n("2fFW"),u=n("NJ4a");class c extends s.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[o.a](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,s){let o;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?o=e:e&&(o=e.next,n=e.error,s=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=o,this._error=n,this._complete=s}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(u.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var r=n("HDdC"),i=n("SeVD"),s=n("quSY"),o=n("kJWO"),a=n("jZKg"),u=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[o.a]}(t))return function(t,e){return new r.a(n=>{const r=new s.a;return r.add(e.schedule(()=>{const i=t[o.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a(n=>{const r=new s.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[u.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new s.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[u.a](),r.add(e.schedule((function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())})))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return s}));var r=n("3N8a");const i=new(n("IjjT").a)(r.a),s=i},DH7j:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EY2u:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return s}));var r=n("HDdC");const i=new r.a(t=>t.complete());function s(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("7o/Q"),i=n("2QA8"),s=n("gRHU"),o=n("kJWO"),a=n("SpAZ"),u=n("2fFW");let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:o}=this,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(s.a)}(t,e,n);if(a.add(o?o.call(a,this.source):this.source||u.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){u.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[o.a](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.a:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=u.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",(function(){return r.a})),r.a.registerVersion("firebase","8.1.1","app")},LRne:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("z+Ro"),i=n("yCtX"),s=n("jZKg");function o(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(s.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",(function(){return i}));const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",(function(){return r}))},SeVD:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n("ngJS"),i=n("NJ4a"),s=n("Lhse"),o=n("kJWO"),a=n("I55L"),u=n("c2HN"),c=n("XoHu");const l=t=>{if(t&&"function"==typeof t[o.a])return l=t,t=>{const e=l[o.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(u.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[s.a])return e=t,t=>{const n=e[s.a]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(c.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",(function(){return r}))},VRyK:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("HDdC"),i=n("z+Ro"),s=n("bHdf"),o=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(i.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(s.a)(e)(Object(o.a)(t,n))}},XNiG:function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return l}));var r=n("HDdC"),i=n("7o/Q"),s=n("quSY"),o=n("9ppp"),a=n("Ylt2"),u=n("2QA8");class c extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.a](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new o.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new o.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new o.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new o.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new o.a;return this.hasError?(t.error(this.thrownError),s.a.EMPTY):this.isStopped?(t.complete(),s.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):s.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",(function(){return r}))},Y7HM:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("DH7j");function i(t){return!Object(r.a)(t)&&t-parseFloat(t)+1>=0}},Ylt2:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},bHdf:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("5+tZ"),i=n("SpAZ");function s(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",(function(){return r}))},fXoL:function(t,e,n){"use strict";n.d(e,"a",(function(){return Is})),n.d(e,"b",(function(){return cu})),n.d(e,"c",(function(){return iu})),n.d(e,"d",(function(){return nu})),n.d(e,"e",(function(){return ru})),n.d(e,"f",(function(){return Ju})),n.d(e,"g",(function(){return zu})),n.d(e,"h",(function(){return ls})),n.d(e,"i",(function(){return _u})),n.d(e,"j",(function(){return Xo})),n.d(e,"k",(function(){return fu})),n.d(e,"l",(function(){return Zo})),n.d(e,"m",(function(){return Dn})),n.d(e,"n",(function(){return Fa})),n.d(e,"o",(function(){return tt})),n.d(e,"p",(function(){return v})),n.d(e,"q",(function(){return J})),n.d(e,"r",(function(){return xs})),n.d(e,"s",(function(){return ya})),n.d(e,"t",(function(){return va})),n.d(e,"u",(function(){return hu})),n.d(e,"v",(function(){return mt})),n.d(e,"w",(function(){return Gu})),n.d(e,"x",(function(){return gt})),n.d(e,"y",(function(){return Mu})),n.d(e,"z",(function(){return Ou})),n.d(e,"A",(function(){return b})),n.d(e,"B",(function(){return uu})),n.d(e,"C",(function(){return au})),n.d(e,"D",(function(){return Ua})),n.d(e,"E",(function(){return na})),n.d(e,"F",(function(){return ta})),n.d(e,"G",(function(){return ea})),n.d(e,"H",(function(){return ia})),n.d(e,"I",(function(){return Or})),n.d(e,"J",(function(){return w})),n.d(e,"K",(function(){return Ku})),n.d(e,"L",(function(){return Ea})),n.d(e,"M",(function(){return ku})),n.d(e,"N",(function(){return fs})),n.d(e,"O",(function(){return oa})),n.d(e,"P",(function(){return sa})),n.d(e,"Q",(function(){return Sa})),n.d(e,"R",(function(){return Tt})),n.d(e,"S",(function(){return Uu})),n.d(e,"T",(function(){return Jn})),n.d(e,"U",(function(){return M})),n.d(e,"V",(function(){return ht})),n.d(e,"W",(function(){return Zn})),n.d(e,"X",(function(){return Xu})),n.d(e,"Y",(function(){return Pu})),n.d(e,"Z",(function(){return lu})),n.d(e,"ab",(function(){return ds})),n.d(e,"bb",(function(){return Fo})),n.d(e,"cb",(function(){return wr})),n.d(e,"db",(function(){return ir})),n.d(e,"eb",(function(){return zn})),n.d(e,"fb",(function(){return Gn})),n.d(e,"gb",(function(){return Qn})),n.d(e,"hb",(function(){return Wn})),n.d(e,"ib",(function(){return $n})),n.d(e,"jb",(function(){return Kn})),n.d(e,"kb",(function(){return No})),n.d(e,"lb",(function(){return Yu})),n.d(e,"mb",(function(){return Po})),n.d(e,"nb",(function(){return Do})),n.d(e,"ob",(function(){return Hn})),n.d(e,"pb",(function(){return G})),n.d(e,"qb",(function(){return Us})),n.d(e,"rb",(function(){return to})),n.d(e,"sb",(function(){return Js})),n.d(e,"tb",(function(){return Ro})),n.d(e,"ub",(function(){return ue})),n.d(e,"vb",(function(){return D})),n.d(e,"wb",(function(){return Bn})),n.d(e,"xb",(function(){return ks})),n.d(e,"yb",(function(){return ne})),n.d(e,"zb",(function(){return Ko})),n.d(e,"Ab",(function(){return zr})),n.d(e,"Bb",(function(){return Bs})),n.d(e,"Cb",(function(){return yo})),n.d(e,"Db",(function(){return Ya})),n.d(e,"Eb",(function(){return At})),n.d(e,"Fb",(function(){return Lt})),n.d(e,"Gb",(function(){return T})),n.d(e,"Hb",(function(){return C})),n.d(e,"Ib",(function(){return Nt})),n.d(e,"Jb",(function(){return Ft})),n.d(e,"Kb",(function(){return Gs})),n.d(e,"Lb",(function(){return Xs})),n.d(e,"Mb",(function(){return Ys})),n.d(e,"Nb",(function(){return Qs})),n.d(e,"Ob",(function(){return Zs})),n.d(e,"Pb",(function(){return kn})),n.d(e,"Qb",(function(){return xo})),n.d(e,"Rb",(function(){return lt})),n.d(e,"Sb",(function(){return $s})),n.d(e,"Tb",(function(){return eu})),n.d(e,"Ub",(function(){return eo})),n.d(e,"Vb",(function(){return Xa})),n.d(e,"Wb",(function(){return oo})),n.d(e,"Xb",(function(){return Da})),n.d(e,"Yb",(function(){return La})),n.d(e,"Zb",(function(){return co})),n.d(e,"ac",(function(){return uo})),n.d(e,"bc",(function(){return Ws})),n.d(e,"cc",(function(){return lo})),n.d(e,"dc",(function(){return Ka})),n.d(e,"ec",(function(){return Ce})),n.d(e,"fc",(function(){return Sr})),n.d(e,"gc",(function(){return Pt})),n.d(e,"hc",(function(){return Qa})),n.d(e,"ic",(function(){return mo})),n.d(e,"jc",(function(){return no})),n.d(e,"kc",(function(){return Io})),n.d(e,"lc",(function(){return Hs})),n.d(e,"mc",(function(){return Oo})),n.d(e,"nc",(function(){return So})),n.d(e,"oc",(function(){return To})),n.d(e,"pc",(function(){return Co}));var r=n("XNiG"),i=n("quSY"),s=n("HDdC"),o=n("VRyK"),a=n("7o/Q");function u(){return function(t){return t.lift(new c(t))}}class c{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new l(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class l extends a.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class h extends s.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new i.a,t.add(this.source.subscribe(new d(this.getSubject(),this))),t.closed&&(this._connection=null,t=i.a.EMPTY)),t}refCount(){return u()(this)}}const f=(()=>{const t=h.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class d extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function p(){return new r.a}function g(t){return{toString:t}.toString()}const m="__parameters__";function y(t,e,n){return g(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(m)?t[m]:Object.defineProperty(t,m,{value:[]})[m];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}const v=y("Inject",t=>({token:t})),b=y("Optional"),_=y("Self"),w=y("SkipSelf");var E=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function O(t){for(let e in t)if(t[e]===O)return e;throw Error("Could not find renamed property on target object.")}function S(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function T(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function C(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function x(t){return I(t,t[j])||I(t,t[N])}function I(t,e){return e&&e.token===t?e:null}function A(t){return t&&(t.hasOwnProperty(k)||t.hasOwnProperty(P))?t[k]:null}const j=O({"\u0275prov":O}),k=O({"\u0275inj":O}),R=O({"\u0275provFallback":O}),N=O({ngInjectableDef:O}),P=O({ngInjectorDef:O});function D(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(D).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function L(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const F=O({__forward_ref__:O});function M(t){return t.__forward_ref__=M,t.toString=function(){return D(this())},t}function U(t){return V(t)?t():t}function V(t){return"function"==typeof t&&t.hasOwnProperty(F)&&t.__forward_ref__===M}const q="undefined"!=typeof globalThis&&globalThis,B="undefined"!=typeof window&&window,z="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,H="undefined"!=typeof global&&global,G=q||H||B||z,$=O({"\u0275cmp":O}),W=O({"\u0275dir":O}),K=O({"\u0275pipe":O}),Q=O({"\u0275mod":O}),Y=O({"\u0275loc":O}),X=O({"\u0275fac":O}),Z=O({__NG_ELEMENT_ID__:O});class J{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=T({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return"InjectionToken "+this._desc}}const tt=new J("INJECTOR",-1),et={},nt=/\n/gm,rt="__source",it=O({provide:String,useValue:O});let st,ot=void 0;function at(t){const e=ot;return ot=t,e}function ut(t){const e=st;return st=t,e}function ct(t,e=E.Default){if(void 0===ot)throw new Error("inject() must be called from an injection context");return null===ot?ft(t,void 0,e):ot.get(t,e&E.Optional?null:void 0,e)}function lt(t,e=E.Default){return(st||ct)(U(t),e)}const ht=lt;function ft(t,e,n){const r=x(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&E.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${D(t)}]`)}function dt(t){const e=[];for(let n=0;n<t.length;n++){const r=U(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=E.Default;for(let e=0;e<r.length;e++){const i=r[e];i instanceof b||"Optional"===i.ngMetadataName||i===b?n|=E.Optional:i instanceof w||"SkipSelf"===i.ngMetadataName||i===w?n|=E.SkipSelf:i instanceof _||"Self"===i.ngMetadataName||i===_?n|=E.Self:t=i instanceof v||i===v?i.token:i}e.push(lt(t,n))}else e.push(lt(r))}return e}class pt{get(t,e=et){if(e===et){const e=new Error(`NullInjectorError: No provider for ${D(t)}!`);throw e.name="NullInjectorError",e}return e}}class gt{}class mt{}function yt(t,e){t.forEach(t=>Array.isArray(t)?yt(t,e):e(t))}function vt(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function bt(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function _t(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function wt(t,e,n){let r=Ot(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function Et(t,e){const n=Ot(t,e);if(n>=0)return t[1|n]}function Ot(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),s=t[n<<1];if(e===s)return n<<1;s>e?i=n:r=n+1}return~(i<<1)}(t,e)}var St=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),Tt=function(t){return t[t.Emulated=0]="Emulated",t[t.Native=1]="Native",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const Ct={},xt=[];let It=0;function At(t){return g(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===St.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||xt,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Tt.Emulated,id:"c",styles:t.styles||xt,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,s=t.pipes;return n.id+=It++,n.inputs=Dt(t.inputs,e),n.outputs=Dt(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(jt):null,n.pipeDefs=s?()=>("function"==typeof s?s():s).map(kt):null,n})}function jt(t){return Mt(t)||function(t){return t[W]||null}(t)}function kt(t){return function(t){return t[K]||null}(t)}const Rt={};function Nt(t){const e={type:t.type,bootstrap:t.bootstrap||xt,declarations:t.declarations||xt,imports:t.imports||xt,exports:t.exports||xt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&g(()=>{Rt[t.id]=t.type}),e}function Pt(t,e){return g(()=>{const n=Vt(t,!0);n.declarations=e.declarations||xt,n.imports=e.imports||xt,n.exports=e.exports||xt})}function Dt(t,e){if(null==t)return Ct;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const Lt=At;function Ft(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function Mt(t){return t[$]||null}function Ut(t,e){return t.hasOwnProperty(X)?t[X]:null}function Vt(t,e){const n=t[Q]||null;if(!n&&!0===e)throw new Error(`Type ${D(t)} does not have '\u0275mod' property.`);return n}const qt=20,Bt=10;function zt(t){return Array.isArray(t)&&"object"==typeof t[1]}function Ht(t){return Array.isArray(t)&&!0===t[1]}function Gt(t){return 0!=(8&t.flags)}function $t(t){return 2==(2&t.flags)}function Wt(t){return 1==(1&t.flags)}function Kt(t){return null!==t.template}function Qt(t){return 0!=(512&t[2])}function Yt(t){return"string"==typeof t?t:null==t?"":""+t}function Xt(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Yt(t)}const Zt=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(G))();function Jt(t){return t instanceof Function?t():t}function te(t,e){const n=e?" in "+e:"";throw new Error(`No provider for ${Xt(t)} found${n}`)}class ee{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function ne(){return re}function re(t){return t.type.prototype.ngOnChanges&&(t.setInput=se),ie}function ie(){const t=oe(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===Ct)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function se(t,e,n,r){const i=oe(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:Ct,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],u=o[a];s[a]=new ee(u&&u.currentValue,e,o===Ct),t[r]=e}function oe(t){return t.__ngSimpleChanges__||null}ne.ngInherit=!0;let ae=void 0;function ue(t){ae=t}function ce(t){return!!t.listen}const le={createRenderer:(t,e)=>void 0!==ae?ae:"undefined"!=typeof document?document:void 0};function he(t){for(;Array.isArray(t);)t=t[0];return t}function fe(t,e){return he(e[t+qt])}function de(t,e){return he(e[t.index])}function pe(t,e){return t.data[e+qt]}function ge(t,e){const n=e[t];return zt(n)?n:n[0]}function me(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function ye(t){return 4==(4&t[2])}function ve(t){return 128==(128&t[2])}function be(t,e){return null===t||null==e?null:t[e]}function _e(t){t[18]=0}function we(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const Ee={lFrame:He(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Oe(){return Ee.bindingsEnabled}function Se(){return Ee.lFrame.lView}function Te(){return Ee.lFrame.tView}function Ce(t){Ee.lFrame.contextLView=t}function xe(){return Ee.lFrame.currentTNode}function Ie(t,e){Ee.lFrame.currentTNode=t,Ee.lFrame.isParent=e}function Ae(){return Ee.lFrame.isParent}function je(){Ee.lFrame.isParent=!1}function ke(){return Ee.isInCheckNoChangesMode}function Re(t){Ee.isInCheckNoChangesMode=t}function Ne(){return Ee.lFrame.bindingIndex}function Pe(){return Ee.lFrame.bindingIndex++}function De(t){const e=Ee.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function Le(t,e){const n=Ee.lFrame;n.bindingIndex=n.bindingRootIndex=t,Fe(e)}function Fe(t){Ee.lFrame.currentDirectiveIndex=t}function Me(t){const e=Ee.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}function Ue(){return Ee.lFrame.currentQueryIndex}function Ve(t){Ee.lFrame.currentQueryIndex=t}function qe(t,e){const n=ze();Ee.lFrame=n,n.currentTNode=e,n.lView=t}function Be(t){const e=ze(),n=t[1];Ee.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex}function ze(){const t=Ee.lFrame,e=null===t?null:t.child;return null===e?He(t):e}function He(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null};return null!==t&&(t.child=e),e}function Ge(){const t=Ee.lFrame;return Ee.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const $e=Ge;function We(){const t=Ge();t.isParent=!0,t.tView=null,t.selectedIndex=0,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Ke(){return Ee.lFrame.selectedIndex}function Qe(t){Ee.lFrame.selectedIndex=t}function Ye(){const t=Ee.lFrame;return pe(t.tView,t.selectedIndex)}function Xe(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:s,ngAfterViewChecked:o,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),s&&(t.viewHooks||(t.viewHooks=[])).push(-n,s),o&&((t.viewHooks||(t.viewHooks=[])).push(n,o),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,o)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function Ze(t,e,n){en(t,e,3,n)}function Je(t,e,n,r){(3&t[2])===n&&en(t,e,n,r)}function tn(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function en(t,e,n,r){const i=null!=r?r:-1;let s=0;for(let o=void 0!==r?65535&t[18]:0;o<e.length;o++)if("number"==typeof e[o+1]){if(s=e[o],null!=r&&s>=r)break}else e[o]<0&&(t[18]+=65536),(s<i||-1==i)&&(nn(t,n,e,o),t[18]=(4294901760&t[18])+o+2),o++}function nn(t,e,n,r){const i=n[r]<0,s=n[r+1],o=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,s.call(o)):s.call(o)}const rn=-1;class sn{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function on(t,e,n){const r=ce(t);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,o):e.setAttributeNS(o,a,u)}else{const o=s,a=n[++i];un(o)?r&&t.setProperty(e,o,a):r?t.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function an(t){return 3===t||4===t||6===t}function un(t){return 64===t.charCodeAt(0)}function cn(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||ln(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function ln(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const n=t[s++];if("number"==typeof n){if(n===e){o=-1;break}if(n>e){o=s-1;break}}}for(;s<t.length;){const e=t[s];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function hn(t){return t!==rn}function fn(t){return 32767&t}function dn(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let pn=!0;function gn(t){const e=pn;return pn=t,e}let mn=0;function yn(t,e){const n=bn(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,vn(r.data,t),vn(e,null),vn(r.blueprint,null));const i=_n(t,e),s=t.injectorIndex;if(hn(i)){const t=fn(i),n=dn(i,e),r=n[1].data;for(let i=0;i<8;i++)e[s+i]=n[t+i]|r[t+i]}return e[s+8]=i,s}function vn(t,e){t.push(0,0,0,0,0,0,0,0,e)}function bn(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function _n(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return rn;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return rn}function wn(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Z)&&(r=n[Z]),null==r&&(r=n[Z]=mn++);const i=255&r,s=1<<i,o=64&i,a=32&i,u=e.data;128&i?o?a?u[t+7]|=s:u[t+6]|=s:a?u[t+5]|=s:u[t+4]|=s:o?a?u[t+3]|=s:u[t+2]|=s:a?u[t+1]|=s:u[t]|=s}(t,e,n)}function En(t,e,n,r=E.Default,i){if(null!==t){const i=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Z)?t[Z]:void 0;return"number"==typeof e&&e>0?255&e:e}(n);if("function"==typeof i){qe(e,t);try{const t=i();if(null!=t||r&E.Optional)return t;te(n)}finally{$e()}}else if("number"==typeof i){if(-1===i)return new An(t,e);let s=null,o=bn(t,e),a=rn,u=r&E.Host?e[16][6]:null;for((-1===o||r&E.SkipSelf)&&(a=-1===o?_n(t,e):e[o+8],a!==rn&&In(r,!1)?(s=e[1],o=fn(a),e=dn(a,e)):o=-1);-1!==o;){const t=e[1];if(xn(i,o,t.data)){const t=Sn(o,e,n,s,r,u);if(t!==On)return t}a=e[o+8],a!==rn&&In(r,e[1].data[o+8]===u)&&xn(i,o,e)?(s=t,o=fn(a),e=dn(a,e)):o=-1}}}if(r&E.Optional&&void 0===i&&(i=null),0==(r&(E.Self|E.Host))){const t=e[9],s=ut(void 0);try{return t?t.get(n,i,r&E.Optional):ft(n,i,r&E.Optional)}finally{ut(s)}}if(r&E.Optional)return i;te(n,"NodeInjector")}const On={};function Sn(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],u=Tn(a,o,n,null==r?$t(a)&&pn:r!=o&&2===a.type,i&E.Host&&s===a);return null!==u?Cn(e,o,u,a):On}function Tn(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,c=s>>20,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=o[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=o[u];if(t&&Kt(t)&&t.type===n)return u}return null}function Cn(t,e,n,r){let i=t[n];const s=e.data;if(i instanceof sn){const o=i;o.resolving&&function(t,e){throw new Error("Circular dependency in DI detected for "+t)}(Xt(s[n]));const a=gn(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?ut(o.injectImpl):null;qe(t,r);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const r=re(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==u&&ut(u),gn(a),o.resolving=!1,$e()}}return i}function xn(t,e,n){const r=64&t,i=32&t;let s;return s=128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e],!!(s&1<<t)}function In(t,e){return!(t&E.Self||t&E.Host&&e)}class An{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return En(this._tNode,this._lView,t,void 0,e)}}function jn(t){const e=t;if(V(t))return()=>{const t=jn(U(e));return t?t():null};let n=Ut(e);if(null===n){const t=A(e);n=t&&t.factory}return n||null}function kn(t){return g(()=>{const e=t.prototype.constructor,n=e[X]||jn(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[X]||jn(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function Rn(t){return t.ngDebugContext}function Nn(t){return t.ngOriginalError}function Pn(t,...e){t.error(...e)}class Dn{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||Pn}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?Rn(t)?Rn(t):this._findContext(Nn(t)):null}_findOriginalError(t){let e=Nn(t);for(;e&&Nn(e);)e=Nn(e);return e}}class Ln{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}class Fn extends Ln{getTypeName(){return"HTML"}}class Mn extends Ln{getTypeName(){return"Style"}}class Un extends Ln{getTypeName(){return"Script"}}class Vn extends Ln{getTypeName(){return"URL"}}class qn extends Ln{getTypeName(){return"ResourceURL"}}function Bn(t){return t instanceof Ln?t.changingThisBreaksApplicationSecurity:t}function zn(t,e){const n=Hn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see http://g.co/ng/security#xss)`)}return n===e}function Hn(t){return t instanceof Ln&&t.getTypeName()||null}function Gn(t){return new Fn(t)}function $n(t){return new Mn(t)}function Wn(t){return new Un(t)}function Kn(t){return new Vn(t)}function Qn(t){return new qn(t)}let Yn=!0,Xn=!1;function Zn(){return Xn=!0,Yn}function Jn(){if(Xn)throw new Error("Cannot enable prod mode after platform setup.");Yn=!1}class tr{getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(e){return null}}}class er{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=t,e;const n=this.inertDocument.createElement("body");return n.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const nr=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,rr=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function ir(t){return(t=String(t)).match(nr)||t.match(rr)?t:(Zn()&&console.warn(`WARNING: sanitizing unsafe URL value ${t} (see http://g.co/ng/security#xss)`),"unsafe:"+t)}function sr(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function or(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const ar=sr("area,br,col,hr,img,wbr"),ur=sr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),cr=sr("rp,rt"),lr=or(cr,ur),hr=or(ar,or(ur,sr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),or(cr,sr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),lr),fr=sr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),dr=sr("srcset"),pr=or(fr,dr,sr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),sr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),gr=sr("script,style,template");class mr{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!hr.hasOwnProperty(e))return this.sanitizedSomething=!0,!gr.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,s=e.toLowerCase();if(!pr.hasOwnProperty(s)){this.sanitizedSomething=!0;continue}let o=t.value;fr[s]&&(o=ir(o)),dr[s]&&(r=o,o=(r=String(r)).split(",").map(t=>ir(t.trim())).join(", ")),this.buf.push(" ",e,'="',br(o),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();hr.hasOwnProperty(e)&&!ar.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(br(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}const yr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,vr=/([^\#-~ |!])/g;function br(t){return t.replace(/&/g,"&amp;").replace(yr,(function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"})).replace(vr,(function(t){return"&#"+t.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let _r;function wr(t,e){let n=null;try{_r=_r||function(t){return function(){try{return!!(new window.DOMParser).parseFromString("","text/html")}catch(t){return!1}}()?new tr:new er(t)}(t);let r=e?String(e):"";n=_r.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=_r.getInertBodyElement(r)}while(r!==s);const o=new mr,a=o.sanitizeChildren(Er(n)||n);return Zn()&&o.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n){const t=Er(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function Er(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Or=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function Sr(t){const e=function(){const t=Se();return t&&t[12]}();return e?e.sanitize(Or.URL,t)||"":zn(t,"URL")?Bn(t):ir(Yt(t))}function Tr(t,e){t.__ngContext__=e}function Cr(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const xr="ng-template";function Ir(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==Cr(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function Ar(t){return 0===t.type&&t.tagName!==xr}function jr(t,e,n){return e===(0!==t.type||n?t.tagName:xr)}function kr(t,e,n){let r=4;const i=t.attrs||[],s=function(t){for(let e=0;e<t.length;e++)if(an(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!jr(t,u,n)||""===u&&1===e.length){if(Rr(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!Ir(t.attrs,c,n)){if(Rr(r))return!1;o=!0}continue}const l=Nr(8&r?"class":u,i,Ar(t),n);if(-1===l){if(Rr(r))return!1;o=!0;continue}if(""!==c){let t;t=l>s?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==Cr(e,c,0)||2&r&&c!==t){if(Rr(r))return!1;o=!0}}}}else{if(!o&&!Rr(r)&&!Rr(u))return!1;if(o&&Rr(u))continue;o=!1,r=u|1&r}}return Rr(r)||o}function Rr(t){return 0==(1&t)}function Nr(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function Pr(t,e,n=!1){for(let r=0;r<e.length;r++)if(kr(t,e[r],n))return!0;return!1}function Dr(t,e){t:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let e=0;e<t.length;e++)if(t[e]!==r[e])continue t;return!0}}return!1}function Lr(t,e){return t?":not("+e.trim()+")":e}function Fr(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const e=t[++n];i+="["+o+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""===i||Rr(o)||(e+=Lr(s,i),i=""),r=o,s=s||!Rr(r);n++}return""!==i&&(e+=Lr(s,i)),e}const Mr={};function Ur(t){const e=t[3];return Ht(e)?e[3]:e}function Vr(t){return Br(t[13])}function qr(t){return Br(t[4])}function Br(t){for(;null!==t&&!Ht(t);)t=t[4];return t}function zr(t){Hr(Te(),Se(),Ke()+t,ke())}function Hr(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&Ze(e,r,n)}else{const r=t.preOrderHooks;null!==r&&Je(e,r,0,n)}Qe(n)}function Gr(t,e){return t<<17|e<<2}function $r(t){return t>>17&32767}function Wr(t){return 2|t}function Kr(t){return(131068&t)>>2}function Qr(t,e){return-131069&t|e<<2}function Yr(t){return 1|t}function Xr(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const n=t.data[s];Ve(i),n.contentQueries(2,e[s],s)}}}function Zr(t,e,n){return ce(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function Jr(t,e,n,r,i,s,o,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,_e(l),l[3]=l[15]=t,l[8]=n,l[10]=o||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=s,l[16]=2==e.type?t[16]:l,l}function ti(t,e,n,r,i){const s=e+qt,o=t.data[s]||function(t,e,n,r,i){const s=xe(),o=Ae(),a=t.data[e]=function(t,e,n,r,i,s){return{type:n,index:r,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==s&&(o&&null==s.child&&null!==a.parent?s.child=a:o||(s.next=a)),a}(t,s,n,r,i);return Ie(o,!0),o}function ei(t,e,n){Be(e);try{const r=t.viewQuery;null!==r&&ki(1,r,n);const i=t.template;null!==i&&ii(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Xr(t,e),t.staticViewQueries&&ki(2,t.viewQuery,n);const s=t.components;null!==s&&function(t,e){for(let n=0;n<e.length;n++)Ci(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,We()}}function ni(t,e,n,r){const i=e[2];if(256==(256&i))return;Be(e);const s=ke();try{_e(e),Ee.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&ii(t,e,n,2,r);const o=3==(3&i);if(!s)if(o){const n=t.preOrderCheckHooks;null!==n&&Ze(e,n,null)}else{const n=t.preOrderHooks;null!==n&&Je(e,n,0,null),tn(e,0)}if(function(t){for(let e=Vr(t);null!==e;e=qr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&we(r,1),n[2]|=1024}}}(e),function(t){for(let e=Vr(t);null!==e;e=qr(e))for(let t=Bt;t<e.length;t++){const n=e[t],r=n[1];ve(n)&&ni(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&Xr(t,e),!s)if(o){const n=t.contentCheckHooks;null!==n&&Ze(e,n)}else{const n=t.contentHooks;null!==n&&Je(e,n,1),tn(e,1)}!function(t,e){try{const n=t.expandoInstructions;if(null!==n){let r=t.expandoStartIndex,i=-1,s=-1;for(let t=0;t<n.length;t++){const o=n[t];"number"==typeof o?o<=0?(s=0-o,Qe(s),r+=9+n[++t],i=r):r+=o:(null!==o&&(Le(r,i),o(2,e[i])),i++)}}}finally{Qe(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)Ti(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&ki(2,u,r),!s)if(o){const n=t.viewCheckHooks;null!==n&&Ze(e,n)}else{const n=t.viewHooks;null!==n&&Je(e,n,2),tn(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,we(e[3],-1))}finally{We()}}function ri(t,e,n,r){const i=e[10],s=!ke(),o=ye(e);try{s&&!o&&i.begin&&i.begin(),o&&ei(t,e,r),ni(t,e,n,r)}finally{s&&!o&&i.end&&i.end()}}function ii(t,e,n,r,i){const s=Ke();try{Qe(-1),2&r&&e.length>qt&&Hr(t,e,0,ke()),n(r,i)}finally{Qe(s)}}function si(t,e,n){Oe()&&(function(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||yn(n,e),Tr(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const r=t.data[a],s=Kt(r);s&&wi(e,n,r);const u=Cn(e,t,a,n);Tr(u,e),null!==o&&Ei(0,a-i,u,r,0,o),s&&(ge(n.index,e)[8]=u)}}(t,e,n,de(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=t.expandoInstructions,o=t.firstCreatePass,a=n.index-qt,u=Ee.lFrame.currentDirectiveIndex;try{Qe(a);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];Fe(n),null!==r.hostBindings||0!==r.hostVars||null!==r.hostAttrs?gi(r,i):o&&s.push(null)}}finally{Qe(-1),Fe(u)}}(t,e,n))}function oi(t,e,n=de){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function ai(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=ui(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function ui(t,e,n,r,i,s,o,a,u,c){const l=qt+r,h=l+i,f=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:Mr);return n}(l,h),d="function"==typeof c?c():c;return f[1]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:d,incompleteFirstPass:!1}}function ci(t,e,n,r){const i=Ni(e);i.push(n),t.firstCreatePass&&function(t){return t.cleanup||(t.cleanup=[])}(t).push(r,i.length-1)}function li(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function hi(t,e,n,r,i,s,o,a){const u=de(e,n);let c,l=e.inputs;!a&&null!=l&&(c=l[r])?(Li(t,n,c,r,i),$t(e)&&function(t,e){const n=ge(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):2===e.type&&(r=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.tagName||"",r):i,ce(s)?s.setProperty(u,r,i):un(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function fi(t,e,n,r){let i=!1;if(Oe()){const s=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];Pr(n,o.selectors,!1)&&(i||(i=[]),wn(yn(n,e),t,o.type),Kt(o)?(yi(t,n),i.unshift(o)):i.push(o))}return i}(t,e,n),o=null===r?null:{"":-1};if(null!==s){let r=0;i=!0,bi(n,t.data.length,s.length);for(let t=0;t<s.length;t++){const e=s[t];e.providersResolver&&e.providersResolver(e)}mi(t,n,s.length);let a=!1,u=!1;for(let i=0;i<s.length;i++){const c=s[i];n.mergedAttrs=cn(n.mergedAttrs,c.hostAttrs),_i(t,e,c),vi(t.data.length-1,c,o),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!a&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index-qt),a=!0),u||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index-qt),u=!0),di(t,c),r+=c.hostVars}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,s=[];let o=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,c=null===i||Ar(e)?null:Oi(n,i);s.push(c),o=li(n,u,o),a=li(t.outputs,u,a)}null!==o&&(o.hasOwnProperty("class")&&(e.flags|=16),o.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=o,e.outputs=a}(t,n),pi(t,e,r)}o&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new Error(`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,o)}return n.mergedAttrs=cn(n.mergedAttrs,n.attrs),i}function di(t,e){const n=t.expandoInstructions;n.push(e.hostBindings),0!==e.hostVars&&n.push(e.hostVars)}function pi(t,e,n){for(let r=0;r<n;r++)e.push(Mr),t.blueprint.push(Mr),t.data.push(null)}function gi(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function mi(t,e,n){const r=qt-e.index,i=t.data.length-(1048575&e.providerIndexes);(t.expandoInstructions||(t.expandoInstructions=[])).push(r,i,n)}function yi(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function vi(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Kt(e)&&(n[""]=t)}}function bi(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function _i(t,e,n){t.data.push(n);const r=n.factory||(n.factory=Ut(n.type)),i=new sn(r,Kt(n),null);t.blueprint.push(i),e.push(i)}function wi(t,e,n){const r=de(e,t),i=ai(n),s=t[10],o=xi(t,Jr(t,i,null,n.onPush?64:16,r,e,s,s.createRenderer(r,n),null,null));t[e.index]=o}function Ei(t,e,n,r,i,s){const o=s[e];if(null!==o){const t=r.setInput;for(let e=0;e<o.length;){const i=o[e++],s=o[e++],a=o[e++];null!==t?r.setInput(n,a,i,s):n[s]=a}}}function Oi(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function Si(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function Ti(t,e){const n=ge(e,t);if(ve(n)){const t=n[1];80&n[2]?ni(t,n,t.template,n[8]):n[5]>0&&function t(e){for(let r=Vr(e);null!==r;r=qr(r))for(let e=Bt;e<r.length;e++){const n=r[e];if(1024&n[2]){const t=n[1];ni(t,n,t.template,n[8])}else n[5]>0&&t(n)}const n=e[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=ge(n[r],e);ve(i)&&i[5]>0&&t(i)}}(n)}}function Ci(t,e){const n=ge(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),ei(r,n,n[8])}function xi(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Ii(t){for(;t;){t[2]|=64;const e=Ur(t);if(Qt(t)&&!e)return t;t=e}return null}function Ai(t,e,n){const r=e[10];r.begin&&r.begin();try{ni(t,e,t.template,n)}catch(i){throw Di(e,i),i}finally{r.end&&r.end()}}function ji(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=me(n),i=r[1];ri(i,r,i.template,n)}}(t[8])}function ki(t,e,n){Ve(0),e(t,n)}const Ri=(()=>Promise.resolve(null))();function Ni(t){return t[7]||(t[7]=[])}function Pi(t,e,n){return(null===t||Kt(t))&&(n=function(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(n[e.index])),n[11]}function Di(t,e){const n=t[9],r=n?n.get(Dn,null):null;r&&r.handleError(e)}function Li(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],u=e[o],c=t.data[o];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function Fi(t,e,n){const r=fe(e,t),i=t[11];ce(i)?i.setValue(r,n):r.textContent=n}function Mi(t,e,n,r,i){if(null!=r){let s,o=!1;Ht(r)?s=r:zt(r)&&(o=!0,r=r[0]);const a=he(r);0===t&&null!==n?null==i?Gi(e,n,a):Hi(e,n,a,i||null):1===t&&null!==n?Hi(e,n,a,i||null):2===t?function(t,e,n){const r=Wi(t,e);r&&function(t,e,n,r){ce(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function(t,e,n,r,i){const s=n[7];s!==he(n)&&Mi(e,t,r,s,i);for(let o=Bt;o<n.length;o++){const i=n[o];Xi(i[1],i,t,e,r,s)}}(e,t,s,n,i)}}function Ui(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,we(i,-1)),n.splice(r,1)}function Vi(t,e){if(t.length<=Bt)return;const n=Bt+e,r=t[n];if(r){const s=r[17];null!==s&&s!==t&&Ui(s,r),e>0&&(t[n-1][4]=r[4]);const o=bt(t,Bt+e);Xi(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=o[19];null!==a&&a.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function qi(t,e){if(!(256&e[2])){const n=e[11];ce(n)&&n.destroyNode&&Xi(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Bi(t[1],t);for(;e;){let n=null;if(zt(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)zt(e)&&Bi(e[1],e),e=e[3];null===e&&(e=t),zt(e)&&Bi(e[1],e),n=e&&e[4]}e=n}}(e)}}function Bi(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof sn)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup;if(null!==n){const t=e[7];for(let r=0;r<n.length-1;r+=2)if("string"==typeof n[r]){const i=n[r+1],s="function"==typeof i?i(e):he(e[i]),o=t[n[r+2]],a=n[r+3];"boolean"==typeof a?s.removeEventListener(n[r],o,a):a>=0?t[a]():t[-a].unsubscribe(),r+=2}else n[r].call(t[n[r+1]]);e[7]=null}}(t,e),1===e[1].type&&ce(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&Ht(e[3])){n!==e[3]&&Ui(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function zi(t,e,n){let r=e.parent;for(;null!=r&&(3===r.type||4===r.type);)r=(e=r).parent;if(null===r)return n[0];if(e&&4===e.type&&4&e.flags)return de(e,n).parentNode;if(2&r.flags){const e=t.data,n=e[e[r.index].directiveStart].encapsulation;if(n!==Tt.ShadowDom&&n!==Tt.Native)return null}return de(r,n)}function Hi(t,e,n,r){ce(t)?t.insertBefore(e,n,r):e.insertBefore(n,r,!0)}function Gi(t,e,n){ce(t)?t.appendChild(e,n):e.appendChild(n)}function $i(t,e,n,r){null!==r?Hi(t,e,n,r):Gi(t,e,n)}function Wi(t,e){return ce(t)?t.parentNode(e):e.parentNode}function Ki(t,e){return 3===t.type||4===t.type?de(t,e):null}function Qi(t,e,n,r){const i=zi(t,r,e);if(null!=i){const t=e[11],s=Ki(r.parent||e[6],e);if(Array.isArray(n))for(let e=0;e<n.length;e++)$i(t,i,n[e],s);else $i(t,i,n,s)}}function Yi(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;o&&0===e&&(a&&Tr(he(a),r),n.flags|=4),64!=(64&n.flags)&&(3===u||4===u?(Yi(t,e,n.child,r,i,s,!1),Mi(e,t,i,a,s)):1===u?Zi(t,e,r,n,i,s):Mi(e,t,i,a,s)),n=o?n.projectionNext:n.next}}function Xi(t,e,n,r,i,s){Yi(n,r,t.firstChild,e,i,s,!1)}function Zi(t,e,n,r,i,s){const o=n[16],a=o[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)Mi(e,t,i,a[u],s);else Yi(t,e,a,o[3],i,s,!0)}function Ji(t,e,n){ce(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function ts(t,e,n){ce(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}class es{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._viewContainerRef=null}get rootNodes(){const t=this._lView,e=t[1];return function t(e,n,r,i,s=!1){for(;null!==r;){const o=n[r.index];if(null!==o&&i.push(he(o)),Ht(o))for(let e=Bt;e<o.length;e++){const n=o[e],r=n[1].firstChild;null!==r&&t(n[1],n,r,i)}const a=r.type;if(3===a||4===a)t(e,n,r.child,i);else if(1===a){const e=n[16],s=e[6].projection[r.projection];if(Array.isArray(s))i.push(...s);else{const n=Ur(e);t(n[1],n,s,i,!0)}}r=s?r.projectionNext:r.next}return i}(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}qi(this._lView[1],this._lView)}onDestroy(t){ci(this._lView[1],this._lView,null,t)}markForCheck(){Ii(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Ai(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Re(!0);try{Ai(t,e,n)}finally{Re(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}detachFromAppRef(){var t;this._appRef=null,Xi(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class ns extends es{constructor(t){super(t),this._view=t}detectChanges(){ji(this._view)}checkNoChanges(){!function(t){Re(!0);try{ji(t)}finally{Re(!1)}}(this._view)}get context(){return null}}let rs,is,ss;function os(t,e,n){return rs||(rs=class extends t{}),new rs(de(e,n))}function as(t,e,n,r){return is||(is=class extends t{constructor(t,e,n){super(),this._declarationView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=Jr(this._declarationView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationView[this._declarationTContainer.index];const r=this._declarationView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),ei(e,n,t),new es(n)}}),0===n.type?new is(r,n,os(e,n,r)):null}function us(t,e,n,r){let i;ss||(ss=class extends t{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostView=n}get element(){return os(e,this._hostTNode,this._hostView)}get injector(){return new An(this._hostTNode,this._hostView)}get parentInjector(){const t=_n(this._hostTNode,this._hostView);if(hn(t)){const e=dn(t,this._hostView),n=fn(t);return new An(e[1].data[n+8],e)}return new An(null,this._hostView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){return null!==this._lContainer[8]&&this._lContainer[8][t]||null}get length(){return this._lContainer.length-Bt}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const s=n||this.parentInjector;if(!i&&null==t.ngModule&&s){const t=s.get(gt,null);t&&(i=t)}const o=t.create(s,r,void 0,i);return this.insert(o.hostView,e),o}insert(t,e){const n=t._lView,r=n[1];if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),Ht(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new ss(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),s=this._lContainer;!function(t,e,n,r){const i=Bt+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-Bt?(e[4]=n[i],vt(n,Bt+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,s,i);const o=function t(e,n){const r=Bt+e+1;if(r<n.length){const e=n[r],i=e[1].firstChild;if(null!==i)return function e(n,r){if(null!==r){const i=r.type;if(2===i)return de(r,n);if(0===i)return t(-1,n[r.index]);if(3===i||4===i){const i=r.child;if(null!==i)return e(n,i);{const e=n[r.index];return Ht(e)?t(-1,e):he(e)}}{const t=n[16],i=t[6],s=Ur(t),o=i.projection[r.projection];return null!=o?e(s,o):e(n,r.next)}}return null}(e,i)}return n[7]}(i,s),a=n[11],u=Wi(a,s[7]);return null!==u&&function(t,e,n,r,i,s){r[0]=i,r[6]=e,Xi(t,r,n,1,i,s)}(r,s[6],a,n,u,o),t.attachToViewContainerRef(this),vt(s[8],i,t),t}move(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(t,e)}indexOf(t){const e=this._lContainer[8];return null!==e?e.indexOf(t):-1}remove(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1),n=Vi(this._lContainer,e);n&&(bt(this._lContainer[8],e),qi(n[1],n))}detach(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1),n=Vi(this._lContainer,e);return n&&null!=bt(this._lContainer[8],e)?new es(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}allocateContainerIfNeeded(){null===this._lContainer[8]&&(this._lContainer[8]=[])}});const s=r[n.index];if(Ht(s))i=s;else{let t;if(3===n.type)t=he(s);else if(t=r[11].createComment(""),Qt(r)){const e=r[11],i=de(n,r);Hi(e,Wi(e,i),t,function(t,e){return ce(t)?t.nextSibling(e):e.nextSibling}(e,i))}else Qi(r[1],r,t,n);r[n.index]=i=Si(s,r,t,n),xi(r,i)}return new ss(i,n,r)}function cs(t=!1){return function(t,e,n){if(!n&&$t(t)){const n=ge(t.index,e);return new es(n,n)}return 2===t.type||0===t.type||3===t.type||4===t.type?new es(e[16],e):null}(xe(),Se(),t)}let ls=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>hs(),t})();const hs=cs,fs=Function,ds=new J("Set Injector scope."),ps={},gs={},ms=[];let ys=void 0;function vs(){return void 0===ys&&(ys=new pt),ys}function bs(t,e=null,n=null,r){return new _s(t,n,e||vs(),r)}class _s{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&yt(e,n=>this.processProvider(n,t,e)),yt([t],t=>this.processInjectorType(t,[],i)),this.records.set(tt,Os(void 0,this));const s=this.records.get(ds);this.scope=null!=s?s.value:null,this.source=r||("object"==typeof t?null:D(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=et,n=E.Default){this.assertNotDestroyed();const r=at(this);try{if(!(n&E.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof J)&&x(t);e=n&&this.injectableDefInScope(n)?Os(ws(t),ps):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&E.Self?vs():this.parent).get(t,e=n&E.Optional&&e===et?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(D(t)),r)throw s;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[rt]&&i.unshift(e[rt]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=D(e);if(Array.isArray(e))i=e.map(D).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):D(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(nt,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(s,t,"R3InjectorError",this.source)}throw s}finally{at(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(D(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=U(t)))return!1;let r=A(t);const i=null==r&&t.ngModule||void 0,s=void 0===i?t:i,o=-1!==n.indexOf(s);if(void 0!==i&&(r=A(i)),null==r)return!1;if(null!=r.imports&&!o){let t;n.push(s);try{yt(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];yt(r,t=>this.processProvider(t,n,r||ms))}}this.injectorDefTypes.add(s),this.records.set(s,Os(r.factory,ps));const a=r.providers;if(null!=a&&!o){const e=t;yt(a,t=>this.processProvider(t,e,a))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=Ts(t=U(t))?t:U(t&&t.provide);const i=function(t,e,n){return Ss(t)?Os(void 0,t.useValue):Os(Es(t),ps)}(t);if(Ts(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=Os(void 0,ps,!0),e.factory=()=>dt(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===ps&&(e.value=gs,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function ws(t){const e=x(t),n=null!==e?e.factory:Ut(t);if(null!==n)return n;const r=A(t);if(null!==r)return r.factory;if(t instanceof J)throw new Error(`Token ${D(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=_t(e,"?");throw new Error(`Can't resolve all parameters for ${D(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[j]||t[N]||t[R]&&t[R]());if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function Es(t,e,n){let r=void 0;if(Ts(t)){const e=U(t);return Ut(e)||ws(e)}if(Ss(t))r=()=>U(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...dt(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>lt(U(t.useExisting));else{const e=U(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return Ut(e)||ws(e);r=()=>new e(...dt(t.deps))}var i;return r}function Os(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Ss(t){return null!==t&&"object"==typeof t&&it in t}function Ts(t){return"function"==typeof t}const Cs=function(t,e,n){return function(t,e=null,n=null,r){const i=bs(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let xs=(()=>{class t{static create(t,e){return Array.isArray(t)?Cs(t,e,""):Cs(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=et,t.NULL=new pt,t.\u0275prov=T({token:t,providedIn:"any",factory:()=>lt(tt)}),t.__NG_ELEMENT_ID__=-1,t})();const Is=new J("AnalyzeForEntryComponents");function As(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const t=e[o];"number"==typeof t?s=t:1==s?i=L(i,t):2==s&&(r=L(r,t+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function js(t,e){const n=me(t)[1],r=n.data.length-1;Xe(n,{directiveStart:r,directiveEnd:r+1})}function ks(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i=void 0;if(Kt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=Rs(t.inputs),e.declaredInputs=Rs(t.declaredInputs),e.outputs=Rs(t.outputs);const n=i.hostBindings;n&&Ds(t,n);const s=i.viewQuery,o=i.contentQueries;if(s&&Ns(t,s),o&&Ps(t,o),S(t.inputs,i.inputs),S(t.declaredInputs,i.declaredInputs),S(t.outputs,i.outputs),Kt(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===ks&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=cn(i.hostAttrs,n=cn(n,i.hostAttrs))}}(r)}function Rs(t){return t===Ct?{}:t===xt?[]:t}function Ns(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function Ps(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function Ds(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}let Ls=null;function Fs(){if(!Ls){const t=G.Symbol;if(t&&t.iterator)Ls=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Ls=n)}}}return Ls}class Ms{constructor(t){this.wrapped=t}static wrap(t){return new Ms(t)}static unwrap(t){return Ms.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof Ms}}function Us(t){return!!Vs(t)&&(Array.isArray(t)||!(t instanceof Map)&&Fs()in t)}function Vs(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function qs(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Bs(t,e,n,r){const i=Se();return qs(i,Pe(),e)&&(Te(),function(t,e,n,r,i,s){const o=de(t,e),a=e[11];if(null==r)ce(a)?a.removeAttribute(o,n,s):o.removeAttribute(n);else{const e=null==i?Yt(r):i(r,t.tagName||"",n);ce(a)?a.setAttribute(o,n,e,s):s?o.setAttributeNS(s,n,e):o.setAttribute(n,e)}}(Ye(),i,t,e,n,r)),Bs}function zs(t,e,n,r){return qs(t,Pe(),n)?e+Yt(n)+r:Mr}function Hs(t,e,n,r,i,s,o,a){const u=Se(),c=Te(),l=t+qt,h=c.firstCreatePass?function(t,e,n,r,i,s,o,a,u){const c=e.consts,l=ti(e,t,0,o||null,be(c,a));fi(e,n,l,be(c,u)),Xe(e,l);const h=l.tViews=ui(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(t,c,u,e,n,r,i,s,o):c.data[l];Ie(h,!1);const f=u[11].createComment("");Qi(c,u,f,h),Tr(f,u),xi(u,u[l]=Si(f,u,f,h)),Wt(h)&&si(c,u,h),null!=o&&oi(u,h,a)}function Gs(t,e=E.Default){const n=Se();return null===n?lt(t,e):En(xe(),n,U(t),e)}function $s(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(an(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(xe(),t)}function Ws(t,e,n){const r=Se();return qs(r,Pe(),e)&&hi(Te(),Ye(),r,t,e,r[11],n,!1),Ws}function Ks(t,e,n,r,i){const s=i?"class":"style";Li(t,n,e.inputs[s],s,r)}function Qs(t,e,n,r){const i=Se(),s=Te(),o=qt+t,a=i[11],u=i[o]=Zr(e,a,Ee.lFrame.currentNamespace),c=s.firstCreatePass?function(t,e,n,r,i,s,o){const a=e.consts,u=ti(e,t,2,i,be(a,s));return fi(e,n,u,be(a,o)),null!==u.attrs&&As(u,u.attrs,!1),null!==u.mergedAttrs&&As(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(t,s,i,0,e,n,r):s.data[o];Ie(c,!0);const l=c.mergedAttrs;null!==l&&on(a,u,l);const h=c.classes;null!==h&&ts(a,u,h);const f=c.styles;null!==f&&Ji(a,u,f),Qi(s,i,u,c),0===Ee.lFrame.elementDepthCount&&Tr(u,i),Ee.lFrame.elementDepthCount++,Wt(c)&&(si(s,i,c),function(t,e,n){if(Gt(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}(s,c,i)),null!==r&&oi(i,c)}function Ys(){let t=xe();Ae()?je():(t=t.parent,Ie(t,!1));const e=t;Ee.lFrame.elementDepthCount--;const n=Te();n.firstCreatePass&&(Xe(n,t),Gt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Ks(n,e,Se(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Ks(n,e,Se(),e.stylesWithoutHost,!1)}function Xs(t,e,n,r){Qs(t,e,n,r),Ys()}function Zs(){return Se()}function Js(t){return!!t&&"function"==typeof t.then}function to(t){return!!t&&"function"==typeof t.subscribe}function eo(t,e,n=!1,r){const i=Se(),s=Te(),o=xe();return ro(s,i,i[11],o,t,e,n,r),eo}function no(t,e,n=!1,r){const i=xe(),s=Se(),o=Te();return ro(o,s,Pi(Me(o.data),i,s),i,t,e,n,r),no}function ro(t,e,n,r,i,s,o=!1,a){const u=Wt(r),c=t.firstCreatePass&&(t.cleanup||(t.cleanup=[])),l=Ni(e);let h=!0;if(2===r.type){const f=de(r,e),d=a?a(f):Ct,p=d.target||f,g=l.length,m=a?t=>a(he(t[r.index])).target:r.index;if(ce(n)){let o=null;if(!a&&u&&(o=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const t=i[s];if(t===n&&i[s+1]===r){const t=e[7],n=i[s+2];return t.length>n?t[n]:null}"string"==typeof t&&(s+=2)}return null}(t,e,i,r.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=s,o.__ngLastListenerFn__=s,h=!1;else{s=so(r,e,s,!1);const t=n.listen(d.name||p,i,s);l.push(s,t),c&&c.push(i,m,g,g+1)}}else s=so(r,e,s,!0),p.addEventListener(i,s,o),l.push(s),c&&c.push(i,m,g,o)}const f=r.outputs;let d;if(h&&null!==f&&(d=f[i])){const t=d.length;if(t)for(let n=0;n<t;n+=2){const t=e[d[n]][d[n+1]].subscribe(s),o=l.length;l.push(s,t),c&&c.push(i,r.index,o,-(o+1))}}}function io(t,e,n){try{return!1!==e(n)}catch(r){return Di(t,r),!1}}function so(t,e,n,r){return function i(s){if(s===Function)return n;const o=2&t.flags?ge(t.index,e):e;0==(32&e[2])&&Ii(o);let a=io(e,n,s),u=i.__ngNextListenerFn__;for(;u;)a=io(e,u,s)&&a,u=u.__ngNextListenerFn__;return r&&!1===a&&(s.preventDefault(),s.returnValue=!1),a}}function oo(t=1){return function(t){return(Ee.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Ee.lFrame.contextLView))[8]}(t)}function ao(t,e){let n=null;const r=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?Pr(t,s,!0):Dr(r,s))return i}else n=i}return n}function uo(t){const e=Se()[16][6];if(!e.projection){const n=e.projection=_t(t?t.length:1,null),r=n.slice();let i=e.child;for(;null!==i;){const e=t?ao(i,t):0;null!==e&&(r[e]?r[e].projectionNext=i:n[e]=i,r[e]=i),i=i.next}}}function co(t,e=0,n){const r=Se(),i=Te(),s=ti(i,t,1,null,n||null);null===s.projection&&(s.projection=e),je(),function(t,e,n){Zi(e[11],0,e,n,zi(t,n,e),Ki(n.parent||e[6],e))}(i,r,s)}function lo(t,e,n){return ho(t,"",e,"",n),lo}function ho(t,e,n,r,i){const s=Se(),o=zs(s,e,n,r);return o!==Mr&&hi(Te(),Ye(),s,t,o,s[11],i,!1),ho}const fo=[];function po(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?$r(s):Kr(s),u=!1;for(;0!==a&&(!1===u||o);){const n=t[a+1];go(t[a],e)&&(u=!0,t[a+1]=r?Yr(n):Wr(n)),a=r?$r(n):Kr(n)}u&&(t[n+1]=r?Wr(s):Yr(s))}function go(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&Ot(t,e)>=0}function mo(t,e,n){return vo(t,e,n,!1),mo}function yo(t,e){return vo(t,e,null,!0),yo}function vo(t,e,n,r){const i=Se(),s=Te(),o=De(2);s.firstUpdatePass&&function(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[Ke()+qt],o=function(t,e){return e>=t.expandoStartIndex}(t,n);(function(t,e){return 0!=(t.flags&(e?16:32))})(s,r)&&null===e&&!o&&(e=!1),e=function(t,e,n,r){const i=Me(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=_o(n=bo(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=bo(i,t,e,n,r),null===s){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Kr(r))return t[$r(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=bo(null,t,e,n[1],r),n=_o(n,e.attrs,r),function(t,e,n,r){t[$r(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else s=function(t,e,n){let r=void 0;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=_o(r,t[s].hostAttrs,n);return _o(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=$r(o),u=Kr(o);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||Ot(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const e=$r(t[a+1]);t[r+1]=Gr(e,a),0!==e&&(t[e+1]=Qr(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=Gr(a,0),0!==a&&(t[a+1]=Qr(t[a+1],r)),a=r;else t[r+1]=Gr(u,0),0===a?a=r:t[u+1]=Qr(t[u+1],r),u=r;l&&(t[r+1]=Wr(t[r+1])),po(t,c,r,!0),po(t,c,r,!1),function(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&Ot(s,e)>=0&&(n[r+1]=Yr(n[r+1]))}(e,c,t,r,s),o=Gr(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}(s,t,o,r),e!==Mr&&qs(i,o,e)&&function(t,e,n,r,i,s,o,a){if(2!==e.type)return;const u=t.data,c=u[a+1];Eo(1==(1&c)?wo(u,e,n,i,Kr(c),o):void 0)||(Eo(s)||function(t){return 2==(2&t)}(c)&&(s=wo(u,null,n,i,a,o)),function(t,e,n,r,i){const s=ce(t);if(e)i?s?t.addClass(n,r):n.classList.add(r):s?t.removeClass(n,r):n.classList.remove(r);else{const e=-1==r.indexOf("-")?void 0:2;null==i?s?t.removeStyle(n,r,e):n.style.removeProperty(r):s?t.setStyle(n,r,i,e):n.style.setProperty(r,i)}}(r,o,fe(Ke(),n),i,s))}(s,s.data[Ke()+qt],i,i[11],t,i[o+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=D(Bn(t)))),t}(e,n),r,o)}function bo(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=_o(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function _o(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),wt(t,o,!!n||e[++s]))}return void 0===t?null:t}function wo(t,e,n,r,i,s){const o=null===e;let a=void 0;for(;i>0;){const e=t[i],s=Array.isArray(e),u=s?e[1]:e,c=null===u;let l=n[i+1];l===Mr&&(l=c?fo:void 0);let h=c?Et(l,r):u===r?l:void 0;if(s&&!Eo(h)&&(h=Et(e,r)),Eo(h)&&(a=h,o))return a;const f=t[i+1];i=o?$r(f):Kr(f)}if(null!==e){let t=s?e.residualClasses:e.residualStyles;null!=t&&(a=Et(t,r))}return a}function Eo(t){return void 0!==t}function Oo(t,e=""){const n=Se(),r=Te(),i=t+qt,s=r.firstCreatePass?ti(r,t,2,null,null):r.data[i],o=n[i]=function(t,e){return ce(e)?e.createText(t):e.createTextNode(t)}(e,n[11]);Qi(r,n,o,s),Ie(s,!1)}function So(t){return To("",t,""),So}function To(t,e,n){const r=Se(),i=zs(r,t,e,n);return i!==Mr&&Fi(r,Ke(),i),To}function Co(t,e,n,r,i){const s=Se(),o=function(t,e,n,r,i,s){const o=function(t,e,n,r){const i=qs(t,e,n);return qs(t,e+1,r)||i}(t,Ne(),n,i);return De(2),o?e+Yt(n)+r+Yt(i)+s:Mr}(s,t,e,n,r,i);return o!==Mr&&Fi(s,Ke(),o),Co}function xo(t,e,n){const r=Se();return qs(r,Pe(),e)&&hi(Te(),Ye(),r,t,e,r[11],n,!0),xo}function Io(t,e,n){const r=Se();if(qs(r,Pe(),e)){const i=Te(),s=Ye();hi(i,s,r,t,e,Pi(Me(i.data),s,r),n,!0)}return Io}const Ao=void 0;var jo=["en",[["a","p"],["AM","PM"],Ao],[["AM","PM"],Ao,Ao],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ao,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ao,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ao,"{1} 'at' {0}",Ao],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let ko={};function Ro(t,e,n){"string"!=typeof e&&(n=e,e=t[Fo.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),ko[e]=t,n&&(ko[e][Fo.ExtraData]=n)}function No(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=Lo(e);if(n)return n;const r=e.split("-")[0];if(n=Lo(r),n)return n;if("en"===r)return jo;throw new Error(`Missing locale data for the locale "${t}".`)}function Po(t){return No(t)[Fo.CurrencyCode]||null}function Do(t){return No(t)[Fo.PluralCase]}function Lo(t){return t in ko||(ko[t]=G.ng&&G.ng.common&&G.ng.common.locales&&G.ng.common.locales[t]),ko[t]}var Fo=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const Mo="en-US";let Uo=Mo;function Vo(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error("ASSERTION ERROR: "+t+` [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(Uo=t.toLowerCase().replace(/_/g,"-"))}function qo(t,e,n,r,i){if(t=U(t),Array.isArray(t))for(let s=0;s<t.length;s++)qo(t[s],e,n,r,i);else{const s=Te(),o=Se();let a=Ts(t)?t:U(t.provide),u=Es(t);const c=xe(),l=1048575&c.providerIndexes,h=c.directiveStart,f=c.providerIndexes>>20;if(Ts(t)||!t.multi){const r=new sn(u,i,Gs),d=Ho(a,e,i?l:l+f,h);-1===d?(wn(yn(c,o),s,a),Bo(s,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),o.push(r)):(n[d]=r,o[d]=r)}else{const d=Ho(a,e,l+f,h),p=Ho(a,e,l,l+f),g=d>=0&&n[d],m=p>=0&&n[p];if(i&&!m||!i&&!g){wn(yn(c,o),s,a);const l=function(t,e,n,r,i){const s=new sn(t,n,Gs);return s.multi=[],s.index=e,s.componentProviders=0,zo(s,i,r&&!n),s}(i?$o:Go,n.length,i,r,u);!i&&m&&(n[p].providerFactory=l),Bo(s,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),o.push(l)}else Bo(s,t,d>-1?d:p,zo(n[i?p:d],u,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function Bo(t,e,n,r){const i=Ts(e);if(i||e.useClass){const s=(e.useClass||e).prototype.ngOnDestroy;if(s){const o=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=o.indexOf(n);-1===t?o.push(n,[r,s]):o[t+1].push(r,s)}else o.push(n,s)}}}function zo(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Ho(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Go(t,e,n,r){return Wo(this.multi,[])}function $o(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=Cn(n,n[1],this.providerFactory.index,r);s=e.slice(0,t),Wo(i,s);for(let n=t;n<e.length;n++)s.push(e[n])}else s=[],Wo(i,s);return s}function Wo(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Ko(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=Te();if(r.firstCreatePass){const i=Kt(t);qo(n,r.data,r.blueprint,i,!0),qo(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class Qo{}class Yo{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${D(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let Xo=(()=>{class t{}return t.NULL=new Yo,t})(),Zo=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=()=>Jo(t),t})();const Jo=function(t){return os(t,xe(),Se())};class ta{}var ea=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});let na=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>ra(),t})();const ra=function(){const t=Se(),e=ge(xe().index,t);return function(t){const e=t[11];if(ce(e))return e;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(zt(e)?e:t)};let ia=(()=>{class t{}return t.\u0275prov=T({token:t,providedIn:"root",factory:()=>null}),t})();class sa{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const oa=new sa("10.2.3");class aa{constructor(){}supports(t){return Us(t)}create(t){return new ca(t)}}const ua=(t,e)=>e;class ca{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||ua}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const s=!n||e&&e.currentIndex<da(n,r,i)?e:n,o=da(s,r,i),a=s.currentIndex;if(s===n)r--,n=n._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{i||(i=[]);const t=o-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,s=r+n;e<=s&&s<t&&(i[n]=r+1)}i[s.previousIndex]=e-t}}o!==a&&t(s,o,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Us(t))throw new Error(`Error trying to diff '${D(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),s=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Fs()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),s=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new la(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new fa),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new fa),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class la{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ha{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class fa{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new ha,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function da(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class pa{constructor(){}supports(t){return t instanceof Map||Vs(t)}create(){return new ga}}class ga{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Vs(t)))throw new Error(`Error trying to diff '${D(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new ma(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class ma{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let ya=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new w,new b]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=T({token:t,providedIn:"root",factory:()=>new t([new aa])}),t})(),va=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new w,new b]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=T({token:t,providedIn:"root",factory:()=>new t([new pa])}),t})();const ba=[new pa],_a=new ya([new aa]),wa=new va(ba);let Ea=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Oa(t,Zo),t})();const Oa=function(t,e){return as(t,e,xe(),Se())};let Sa=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Ta(t,Zo),t})();const Ta=function(t,e){return us(t,e,xe(),Se())},Ca={};class xa extends Xo{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=Mt(t);return new ja(e,this.ngModule)}}function Ia(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const Aa=new J("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Zt});class ja extends Qo{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(Fr).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Ia(this.componentDef.inputs)}get outputs(){return Ia(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const s=t.get(n,Ca,i);return s!==Ca||r===Ca?s:e.get(n,r,i)}}}(t,r.injector):t,s=i.get(ta,le),o=i.get(ia,null),a=s.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(ce(t))return t.selectRootElement(e,n===Tt.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Zr(u,s.createRenderer(null,this.componentDef),function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:Zt,clean:Ri,playerHandler:null,flags:0},f=ui(0,null,null,1,0,null,null,null,null,null),d=Jr(null,f,h,l,null,null,s,a,o,i);let p,g;Be(d);try{const t=function(t,e,n,r,i,s){const o=n[1];n[20]=t;const a=ti(o,0,2,null,null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(As(a,u,!0),null!==t&&(on(i,t,u),null!==a.classes&&ts(i,t,a.classes),null!==a.styles&&Ji(i,t,a.styles)));const c=r.createRenderer(t,e),l=Jr(n,ai(e),null,e.onPush?64:16,n[20],a,r,c,null,null);return o.firstCreatePass&&(wn(yn(a,n),o,e.type),yi(o,a),bi(a,n.length,1)),xi(n,l),n[20]=l}(c,this.componentDef,d,s,a);if(c)if(n)on(a,c,["ng-version",oa.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!Rr(i))break;i=s}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&on(a,c,t),e&&e.length>0&&ts(a,c,e.join(" "))}if(g=pe(f,0),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const s=n[1],o=function(t,e,n){const r=xe();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),mi(t,r,1),_i(t,e,n));const i=Cn(e,t,e.length-1,r);Tr(i,e);const s=de(r,e);return s&&Tr(s,e),i}(s,n,e);r.components.push(o),t[8]=o,i&&i.forEach(t=>t(o,e)),e.contentQueries&&e.contentQueries(1,o,n.length-1);const a=xe();if(s.firstCreatePass&&(null!==e.hostBindings||null!==e.hostAttrs)){Qe(a.index-qt);const t=n[1];di(t,e),pi(t,n,e.hostVars),gi(e,o)}return o}(t,this.componentDef,d,h,[js]),ei(f,d,null)}finally{We()}return new ka(this.componentType,p,os(Zo,g,d),d,g)}}class ka extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.destroyCbs=[],this.instance=e,this.hostView=this.changeDetectorRef=new ns(r),this.componentType=t}get injector(){return new An(this._tNode,this._rootLView)}destroy(){this.destroyCbs&&(this.destroyCbs.forEach(t=>t()),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}onDestroy(t){this.destroyCbs&&this.destroyCbs.push(t)}}const Ra=new Map;class Na extends gt{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new xa(this);const n=Vt(t),r=t[Y]||null;r&&Vo(r),this._bootstrapComponents=Jt(n.bootstrap),this._r3Injector=bs(t,e,[{provide:gt,useValue:this},{provide:Xo,useValue:this.componentFactoryResolver}],D(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=xs.THROW_IF_NOT_FOUND,n=E.Default){return t===xs||t===gt||t===tt?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Pa extends mt{constructor(t){super(),this.moduleType=t,null!==Vt(t)&&function(t){const e=new Set;!function t(n){const r=Vt(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${D(e)} vs ${D(e.name)}`)}(i,Ra.get(i),n),Ra.set(i,n));const s=Jt(r.imports);for(const o of s)e.has(o)||(e.add(o),t(o))}(t)}(t)}create(t){return new Na(this.moduleType,t)}}function Da(t,e){const n=Te();let r;const i=t+qt;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new Error(`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=Ut(r.type)),o=ut(Gs);try{const e=gn(!1),r=s();return gn(e),function(t,e,n,r){const i=n+qt;i>=t.data.length&&(t.data[i]=null,t.blueprint[i]=null),e[i]=r}(n,Se(),t,r),r}finally{ut(o)}}function La(t,e,n){const r=Se(),i=function(t,e){return t[e+qt]}(r,t);return function(t,e){return Ms.isWrapped(e)&&(e=Ms.unwrap(e),t[Ne()]=Mr),e}(r,function(t,e){return t[1].data[e+qt].pure}(r,t)?function(t,e,n,r,i,s){const o=e+n;return qs(t,o,i)?function(t,e,n){return t[e]=n}(t,o+1,s?r.call(s,i):r(i)):function(t,e){const n=t[e];return n===Mr?void 0:n}(t,o+1)}(r,function(){const t=Ee.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}(),e,i.transform,n,i):i.transform(n))}const Fa=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,s=t=>null,o=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(s=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(o=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(s=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(o=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const a=super.subscribe(r,s,o);return t instanceof i.a&&t.add(a),a}};function Ma(){return this._results[Fs()]()}class Ua{constructor(){this.dirty=!0,this._results=[],this.changes=new Fa,this.length=0;const t=Fs(),e=Ua.prototype;e[t]||(e[t]=Ma)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=function t(e,n){void 0===n&&(n=e);for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?(n===e&&(n=e.slice(0,r)),t(i,n)):n!==e&&n.push(i)}return n}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Va{constructor(t){this.queryList=t,this.matches=null}clone(){return new Va(this.queryList)}setDirty(){this.queryList.setDirty()}}class qa{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new qa(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==tu(t,e).matches&&this.queries[e].setDirty()}}class Ba{constructor(t,e,n,r=null){this.predicate=t,this.descendants=e,this.isStatic=n,this.read=r}}class za{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new za(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Ha{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Ha(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&3===n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,Ga(e,i)),this.matchTNodeWithReadOption(t,e,Tn(e,t,i,!1,!1))}else n===Ea?0===e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Tn(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===Zo||r===Sa||r===Ea&&0===e.type)this.addMatch(e.index,-2);else{const n=Tn(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Ga(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function $a(t,e,n,r){return-1===n?function(t,e){return 2===t.type||3===t.type?os(Zo,t,e):0===t.type?as(Ea,Zo,t,e):null}(e,t):-2===n?function(t,e,n){return n===Zo?os(Zo,e,t):n===Ea?as(Ea,Zo,e,t):n===Sa?us(Sa,Zo,e,t):void 0}(t,e,r):Cn(t,t[1],n,e)}function Wa(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,s=n.matches,o=[];for(let t=0;t<s.length;t+=2){const i=s[t];o.push(i<0?null:$a(e,r[i],s[t+1],n.metadata.read))}i.matches=o}return i.matches}function Ka(t){const e=Se(),n=Te(),r=Ue();Ve(r+1);const i=tu(n,r);if(t.dirty&&ye(e)===i.metadata.isStatic){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?function t(e,n,r,i){const s=e.queries.getByIndex(r),o=s.matches;if(null!==o){const a=Wa(e,n,s,r);for(let e=0;e<o.length;e+=2){const r=o[e];if(r>0)i.push(a[e/2]);else{const s=o[e+1],a=n[-r];for(let e=Bt;e<a.length;e++){const n=a[e];n[17]===n[3]&&t(n[1],n,s,i)}if(null!==a[9]){const e=a[9];for(let n=0;n<e.length;n++){const r=e[n];t(r[1],r,s,i)}}}}}return i}(n,e,r,[]):Wa(n,e,i,r);t.reset(s),t.notifyOnChanges()}return!0}return!1}function Qa(t,e,n){!function(t,e,n,r,i,s){t.firstCreatePass&&(Ja(t,new Ba(n,r,true,i),-1),t.staticViewQueries=!0),Za(t,e)}(Te(),Se(),t,e,n)}function Ya(t,e,n,r){!function(t,e,n,r,i,s,o,a){t.firstCreatePass&&(Ja(t,new Ba(n,r,false,i),o.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(t.contentQueries.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,a)),Za(t,e)}(Te(),Se(),e,n,r,0,xe(),t)}function Xa(){return t=Se(),e=Ue(),t[19].queries[e].queryList;var t,e}function Za(t,e){const n=new Ua;ci(t,e,n,n.destroy),null===e[19]&&(e[19]=new qa),e[19].queries.push(new Va(n))}function Ja(t,e,n){null===t.queries&&(t.queries=new za),t.queries.track(new Ha(e,n))}function tu(t,e){return t.queries.getByIndex(e)}function eu(t=E.Default){const e=cs(!0);if(null!=e||t&E.Optional)return e;te("ChangeDetectorRef")}const nu=new J("Application Initializer");let ru=(()=>{class t{constructor(t){this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();Js(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(lt(nu,8))},t.\u0275prov=T({token:t,factory:t.\u0275fac}),t})();const iu=new J("AppId"),su={provide:iu,useFactory:function(){return`${ou()}${ou()}${ou()}`},deps:[]};function ou(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const au=new J("Platform Initializer"),uu=new J("Platform ID"),cu=new J("appBootstrapListener");let lu=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=T({token:t,factory:t.\u0275fac}),t})();const hu=new J("LocaleId"),fu=new J("DefaultCurrencyCode");class du{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const pu=function(t){return new Pa(t)},gu=pu,mu=function(t){return Promise.resolve(pu(t))},yu=function(t){const e=pu(t),n=Jt(Vt(t).declarations).reduce((t,e)=>{const n=Mt(e);return n&&t.push(new ja(n)),t},[]);return new du(e,n)},vu=yu,bu=function(t){return Promise.resolve(yu(t))};let _u=(()=>{class t{constructor(){this.compileModuleSync=gu,this.compileModuleAsync=mu,this.compileModuleAndAllComponentsSync=vu,this.compileModuleAndAllComponentsAsync=bu}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=T({token:t,factory:t.\u0275fac}),t})();const wu=(()=>Promise.resolve(0))();function Eu(t){"undefined"==typeof Zone?wu.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Ou{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Fa(!1),this.onMicrotaskEmpty=new Fa(!1),this.onStable=new Fa(!1),this.onError=new Fa(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const n=this;n._nesting=0,n._outer=n._inner=Zone.current,Zone.wtfZoneSpec&&(n._inner=n._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(n._inner=n._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(n._inner=n._inner.fork(Zone.longStackTraceZoneSpec)),n.shouldCoalesceEventChangeDetection=e,n.lastRequestAnimationFrameId=-1,n.nativeRequestAnimationFrame=function(){let t=G.requestAnimationFrame,e=G.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(G,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,xu(t),Cu(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),xu(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,r,i,s,o,a)=>{try{return Iu(t),n.invokeTask(i,s,o,a)}finally{e&&"eventTask"===s.type&&e(),Au(t)}},onInvoke:(e,n,r,i,s,o,a)=>{try{return Iu(t),e.invoke(r,i,s,o,a)}finally{Au(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,xu(t),Cu(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(n)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ou.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ou.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+r,t,Tu,Su,Su);try{return i.runTask(s,e,n)}finally{i.cancelTask(s)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}function Su(){}const Tu={};function Cu(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function xu(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function Iu(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Au(t){t._nesting--,Cu(t)}class ju{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Fa,this.onMicrotaskEmpty=new Fa,this.onStable=new Fa,this.onError=new Fa}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let ku=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ou.assertNotInAngularZone(),Eu(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Eu(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(lt(Ou))},t.\u0275prov=T({token:t,factory:t.\u0275fac}),t})(),Ru=(()=>{class t{constructor(){this._applications=new Map,Lu.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Lu.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=T({token:t,factory:t.\u0275fac}),t})();class Nu{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function Pu(t){Lu=t}let Du,Lu=new Nu;const Fu=new J("AllowMultipleToken");class Mu{constructor(t,e){this.name=t,this.token=e}}function Uu(t,e,n=[]){const r="Platform: "+e,i=new J(r);return(e=[])=>{let s=Vu();if(!s||s.injector.get(Fu,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:ds,useValue:"platform"});!function(t){if(Du&&!Du.destroyed&&!Du.injector.get(Fu,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Du=t.get(qu);const e=t.get(au,null);e&&e.forEach(t=>t())}(xs.create({providers:t,name:r}))}return function(t){const e=Vu();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Vu(){return Du&&!Du.destroyed?Du:null}let qu=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new ju:("zone.js"===t?void 0:t)||new Ou({enableLongStackTrace:Zn(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),r=[{provide:Ou,useValue:n}];return n.run(()=>{const e=xs.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),s=i.injector.get(Dn,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return i.onDestroy(()=>Hu(this._modules,i)),n.runOutsideAngular(()=>n.onError.subscribe({next:t=>{s.handleError(t)}})),function(t,e,n){try{const r=n();return Js(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(s,n,()=>{const t=i.injector.get(ru);return t.runInitializers(),t.donePromise.then(()=>(Vo(i.injector.get(hu,Mo)||Mo),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=Bu({},e);return function(t,e,n){const r=new Pa(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(zu);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${D(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(lt(xs))},t.\u0275prov=T({token:t,factory:t.\u0275fac}),t})();function Bu(t,e){return Array.isArray(e)?e.reduce(Bu,t):Object.assign(Object.assign({},t),e)}let zu=(()=>{class t{constructor(t,e,n,r,i,a){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=a,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Zn(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const c=new s.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),l=new s.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Ou.assertNotInAngularZone(),Eu(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Ou.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(o.a)(c,l.pipe(t=>{return u()((e=p,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,f);return r.source=t,r.subjectFactory=n,r})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof Qo?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(gt),i=n.create(xs.NULL,[],e||n.selector,r);i.onDestroy(()=>{this._unloadComponent(i)});const s=i.injector.get(ku,null);return s&&i.injector.get(Ru).registerApplication(i.location.nativeElement,s),this._loadComponent(i),Zn()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges();if(this._enforceNoNewChanges)for(let t of this._views)t.checkNoChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Hu(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(cu,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),Hu(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(lt(Ou),lt(lu),lt(xs),lt(Dn),lt(Xo),lt(ru))},t.\u0275prov=T({token:t,factory:t.\u0275fac}),t})();function Hu(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Gu{}class $u{}const Wu={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Ku=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||Wu}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>Qu(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>Qu(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(lt(_u),lt($u,8))},t.\u0275prov=T({token:t,factory:t.\u0275fac}),t})();function Qu(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const Yu=function(t){return null},Xu=Uu(null,"core",[{provide:uu,useValue:"unknown"},{provide:qu,deps:[xs]},{provide:Ru,deps:[]},{provide:lu,deps:[]}]),Zu=[{provide:zu,useClass:zu,deps:[Ou,lu,xs,Dn,Xo,ru]},{provide:Aa,deps:[Ou],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:ru,useClass:ru,deps:[[new b,nu]]},{provide:_u,useClass:_u,deps:[]},su,{provide:ya,useFactory:function(){return _a},deps:[]},{provide:va,useFactory:function(){return wa},deps:[]},{provide:hu,useFactory:function(t){return Vo(t=t||"undefined"!=typeof $localize&&$localize.locale||Mo),t},deps:[[new v(hu),new b,new w]]},{provide:fu,useValue:"USD"}];let Ju=(()=>{class t{constructor(t){}}return t.\u0275mod=Nt({type:t}),t.\u0275inj=C({factory:function(e){return new(e||t)(lt(zu))},providers:Zu}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("2fFW"),i=n("NJ4a");const s={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("HDdC"),i=n("quSY");function s(t,e){return new r.a(n=>{const r=new i.a;let s=0;return r.add(e.schedule((function(){s!==t.length?(n.next(t[s++]),n.closed||r.add(this.schedule())):n.complete()}))),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},lJxs:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(t,e))}}class s{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new o(t,this.project,this.thisArg))}}class o extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",(function(){return r}))},ngJS:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},os0x:function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return o})),n.d(e,"d",(function(){return a})),n.d(e,"h",(function(){return u})),n.d(e,"e",(function(){return c})),n.d(e,"f",(function(){return l})),n.d(e,"g",(function(){return h}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var s=function(){return(s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function o(t,e,n,r){return new(n||(n=Promise))((function(i,s){function o(t){try{u(r.next(t))}catch(e){s(e)}}function a(t){try{u(r.throw(t))}catch(e){s(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,a)}u((r=r.apply(t,e||[])).next())}))}function a(t,e){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(a){s=[6,a],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,s=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function l(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(c(arguments[e]));return t}function h(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",(function(){return u})),n.d(e,"a",(function(){return l}));var r=n("7o/Q"),i=n("EY2u"),s=n("LRne"),o=n("HDdC");let a=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(s.a)(this.value);case"E":return t=this.error,new o.a(e=>e.error(t));case"C":return Object(i.b)()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function u(t,e=0){return function(n){return n.lift(new c(t,e))}}class c{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new l(t,this.scheduler,this.delay))}}class l extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(l.dispatch,this.delay,new h(t,this.destination)))}_next(t){this.scheduleMessage(a.createNext(t))}_error(t){this.scheduleMessage(a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(a.createComplete()),this.unsubscribe()}}class h{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}var i;n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return h})),n.d(e,"c",(function(){return f})),n.d(e,"d",(function(){return d}));var s=[],o=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},u=o.INFO,c=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var s=(new Date).toISOString(),o=c[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,r(["["+s+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,s.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],t)),this._logHandler.apply(this,r([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],t)),this._logHandler.apply(this,r([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],t)),this._logHandler.apply(this,r([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],t)),this._logHandler.apply(this,r([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],t)),this._logHandler.apply(this,r([this,o.ERROR],t))},t}();function f(t){s.forEach((function(e){e.setLogLevel(t)}))}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];var a=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:o[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=s;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return y})),n.d(e,"c",(function(){return _})),n.d(e,"d",(function(){return w})),n.d(e,"e",(function(){return i})),n.d(e,"f",(function(){return s})),n.d(e,"g",(function(){return a})),n.d(e,"h",(function(){return l})),n.d(e,"i",(function(){return h})),n.d(e,"j",(function(){return d})),n.d(e,"k",(function(){return p})),n.d(e,"l",(function(){return u})),n.d(e,"m",(function(){return c})),n.d(e,"n",(function(){return f})),n.d(e,"o",(function(){return g}));var r=n("os0x");function i(t){return s(void 0,t)}function s(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=s(t[n],e[n]));return t}var o=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function a(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function u(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(a())}function c(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function l(){return"object"==typeof self&&self.self===self}function h(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function f(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function d(){return a().indexOf("Electron/")>=0}function p(){var t=a();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function g(){return a().indexOf("MSAppHost/")>=0}var m=function(t){function e(n,r,i){var s=t.call(this,r)||this;return s.code=n,s.customData=i,s.name="FirebaseError",Object.setPrototypeOf(s,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,y.prototype.create),s}return Object(r.c)(e,t),e}(Error),y=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,s=this.errors[t],o=s?v(s,r):"Error",a=this.serviceName+": "+o+" ("+i+").",u=new m(i,a,r);return u},t}();function v(t,e){return t.replace(b,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var b=/\{\$([^}]+)}/g;function _(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function w(t,e){var n=new E(t,e);return n.subscribe.bind(n)}var E=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=O),void 0===r.error&&(r.error=O),void 0===r.complete&&(r.complete=O);var s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),s},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function O(){}},qgXg:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return u}));var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var s=n("IjjT");class o extends s.a{}const a=new o(i),u=a},quSY:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("DH7j"),i=n("XoHu"),s=n("n6bG");const o=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:c,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(s.a)(c)){a&&(this._unsubscribe=void 0);try{c.call(this)}catch(h){e=h instanceof o?u(h.errors):[h]}}if(Object(r.a)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof o?e=e.concat(u(h.errors)):e.push(h)}}}if(e)throw new o(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function u(t){return t.reduce((t,e)=>t.concat(e instanceof o?e.errors:e),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return C})),n.d(e,"b",(function(){return b})),n.d(e,"c",(function(){return v})),n.d(e,"d",(function(){return d})),n.d(e,"e",(function(){return y})),n.d(e,"f",(function(){return S})),n.d(e,"g",(function(){return w})),n.d(e,"h",(function(){return p})),n.d(e,"i",(function(){return m})),n.d(e,"j",(function(){return E}));var r=n("qgXg"),i=n("D0XW"),s=n("vkgz"),o=n("tf+s"),a=n("pxpQ"),u=n("fXoL"),c=n("Jgta");function l(){}class h{constructor(t,e=r.b){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule((function(e){r.runGuarded(()=>{t.apply(this,[e])})}),e,n)}}class f{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(s.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class d{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.b))}}function p(t){return function(e){return(e=e.lift(new f(t.ngZone))).pipe(Object(o.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const g=["ngOnDestroy"],m=(t,e,n,r={})=>new Proxy(t,{get:(i,s)=>n.runOutsideAngular(()=>{var i;if(t[s])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(s,t[s]),t[s];if(g.indexOf(s)>-1)return()=>{};const o=e.toPromise().then(t=>{const e=t&&t[s];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>o[e],apply:(t,e,n)=>o.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(s,n,i),i})})})}),y=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},v=new u.q("angularfire2.app.options"),b=new u.q("angularfire2.app.nameOrConfig"),_=new u.P("6.1.3");function w(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const s=c.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>c.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(s.options)&&O("error",`${s.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(o){}return s}const E=()=>{O("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},O=(t,...e)=>{Object(u.W)()&&"undefined"!=typeof console&&console[t](...e)};function S(e,n,r,i,s){const[o,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(o){try{s.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&O("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(u){}return o}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...s]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const T={provide:class{},useFactory:w,deps:[v,u.z,[new u.A,b]]};let C=(()=>{class t{constructor(t){c.a.registerVersion("angularfire",_.full,t.toString()),c.a.registerVersion("angular",u.O.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:v,useValue:e},{provide:b,useValue:n}]}}}return t.\u0275mod=u.Ib({type:t}),t.\u0275inj=u.Hb({factory:function(e){return new(e||t)(u.Rb(u.B))},providers:[T]}),t})()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("HDdC"),i=n("7Hc7"),s=n("Y7HM");class o extends r.a{constructor(t,e=0,n=i.a){super(),this.source=t,this.delayTime=e,this.scheduler=n,(!Object(s.a)(e)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=i.a)}static create(t,e=0,n=i.a){return new o(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(o.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function a(t,e=0){return function(n){return n.lift(new u(t,e))}}class u{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new o(e,this.delay,this.scheduler).subscribe(t)}}},vkgz:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("7o/Q");function i(){}var s=n("n6bG");function o(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}class u extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,Object(s.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i,this._tapError=e.error||i,this._tapComplete=e.complete||i)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("HDdC"),i=n("ngJS"),s=n("jZKg");function o(t,e){return e?Object(s.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",(function(){return r}))},zIRd:function(t,e,n){"use strict";var r,i,s=n("os0x"),o=n("qOnz"),a=n("/6Yf"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new o.b("app","Firebase",c),h="@firebase/app",f="[DEFAULT]",d=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.b("@firebase/app"),g=function(){function t(t,e,n){var r,i,u=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(o.e)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",(function(){return u}),"PUBLIC"));try{for(var c=Object(s.h)(this.firebase_.INTERNAL.components.values()),l=c.next();!l.done;l=c.next())this._addComponent(l.value)}catch(h){r={error:h}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e=f),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=f),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();g.prototype.name&&g.prototype.options||g.prototype.delete||console.log("dc");var m=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var s=i;void 0===s.name&&(s.name=f);var a=s.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(o.c)(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,s,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=d[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&o&&u.push("and"),o&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(u.join(" "))}c(new a.a(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument",{appName:name});Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.0.1",INTERNAL:{registerComponent:c,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||f,!Object(o.c)(e,t))throw l.create("no-app",{appName:t});return e[t]}function c(a){var u,c,h=a.name;if(n.has(h))return p.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===a.type?r[h]:null;if(n.set(h,a),"PUBLIC"===a.type){var f=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[h])throw l.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==a.serviceProps&&Object(o.f)(f,a.serviceProps),r[h]=f,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,h).apply(this,a.multipleInstances?t:[])}}try{for(var d=Object(s.h)(Object.keys(e)),g=d.next();!g.done;g=d.next())e[g.value]._addComponent(a)}catch(m){u={error:m}}finally{try{g&&!g.done&&(c=d.return)&&c.call(d)}finally{if(u)throw u.error}}return"PUBLIC"===a.type?r[h]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}(g);return e.INTERNAL=Object(s.a)(Object(s.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(o.f)(e,t)},createSubscribe:o.d,ErrorFactory:o.b,deepExtend:o.f}),e}(),y=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if(Object(o.h)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var v=self.firebase.SDK_VERSION;v&&v.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=m.initializeApp;m.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(o.m)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),b.apply(void 0,t)};var _=m;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",(function(t){return new y(t)}),"PRIVATE")),t.registerVersion(h,"0.6.13",void 0),t.registerVersion("fire-js","")}(_),e.a=_},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL");const i={apiKey:"AIzaSyDtQfgWoOHmSq5y0wNK8BFYasqmZkJRETE",authDomain:"movies-b501b.firebaseapp.com",databaseURL:"https://movies-b501b.firebaseio.com",projectId:"movies-b501b",storageBucket:"movies-b501b.appspot.com",messagingSenderId:"370015710278",appId:"1:370015710278:web:24155d72e56381295c2e47",measurementId:"G-5BGTLNP3LT"};let s=null;function o(){return s}const a=new r.q("DocumentToken");let u=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Gb)({factory:c,token:t,providedIn:"platform"}),t})();function c(){return Object(r.Rb)(h)}const l=new r.q("Location Initialized");let h=(()=>{class t extends u{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=o().getLocation(),this._history=o().getHistory()}getBaseHrefFromDOM(){return o().getBaseHref(this._doc)}onPopState(t){o().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){o().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){f()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){f()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(a))},t.\u0275prov=Object(r.Gb)({factory:d,token:t,providedIn:"platform"}),t})();function f(){return!!window.history.pushState}function d(){return new h(Object(r.Rb)(a))}function p(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function g(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function m(t){return t&&"?"!==t[0]?"?"+t:t}let y=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Gb)({factory:v,token:t,providedIn:"root"}),t})();function v(t){const e=Object(r.Rb)(a).location;return new _(Object(r.Rb)(u),e&&e.origin||"")}const b=new r.q("appBaseHref");let _=(()=>{class t extends y{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return p(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+m(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+m(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+m(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(u),r.Rb(b,8))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),w=(()=>{class t extends y{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=p(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(u),r.Rb(b,8))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),E=(()=>{class t{constructor(t,e){this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=g(S(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+m(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,S(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(y),r.Rb(u))},t.normalizeQueryParams=m,t.joinWithSlash=p,t.stripTrailingSlash=g,t.\u0275prov=Object(r.Gb)({factory:O,token:t,providedIn:"root"}),t})();function O(){return new E(Object(r.Rb)(y),Object(r.Rb)(u))}function S(t){return t.replace(/\/index.html$/,"")}var T=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({});const C=r.nb;class x{}let I=(()=>{class t extends x{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(C(e||this.locale)(t)){case T.Zero:return"zero";case T.One:return"one";case T.Two:return"two";case T.Few:return"few";case T.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.u))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();class A{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let j=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){Object(r.W)()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}. See https://angular.io/api/common/NgForOf#change-propagation for more information.`),this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new A(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new k(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const s=new k(t,i);e.push(s)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.Q),r.Kb(r.L),r.Kb(r.s))},t.\u0275dir=r.Fb({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class k{constructor(t,e){this.record=t,this.view=e}}class R{createSubscription(t,e){return t.subscribe({next:e,error:t=>{throw t}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class N{createSubscription(t,e){return t.then(e,t=>{throw t})}dispose(t){}onDestroy(t){}}const P=new N,D=new R;let L=(()=>{class t{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,e=>this._updateLatestValue(t,e))}_selectStrategy(e){if(Object(r.sb)(e))return P;if(Object(r.rb)(e))return D;throw n=t,Error(`InvalidPipeArgument: '${e}' for pipe '${Object(r.vb)(n)}'`);var n}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(r.Tb())},t.\u0275pipe=r.Jb({name:"async",type:t,pure:!1}),t})(),F=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[{provide:x,useClass:I}]}),t})(),M=(()=>{class t{}return t.\u0275prov=Object(r.Gb)({token:t,providedIn:"root",factory:()=>new U(Object(r.Rb)(a),window,Object(r.Rb)(r.m))}),t})();class U{constructor(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(this.supportsScrolling()){const e=this.document.getElementById(t)||this.document.getElementsByName(t)[0];e&&this.scrollToElement(e)}}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}supportScrollRestoration(){try{if(!this.window||!this.window.scrollTo)return!1;const t=V(this.window.history)||V(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window.scrollTo}catch(t){return!1}}}function V(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class q extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new q,s||(s=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=z||(z=document.querySelector("base"),z)?z.getAttribute("href"):null;return null==e?null:(n=e,B||(B=document.createElement("a")),B.setAttribute("href",n),"/"===B.pathname.charAt(0)?B.pathname:"/"+B.pathname);var n}resetBaseElement(){z=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}(document.cookie,t)}}let B,z=null;const H=new r.q("TRANSITION_ID"),G=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=o();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[H,a,r.r],multi:!0}];class ${static init(){Object(r.Y)(new $)}addToWindow(t){r.pb.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.pb.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.pb.getAllAngularRootElements=()=>t.getAllRootElements(),r.pb.frameworkStabilizers||(r.pb.frameworkStabilizers=[]),r.pb.frameworkStabilizers.push(t=>{const e=r.pb.getAllAngularTestabilities();let n=e.length,i=!1;const s=function(e){i=i||e,n--,0==n&&t(i)};e.forEach((function(t){t.whenStable(s)}))})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?o().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const W=new r.q("EventManagerPlugins");let K=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error("No event manager plugin found for event "+t)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(W),r.Rb(r.z))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();class Q{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=o().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let Y=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),X=(()=>{class t extends Y{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>o().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(a))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();const Z={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},J=/%COMP%/g;function tt(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?tt(t,i,n):(i=i.replace(J,t),n.push(i))}return n}function et(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let nt=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new rt(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.R.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new it(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case r.R.Native:case r.R.ShadowDom:return new st(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=tt(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(K),r.Rb(X),r.Rb(r.c))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();class rt{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(Z[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=Z[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=Z[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&r.G.DashCase?t.style.setProperty(e,n,i&r.G.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.G.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,et(n)):this.eventManager.addEventListener(t,e,et(n))}}class it extends rt{constructor(t,e,n,r){super(t),this.component=n;const i=tt(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(J,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(J,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class st extends rt{constructor(t,e,n,i){super(t),this.sharedStylesHost=e,this.hostEl=n,this.component=i,this.shadowRoot=i.encapsulation===r.R.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const s=tt(i.id,i.styles,[]);for(let r=0;r<s.length;r++){const t=document.createElement("style");t.textContent=s[r],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let ot=(()=>{class t extends Q{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(a))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();const at=["alt","control","meta","shift"],ut={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ct={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},lt={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let ht=(()=>{class t extends Q{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),s=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>o().onAndCancel(e,i.domEventName,s))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let s="";if(at.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),s+=t+".")}),s+=i,0!=n.length||0===i.length)return null;const o={};return o.domEventName=r,o.fullKey=s,o}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&ct.hasOwnProperty(e)&&(e=ct[e]))}return ut[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),at.forEach(r=>{r!=n&&(0,lt[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(a))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();const ft=[{provide:r.B,useValue:"browser"},{provide:r.C,useValue:function(){q.makeCurrent(),$.init()},multi:!0},{provide:a,useFactory:function(){return Object(r.ub)(document),document},deps:[]}],dt=Object(r.S)(r.X,"browser",ft),pt=[[],{provide:r.ab,useValue:"root"},{provide:r.m,useFactory:function(){return new r.m},deps:[]},{provide:W,useClass:ot,multi:!0,deps:[a,r.z,r.B]},{provide:W,useClass:ht,multi:!0,deps:[a]},[],{provide:nt,useClass:nt,deps:[K,X,r.c]},{provide:r.F,useExisting:nt},{provide:Y,useExisting:X},{provide:X,useClass:X,deps:[a]},{provide:r.M,useClass:r.M,deps:[r.z]},{provide:K,useClass:K,deps:[W,r.z]},[]];let gt=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:H,useExisting:r.c},G]}}}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)(r.Rb(t,12))},providers:pt,imports:[F,r.f]}),t})();"undefined"!=typeof window&&window;var mt=n("LRne"),yt=n("Cfvw"),vt=n("XNiG"),bt=n("9ppp");class _t extends vt.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new bt.a;return this._value}next(t){super.next(this._value=t)}}var wt=n("z+Ro"),Et=n("DH7j"),Ot=n("7o/Q");class St extends Ot.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class Tt extends Ot.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Ct=n("SeVD"),xt=n("HDdC");function It(t,e,n,r,i=new Tt(t,n,r)){if(!i.closed)return e instanceof xt.a?e.subscribe(i):Object(Ct.a)(e)(i)}var At=n("yCtX");const jt={};class kt{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Rt(t,this.resultSelector))}}class Rt extends St{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(jt),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(It(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===jt?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const Nt=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();var Pt=n("EY2u");function Dt(t){return new xt.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(yt.a)(n):Object(Pt.b)()).subscribe(e)})}var Lt=n("lJxs"),Ft=n("bHdf");function Mt(){return Object(Ft.a)(1)}function Ut(t,e){return function(n){return n.lift(new Vt(t,e))}}class Vt{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new qt(t,this.predicate,this.thisArg))}}class qt extends Ot.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}const Bt=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function zt(t){return function(e){return 0===t?Object(Pt.b)():e.lift(new Ht(t))}}class Ht{constructor(t){if(this.total=t,this.total<0)throw new Bt}call(t,e){return e.subscribe(new Gt(t,this.total))}}class Gt extends Ot.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function $t(t=Qt){return e=>e.lift(new Wt(t))}class Wt{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new Kt(t,this.errorFactory))}}class Kt extends Ot.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function Qt(){return new Nt}function Yt(t=null){return e=>e.lift(new Xt(t))}class Xt{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new Zt(t,this.defaultValue))}}class Zt extends Ot.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var Jt=n("SpAZ"),te=n("zx2A");function ee(t,e){return"function"==typeof e?n=>n.pipe(ee((n,r)=>Object(yt.a)(t(n,r)).pipe(Object(Lt.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new ne(t))}class ne{constructor(t){this.project=t}call(t,e){return e.subscribe(new re(t,this.project))}}class re extends te.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new te.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(te.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}function ie(t){return e=>0===t?Object(Pt.b)():e.lift(new se(t))}class se{constructor(t){if(this.total=t,this.total<0)throw new Bt}call(t,e){return e.subscribe(new oe(t,this.total))}}class oe extends Ot.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function ae(...t){return Mt()(Object(mt.a)(...t))}function ue(...t){const e=t[t.length-1];return Object(wt.a)(e)?(t.pop(),n=>ae(t,n,e)):e=>ae(t,e)}function ce(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new le(t,e,n))}}class le{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new he(t,this.accumulator,this.seed,this.hasSeed))}}class he extends Ot.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function fe(t){return function(e){const n=new de(t),r=e.lift(n);return n.caught=r}}class de{constructor(t){this.selector=t}call(t,e){return e.subscribe(new pe(t,this.selector,this.caught))}}class pe extends te.b{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new te.a(this);this.add(r);const i=Object(te.c)(n,r);i!==r&&this.add(i)}}}var ge=n("5+tZ");function me(t,e){return Object(ge.a)(t,e,1)}function ye(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Ut((e,n)=>t(e,n,r)):Jt.a,ie(1),n?Yt(e):$t(()=>new Nt))}var ve=n("vkgz"),be=n("quSY");class _e{constructor(t){this.callback=t}call(t,e){return e.subscribe(new we(t,this.callback))}}class we extends Ot.a{constructor(t,e){super(t),this.add(new be.a(e))}}class Ee{constructor(t,e){this.id=t,this.url=e}}class Oe extends Ee{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Se extends Ee{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Te extends Ee{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ce extends Ee{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class xe extends Ee{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ie extends Ee{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ae extends Ee{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class je extends Ee{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ke extends Ee{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Re{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ne{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Pe{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class De{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Le{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fe{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Me{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Ue="primary";class Ve{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function qe(t){return new Ve(t)}function Be(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function ze(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const e=r[s],n=t[s];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function He(t,e){const n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!Ge(t[i],e[i]))return!1;return!0}function Ge(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function $e(t){return Array.prototype.concat.apply([],t)}function We(t){return t.length>0?t[t.length-1]:null}function Ke(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Qe(t){return Object(r.rb)(t)?t:Object(r.sb)(t)?Object(yt.a)(Promise.resolve(t)):Object(mt.a)(t)}function Ye(t,e,n){return n?function(t,e){return He(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!tn(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Ge(t[n],e[n]))}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,r,i){if(n.segments.length>i.length)return!!tn(n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!tn(n.segments,i))return!1;for(const e in r.children){if(!n.children[e])return!1;if(!t(n.children[e],r.children[e]))return!1}return!0}{const t=i.slice(0,n.segments.length),s=i.slice(n.segments.length);return!!tn(n.segments,t)&&!!n.children.primary&&e(n.children.primary,r,s)}}(e,n,n.segments)}(t.root,e.root)}class Xe{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=qe(this.queryParams)),this._queryParamMap}toString(){return sn.serialize(this)}}class Ze{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Ke(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return on(this)}}class Je{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=qe(this.parameters)),this._parameterMap}toString(){return fn(this)}}function tn(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}function en(t,e){let n=[];return Ke(t.children,(t,r)=>{r===Ue&&(n=n.concat(e(t,r)))}),Ke(t.children,(t,r)=>{r!==Ue&&(n=n.concat(e(t,r)))}),n}class nn{}class rn{parse(t){const e=new yn(t);return new Xe(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`${"/"+function t(e,n){if(!e.hasChildren())return on(e);if(n){const n=e.children.primary?t(e.children.primary,!1):"",r=[];return Ke(e.children,(e,n)=>{n!==Ue&&r.push(`${n}:${t(e,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=en(e,(n,r)=>r===Ue?[t(e.children.primary,!1)]:[`${r}:${t(n,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children.primary?`${on(e)}/${n[0]}`:`${on(e)}/(${n.join("//")})`}}(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${un(e)}=${un(t)}`).join("&"):`${un(e)}=${un(n)}`});return e.length?"?"+e.join("&"):""}(t.queryParams)}${"string"==typeof t.fragment?"#"+encodeURI(t.fragment):""}`}}const sn=new rn;function on(t){return t.segments.map(t=>fn(t)).join("/")}function an(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function un(t){return an(t).replace(/%3B/gi,";")}function cn(t){return an(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ln(t){return decodeURIComponent(t)}function hn(t){return ln(t.replace(/\+/g,"%20"))}function fn(t){return`${cn(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${cn(t)}=${cn(e[t])}`).join("")}`;var e}const dn=/^[^\/()?;=#]+/;function pn(t){const e=t.match(dn);return e?e[0]:""}const gn=/^[^=?&#]+/,mn=/^[^?&#]+/;class yn{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ze([],{}):new Ze([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new Ze(t,e)),n}parseSegment(){const t=pn(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Je(ln(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=pn(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=pn(this.remaining);t&&(n=t,this.capture(n))}t[ln(e)]=ln(n)}parseQueryParam(t){const e=function(t){const e=t.match(gn);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(mn);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=hn(e),i=hn(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=pn(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=Ue);const s=this.parseChildren();e[i]=1===Object.keys(s).length?s.primary:new Ze([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class vn{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=bn(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=bn(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=_n(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return _n(t,this._root).map(t=>t.value)}}function bn(t,e){if(t===e.value)return e;for(const n of e.children){const e=bn(t,n);if(e)return e}return null}function _n(t,e){if(t===e.value)return[e];for(const n of e.children){const r=_n(t,n);if(r.length)return r.unshift(e),r}return[]}class wn{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function En(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class On extends vn{constructor(t,e){super(t),this.snapshot=e,An(this,t)}toString(){return this.snapshot.toString()}}function Sn(t,e){const n=function(t,e){const n=new xn([],{},{},"",{},Ue,e,null,t.root,-1,{});return new In("",new wn(n,[]))}(t,e),r=new _t([new Je("",{})]),i=new _t({}),s=new _t({}),o=new _t({}),a=new _t(""),u=new Tn(r,i,o,a,s,Ue,e,n.root);return u.snapshot=n.root,new On(new wn(u,[]),n)}class Tn{constructor(t,e,n,r,i,s,o,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(Lt.a)(t=>qe(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(Lt.a)(t=>qe(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Cn(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class xn{constructor(t,e,n,r,i,s,o,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=qe(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=qe(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class In extends vn{constructor(t,e){super(e),this.url=t,An(this,e)}toString(){return jn(this._root)}}function An(t,e){e.value._routerState=t,e.children.forEach(e=>An(t,e))}function jn(t){const e=t.children.length>0?` { ${t.children.map(jn).join(", ")} } `:"";return`${t.value}${e}`}function kn(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,He(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),He(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!He(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),He(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Rn(t,e){return He(t.params,e.params)&&function(t,e){return tn(t,e)&&t.every((t,n)=>He(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||Rn(t.parent,e.parent))}function Nn(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Pn(t){return"object"==typeof t&&null!=t&&t.outlets}function Dn(t,e,n,r,i){let s={};return r&&Ke(r,(t,e)=>{s[e]=Array.isArray(t)?t.map(t=>""+t):""+t}),new Xe(n.root===t?e:function t(e,n,r){const i={};return Ke(e.children,(e,s)=>{i[s]=e===n?r:t(e,n,r)}),new Ze(e.segments,i)}(n.root,t,e),s,i)}class Ln{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Nn(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(Pn);if(r&&r!==We(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Fn{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function Mn(t,e,n){if(t||(t=new Ze([],{})),0===t.segments.length&&t.hasChildren())return Un(t,e,n);const r=function(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const e=t.segments[i],o=n[r];if(Pn(o))break;const a=""+o,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!zn(a,u,e))return s;r+=2}else{if(!zn(a,{},e))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new Ze(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new Ze(t.segments.slice(r.pathIndex),t.children),Un(e,0,i)}return r.match&&0===i.length?new Ze(t.segments,{}):r.match&&!t.hasChildren()?Vn(t,e,n):r.match?Un(t,0,i):Vn(t,e,n)}function Un(t,e,n){if(0===n.length)return new Ze(t.segments,{});{const r=function(t){return Pn(t[0])?t[0].outlets:{[Ue]:t}}(n),i={};return Ke(r,(n,r)=>{null!==n&&(i[r]=Mn(t.children[r],e,n))}),Ke(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new Ze(t.segments,i)}}function Vn(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(Pn(s)){const t=qn(s.outlets);return new Ze(r,t)}if(0===i&&Nn(n[0])){r.push(new Je(t.segments[e].path,n[0])),i++;continue}const o=Pn(s)?s.outlets.primary:""+s,a=i<n.length-1?n[i+1]:null;o&&a&&Nn(a)?(r.push(new Je(o,Bn(a))),i+=2):(r.push(new Je(o,{})),i++)}return new Ze(r,{})}function qn(t){const e={};return Ke(t,(t,n)=>{null!==t&&(e[n]=Vn(new Ze([],{}),0,t))}),e}function Bn(t){const e={};return Ke(t,(t,n)=>e[n]=""+t),e}function zn(t,e,n){return t==n.path&&He(e,n.parameters)}class Hn{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),kn(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=En(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),Ke(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet);if(n){const r=En(t),i=t.value.component?n.children:e;Ke(r,(t,e)=>this.deactivateRouteAndItsChildren(t,i)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(t,e,n){const r=En(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new Fe(t.value.snapshot))}),t.children.length&&this.forwardEvent(new De(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(kn(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),Gn(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function Gn(t){kn(t.value),t.children.forEach(Gn)}class $n{constructor(t,e){this.routes=t,this.module=e}}function Wn(t){return"function"==typeof t}function Kn(t){return t instanceof Xe}const Qn=Symbol("INITIAL_VALUE");function Yn(){return ee(t=>function(...t){let e=void 0,n=void 0;return Object(wt.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(Et.a)(t[0])&&(t=t[0]),Object(At.a)(t,n).lift(new kt(e))}(...t.map(t=>t.pipe(ie(1),ue(Qn)))).pipe(ce((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==Qn)return t;if(r===Qn&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||Kn(r))return r}return t},t)},Qn),Ut(t=>t!==Qn),Object(Lt.a)(t=>Kn(t)?t:!0===t),ie(1)))}class Xn{constructor(t){this.segmentGroup=t||null}}class Zn{constructor(t){this.urlTree=t}}function Jn(t){return new xt.a(e=>e.error(new Xn(t)))}function tr(t){return new xt.a(e=>e.error(new Zn(t)))}function er(t){return new xt.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class nr{constructor(t,e,n,i,s){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=t.get(r.x)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,Ue).pipe(Object(Lt.a)(t=>this.createUrlTree(t,this.urlTree.queryParams,this.urlTree.fragment))).pipe(fe(t=>{if(t instanceof Zn)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof Xn)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Ue).pipe(Object(Lt.a)(e=>this.createUrlTree(e,t.queryParams,t.fragment))).pipe(fe(t=>{if(t instanceof Xn)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new Ze([],{[Ue]:t}):t;return new Xe(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(Lt.a)(t=>new Ze([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){return function(t,e){if(0===Object.keys(t).length)return Object(mt.a)({});const n=[],r=[],i={};return Ke(t,(t,s)=>{const o=e(s,t).pipe(Object(Lt.a)(t=>i[s]=t));s===Ue?n.push(o):r.push(o)}),mt.a.apply(null,n.concat(r)).pipe(Mt(),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Ut((e,n)=>t(e,n,r)):Jt.a,zt(1),n?Yt(e):$t(()=>new Nt))}(),Object(Lt.a)(()=>i))}(n.children,(n,r)=>this.expandSegmentGroup(t,e,r,n))}expandSegment(t,e,n,r,i,s){return Object(mt.a)(...n).pipe(me(o=>this.expandSegmentAgainstRoute(t,e,n,o,r,i,s).pipe(fe(t=>{if(t instanceof Xn)return Object(mt.a)(null);throw t}))),ye(t=>!!t),fe((t,n)=>{if(t instanceof Nt||"EmptyError"===t.name){if(this.noLeftoversInUrl(e,r,i))return Object(mt.a)(new Ze([],{}));throw new Xn(e)}throw t}))}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}expandSegmentAgainstRoute(t,e,n,r,i,s,o){return or(r)!==s?Jn(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s):Jn(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?tr(i):this.lineralizeSegments(n,i).pipe(Object(ge.a)(n=>{const i=new Ze(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){const{matched:o,consumedSegments:a,lastChild:u,positionalParamSegments:c}=rr(e,r,i);if(!o)return Jn(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?tr(l):this.lineralizeSegments(r,l).pipe(Object(ge.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),s,!1)))}matchSegmentAgainstRoute(t,e,n,r){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(Lt.a)(t=>(n._loadedConfig=t,new Ze(r,{})))):Object(mt.a)(new Ze(r,{}));const{matched:i,consumedSegments:s,lastChild:o}=rr(e,n,r);if(!i)return Jn(e);const a=r.slice(o);return this.getChildConfig(t,n,r).pipe(Object(ge.a)(t=>{const n=t.module,r=t.routes,{segmentGroup:i,slicedSegments:o}=function(t,e,n,r){return n.length>0&&function(t,e,n){return n.some(n=>sr(t,e,n)&&or(n)!==Ue)}(t,n,r)?{segmentGroup:ir(new Ze(e,function(t,e){const n={};n.primary=e;for(const r of t)""===r.path&&or(r)!==Ue&&(n[or(r)]=new Ze([],{}));return n}(r,new Ze(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some(n=>sr(t,e,n))}(t,n,r)?{segmentGroup:ir(new Ze(t.segments,function(t,e,n,r){const i={};for(const s of n)sr(t,e,s)&&!r[or(s)]&&(i[or(s)]=new Ze([],{}));return Object.assign(Object.assign({},r),i)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,s,a,r);return 0===o.length&&i.hasChildren()?this.expandChildren(n,r,i).pipe(Object(Lt.a)(t=>new Ze(s,t))):0===r.length&&0===o.length?Object(mt.a)(new Ze(s,{})):this.expandSegment(n,i,r,o,Ue,!0).pipe(Object(Lt.a)(t=>new Ze(s.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(mt.a)(new $n(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(mt.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(ge.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(Lt.a)(t=>(e._loadedConfig=t,t))):function(t){return new xt.a(e=>e.error(Be(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(mt.a)(new $n([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return Object(mt.a)(!0);const i=r.map(r=>{const i=t.get(r);let s;if(function(t){return t&&Wn(t.canLoad)}(i))s=i.canLoad(e,n);else{if(!Wn(i))throw new Error("Invalid CanLoad guard");s=i(e,n)}return Qe(s)});return Object(mt.a)(i).pipe(Yn(),Object(ve.a)(t=>{if(!Kn(t))return;const e=Be(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),Object(Lt.a)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(mt.a)(n);if(r.numberOfChildren>1||!r.children.primary)return er(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new Xe(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return Ke(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let s={};return Ke(e.children,(e,i)=>{s[i]=this.createSegmentGroup(t,e,n,r)}),new Ze(i,s)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function rr(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const r=(e.matcher||ze)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function ir(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new Ze(t.segments.concat(e.segments),e.children)}return t}function sr(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function or(t){return t.outlet||Ue}class ar{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class ur{constructor(t,e){this.component=t,this.route=e}}function cr(t,e,n){const r=t._root;return function t(e,n,r,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const o=En(n);return e.children.forEach(e=>{!function(e,n,r,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const o=e.value,a=n?n.value:null,u=r?r.getContext(e.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){const c=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!tn(t.url,e.url);case"pathParamsOrQueryParamsChange":return!tn(t.url,e.url)||!He(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Rn(t,e)||!He(t.queryParams,e.queryParams);case"paramsChange":default:return!Rn(t,e)}}(a,o,o.routeConfig.runGuardsAndResolvers);c?s.canActivateChecks.push(new ar(i)):(o.data=a.data,o._resolvedData=a._resolvedData),t(e,n,o.component?u?u.children:null:r,i,s),c&&u&&u.outlet&&u.outlet.isActivated&&s.canDeactivateChecks.push(new ur(u.outlet.component,a))}else a&&hr(n,u,s),s.canActivateChecks.push(new ar(i)),t(e,null,o.component?u?u.children:null:r,i,s)}(e,o[e.value.outlet],r,i.concat([e.value]),s),delete o[e.value.outlet]}),Ke(o,(t,e)=>hr(t,r.getContext(e),s)),s}(r,e?e._root:null,n,[r.value])}function lr(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function hr(t,e,n){const r=En(t),i=t.value;Ke(r,(t,r)=>{hr(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new ur(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function fr(t,e){return null!==t&&e&&e(new Le(t)),Object(mt.a)(!0)}function dr(t,e){return null!==t&&e&&e(new Pe(t)),Object(mt.a)(!0)}function pr(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(mt.a)(!0);const i=r.map(r=>Dt(()=>{const i=lr(r,e,n);let s;if(function(t){return t&&Wn(t.canActivate)}(i))s=Qe(i.canActivate(e,t));else{if(!Wn(i))throw new Error("Invalid CanActivate guard");s=Qe(i(e,t))}return s.pipe(ye())}));return Object(mt.a)(i).pipe(Yn())}function gr(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>Dt(()=>{const i=e.guards.map(i=>{const s=lr(i,e.node,n);let o;if(function(t){return t&&Wn(t.canActivateChild)}(s))o=Qe(s.canActivateChild(r,t));else{if(!Wn(s))throw new Error("Invalid CanActivateChild guard");o=Qe(s(r,t))}return o.pipe(ye())});return Object(mt.a)(i).pipe(Yn())}));return Object(mt.a)(i).pipe(Yn())}class mr{}class yr{constructor(t,e,n,r,i,s){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=s}recognize(){try{const t=_r(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Ue),n=new xn([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Ue,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new wn(n,e),i=new In(this.url,r);return this.inheritParamsAndData(i._root),Object(mt.a)(i)}catch(t){return new xt.a(e=>e.error(t))}}inheritParamsAndData(t){const e=t.value,n=Cn(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=en(e,(e,n)=>this.processSegmentGroup(t,e,n));return function(t){const e={};t.forEach(t=>{const n=e[t.value.outlet];if(n){const e=n.url.map(t=>t.toString()).join("/"),r=t.value.url.map(t=>t.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${e}' and '${r}'.`)}e[t.value.outlet]=t.value})}(n),n.sort((t,e)=>t.value.outlet===Ue?-1:e.value.outlet===Ue?1:t.value.outlet.localeCompare(e.value.outlet)),n}processSegment(t,e,n,r){for(const s of t)try{return this.processSegmentAgainstRoute(s,e,n,r)}catch(i){if(!(i instanceof mr))throw i}if(this.noLeftoversInUrl(e,n,r))return[];throw new mr}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo)throw new mr;if((t.outlet||Ue)!==r)throw new mr;let i,s=[],o=[];if("**"===t.path){const s=n.length>0?We(n).parameters:{};i=new xn(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Or(t),r,t.component,t,vr(e),br(e)+n.length,Sr(t))}else{const a=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new mr;return{consumedSegments:[],lastChild:0,parameters:{}}}const r=(e.matcher||ze)(n,t,e);if(!r)throw new mr;const i={};Ke(r.posParams,(t,e)=>{i[e]=t.path});const s=r.consumed.length>0?Object.assign(Object.assign({},i),r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:s}}(e,t,n);s=a.consumedSegments,o=n.slice(a.lastChild),i=new xn(s,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Or(t),r,t.component,t,vr(e),br(e)+s.length,Sr(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=_r(e,s,o,a,this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return[new wn(i,t)]}if(0===a.length&&0===c.length)return[new wn(i,[])];const l=this.processSegment(a,u,c,Ue);return[new wn(i,l)]}}function vr(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function br(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function _r(t,e,n,r,i){if(n.length>0&&function(t,e,n){return n.some(n=>wr(t,e,n)&&Er(n)!==Ue)}(t,n,r)){const i=new Ze(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&Er(s)!==Ue){const n=new Ze([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[Er(s)]=n}return i}(t,e,r,new Ze(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>wr(t,e,n))}(t,n,r)){const s=new Ze(t.segments,function(t,e,n,r,i,s){const o={};for(const a of r)if(wr(t,n,a)&&!i[Er(a)]){const n=new Ze([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[Er(a)]=n}return Object.assign(Object.assign({},i),o)}(t,e,n,r,t.children,i));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}const s=new Ze(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function wr(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function Er(t){return t.outlet||Ue}function Or(t){return t.data||{}}function Sr(t){return t.resolve||{}}function Tr(t){return function(e){return e.pipe(ee(e=>{const n=t(e);return n?Object(yt.a)(n).pipe(Object(Lt.a)(()=>e)):Object(yt.a)([e])}))}}class Cr extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}let xr=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Eb({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Lb(0,"router-outlet")},directives:function(){return[qr]},encapsulation:2}),t})();function Ir(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];Ar(r,jr(e,r))}}function Ar(t,e){if(!t)throw new Error(`\n      Invalid configuration of route '${e}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(t))throw new Error(`Invalid configuration of route '${e}': Array cannot be specified`);if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&t.outlet!==Ue)throw new Error(`Invalid configuration of route '${e}': a componentless route without children or loadChildren cannot have a named outlet set`);if(t.redirectTo&&t.children)throw new Error(`Invalid configuration of route '${e}': redirectTo and children cannot be used together`);if(t.redirectTo&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': redirectTo and loadChildren cannot be used together`);if(t.children&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': children and loadChildren cannot be used together`);if(t.redirectTo&&t.component)throw new Error(`Invalid configuration of route '${e}': redirectTo and component cannot be used together`);if(t.path&&t.matcher)throw new Error(`Invalid configuration of route '${e}': path and matcher cannot be used together`);if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error(`Invalid configuration of route '${e}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===t.path&&void 0===t.matcher)throw new Error(`Invalid configuration of route '${e}': routes must have either a path or a matcher specified`);if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error(`Invalid configuration of route '${e}': path cannot start with a slash`);if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error(`Invalid configuration of route '{path: "${e}", redirectTo: "${t.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error(`Invalid configuration of route '${e}': pathMatch can only be set to 'prefix' or 'full'`);t.children&&Ir(t.children,e)}function jr(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:`${t}/${e.path}`:"":t}function kr(t){const e=t.children&&t.children.map(kr),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Ue&&(n.component=xr),n}const Rr=new r.q("ROUTES");class Nr{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(Lt.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new $n($e(r.injector.get(Rr)).map(kr),r)}))}loadModuleFactory(t){return"string"==typeof t?Object(yt.a)(this.loader.load(t)):Qe(t()).pipe(Object(ge.a)(t=>t instanceof r.v?Object(mt.a)(t):Object(yt.a)(this.compiler.compileModuleAsync(t))))}}class Pr{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Dr,this.attachRef=null}}class Dr{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Pr,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class Lr{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Fr(t){throw t}function Mr(t,e,n){return e.parse("/")}function Ur(t,e){return Object(mt.a)(null)}let Vr=(()=>{class t{constructor(t,e,n,i,s,o,a,u){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new vt.a,this.errorHandler=Fr,this.malformedUriErrorHandler=Mr,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Ur,afterPreactivation:Ur},this.urlHandlingStrategy=new Lr,this.routeReuseStrategy=new Cr,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=s.get(r.x),this.console=s.get(r.Z);const c=s.get(r.z);this.isNgZoneEnabled=c instanceof r.z,this.resetConfig(u),this.currentUrlTree=new Xe(new Ze([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Nr(o,a,t=>this.triggerEvent(new Re(t)),t=>this.triggerEvent(new Ne(t))),this.routerState=Sn(this.currentUrlTree,this.rootComponentType),this.transitions=new _t({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(Ut(t=>0!==t.id),Object(Lt.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),ee(t=>{let n=!1,r=!1;return Object(mt.a)(t).pipe(Object(ve.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),ee(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(mt.a)(t).pipe(ee(t=>{const n=this.transitions.getValue();return e.next(new Oe(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?Pt.a:[t]}),ee(t=>Promise.resolve(t)),(r=this.ngModule.injector,i=this.configLoader,s=this.urlSerializer,o=this.config,function(t){return t.pipe(ee(t=>function(t,e,n,r,i){return new nr(t,e,n,r,i).apply()}(r,i,s,t.extractedUrl,o).pipe(Object(Lt.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e})))))}),Object(ve.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return function(s){return s.pipe(Object(ge.a)(s=>function(t,e,n,r,i="emptyOnly",s="legacy"){return new yr(t,e,n,r,i,s).recognize()}(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe(Object(Lt.a)(t=>Object.assign(Object.assign({},s),{targetSnapshot:t})))))}}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(ve.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),Object(ve.a)(t=>{const n=new xe(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,s,o;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:s,extras:o}=t,a=new Oe(n,this.serializeUrl(r),i,s);e.next(a);const u=Sn(r,this.rootComponentType).snapshot;return Object(mt.a)(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},o),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Pt.a}),Tr(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),Object(ve.a)(t=>{const e=new Ie(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(Lt.a)(t=>Object.assign(Object.assign({},t),{guards:cr(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return function(n){return n.pipe(Object(ge.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?Object(mt.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(yt.a)(t).pipe(Object(ge.a)(t=>function(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||0===s.length)return Object(mt.a)(!0);const o=s.map(s=>{const o=lr(s,e,i);let a;if(function(t){return t&&Wn(t.canDeactivate)}(o))a=Qe(o.canDeactivate(t,e,n,r));else{if(!Wn(o))throw new Error("Invalid CanDeactivate guard");a=Qe(o(t,e,n,r))}return a.pipe(ye())});return Object(mt.a)(o).pipe(Yn())}(t.component,t.route,n,e,r)),ye(t=>!0!==t,!0))}(o,r,i,t).pipe(Object(ge.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(yt.a)(e).pipe(me(e=>Object(yt.a)([dr(e.route.parent,r),fr(e.route,r),gr(t,e.path,n),pr(t,e.route,n)]).pipe(Mt(),ye(t=>!0!==t,!0))),ye(t=>!0!==t,!0))}(r,s,t,e):Object(mt.a)(n)),Object(Lt.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))}))}}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(ve.a)(t=>{if(Kn(t.guardsResult)){const e=Be(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}}),Object(ve.a)(t=>{const e=new Ae(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),Ut(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new Te(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),Tr(t=>{if(t.guards.canActivateChecks.length)return Object(mt.a)(t).pipe(Object(ve.a)(t=>{const e=new je(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),ee(t=>{let n=!1;return Object(mt.a)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,function(t){return t.pipe(Object(ge.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(mt.a)(t);let s=0;return Object(yt.a)(n).pipe(me(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(mt.a)({});const s={};return Object(yt.a)(i).pipe(Object(ge.a)(i=>function(t,e,n,r){const i=lr(t,e,r);return Qe(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(ve.a)(t=>{s[i]=t}))),zt(1),Object(ge.a)(()=>Object.keys(s).length===i.length?Object(mt.a)(s):Pt.a))}(t._resolve,t,e,r).pipe(Object(Lt.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Cn(t,n).resolve),null)))}(t.route,e,r,i)),Object(ve.a)(()=>s++),zt(1),Object(ge.a)(e=>s===n.length?Object(mt.a)(t):Pt.a))}))}),Object(ve.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new Te(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Object(ve.a)(t=>{const e=new ke(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),Tr(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),Object(Lt.a)(t=>{const e=function(t,e,n){const r=function t(e,n,r){if(r&&e.shouldReuseRoute(n.value,r.value.snapshot)){const i=r.value;i._futureSnapshot=n.value;const s=function(e,n,r){return n.children.map(n=>{for(const i of r.children)if(e.shouldReuseRoute(i.value.snapshot,n.value))return t(e,n,i);return t(e,n)})}(e,n,r);return new wn(i,s)}{const r=e.retrieve(n.value);if(r){const t=r.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(let r=0;r<e.children.length;++r)t(e.children[r],n.children[r])}(n,t),t}{const r=new Tn(new _t((i=n.value).url),new _t(i.params),new _t(i.queryParams),new _t(i.fragment),new _t(i.data),i.outlet,i.component,i),s=n.children.map(n=>t(e,n));return new wn(r,s)}}var i}(t,e._root,n?n._root:void 0);return new On(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(ve.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(s=this.rootContexts,o=this.routeReuseStrategy,a=t=>this.triggerEvent(t),Object(Lt.a)(t=>(new Hn(o,t.targetRouterState,t.currentRouterState,a).activate(s),t))),Object(ve.a)({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new Te(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new _e(i))),fe(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=Kn(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new Te(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);return this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new Ce(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(s){t.reject(s)}}var i;return Pt.a}));var i,s,o,a}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Ir(t),this.config=t.map(kr),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:i,fragment:s,preserveQueryParams:o,queryParamsHandling:a,preserveFragment:u}=e;Object(r.W)()&&o&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const c=n||this.routerState.root,l=u?this.currentUrlTree.fragment:s;let h=null;if(a)switch(a){case"merge":h=Object.assign(Object.assign({},this.currentUrlTree.queryParams),i);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=i||null}else h=o?this.currentUrlTree.queryParams:i||null;return null!==h&&(h=this.removeEmptyProps(h)),function(t,e,n,r,i){if(0===n.length)return Dn(e.root,e.root,e,r,i);const s=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Ln(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return Ke(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new Ln(n,e,r)}(n);if(s.toRoot())return Dn(e.root,new Ze([],{}),e,r,i);const o=function(t,e,n){if(t.isAbsolute)return new Fn(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new Fn(t,t===e.root,0)}const r=Nn(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Fn(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(s,e,t),a=o.processChildren?Un(o.segmentGroup,o.index,s.commands):Mn(o.segmentGroup,o.index,s.commands);return Dn(o.segmentGroup,a,e,r,i)}(c,this.currentUrlTree,t,h,l)}navigateByUrl(t,e={skipLocationChange:!1}){Object(r.W)()&&this.isNgZoneEnabled&&!r.z.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const n=Kn(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}isActive(t,e){if(Kn(t))return Ye(this.currentUrlTree,t,e);const n=this.parseUrl(t);return Ye(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new Se(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){const s=this.getTransition(),o="imperative"!==e&&"imperative"===(null==s?void 0:s.source),a=(this.lastSuccessfulId===s.id||this.currentNavigation?s.rawUrl:s.urlAfterRedirects).toString()===t.toString();if(o&&a)return Promise.resolve(!0);let u,c,l;i?(u=i.resolve,c=i.reject,l=i.promise):l=new Promise((t,e)=>{u=t,c=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.N),r.Rb(nn),r.Rb(Dr),r.Rb(E),r.Rb(r.r),r.Rb(r.w),r.Rb(r.i),r.Rb(void 0))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),qr=(()=>{class t{constructor(t,e,n,i,s){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.n,this.deactivateEvents=new r.n,this.name=i||Ue,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new Br(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(Dr),r.Kb(r.Q),r.Kb(r.j),r.Sb("name"),r.Kb(r.h))},t.\u0275dir=r.Fb({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class Br{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Tn?this.route:t===Dr?this.childContexts:this.parent.get(t,e)}}class zr{}class Hr{preload(t,e){return Object(mt.a)(null)}}let Gr=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new Nr(e,n,e=>t.triggerEvent(new Re(e)),e=>t.triggerEvent(new Ne(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(Ut(t=>t instanceof Se),me(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.x);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(yt.a)(n).pipe(Object(Ft.a)(),Object(Lt.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(Object(ge.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(Vr),r.Rb(r.w),r.Rb(r.i),r.Rb(r.r),r.Rb(zr))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),$r=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Oe?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Se&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Me&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new Me(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(Vr),r.Rb(M),r.Rb(void 0))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();const Wr=new r.q("ROUTER_CONFIGURATION"),Kr=new r.q("ROUTER_FORROOT_GUARD"),Qr=[E,{provide:nn,useClass:rn},{provide:Vr,useFactory:function(t,e,n,r,i,s,a,u={},c,l){const h=new Vr(null,t,e,n,r,i,s,$e(a));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),u.errorHandler&&(h.errorHandler=u.errorHandler),u.malformedUriErrorHandler&&(h.malformedUriErrorHandler=u.malformedUriErrorHandler),u.enableTracing){const t=o();h.events.subscribe(e=>{t.logGroup("Router Event: "+e.constructor.name),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return u.onSameUrlNavigation&&(h.onSameUrlNavigation=u.onSameUrlNavigation),u.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=u.paramsInheritanceStrategy),u.urlUpdateStrategy&&(h.urlUpdateStrategy=u.urlUpdateStrategy),u.relativeLinkResolution&&(h.relativeLinkResolution=u.relativeLinkResolution),h},deps:[nn,Dr,E,r.r,r.w,r.i,Rr,Wr,[class{},new r.A],[class{},new r.A]]},Dr,{provide:Tn,useFactory:function(t){return t.routerState.root},deps:[Vr]},{provide:r.w,useClass:r.K},Gr,Hr,class{preload(t,e){return e().pipe(fe(()=>Object(mt.a)(null)))}},{provide:Wr,useValue:{enableTracing:!1}}];function Yr(){return new r.y("Router",Vr)}let Xr=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[Qr,ei(e),{provide:Kr,useFactory:ti,deps:[[Vr,new r.A,new r.J]]},{provide:Wr,useValue:n||{}},{provide:y,useFactory:Jr,deps:[u,[new r.p(b),new r.A],Wr]},{provide:$r,useFactory:Zr,deps:[Vr,M,Wr]},{provide:zr,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Hr},{provide:r.y,multi:!0,useFactory:Yr},[ni,{provide:r.d,multi:!0,useFactory:ri,deps:[ni]},{provide:si,useFactory:ii,deps:[ni]},{provide:r.b,multi:!0,useExisting:si}]]}}static forChild(e){return{ngModule:t,providers:[ei(e)]}}}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)(r.Rb(Kr,8),r.Rb(Vr,8))}}),t})();function Zr(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new $r(t,e,n)}function Jr(t,e,n={}){return n.useHash?new w(t,e):new _(t,e)}function ti(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function ei(t){return[{provide:r.a,multi:!0,useValue:t},{provide:Rr,multi:!0,useValue:t}]}let ni=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new vt.a}appInitializer(){return this.injector.get(l,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(Vr),r=this.injector.get(Wr);if(this.isLegacyDisabled(r)||this.isLegacyEnabled(r))t(!0);else if("disabled"===r.initialNavigation)n.setUpLocationChangeListener(),t(!0);else{if("enabled"!==r.initialNavigation)throw new Error(`Invalid initialNavigation options: '${r.initialNavigation}'`);n.hooks.afterPreactivation=()=>this.initNavigation?Object(mt.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()}return e})}bootstrapListener(t){const e=this.injector.get(Wr),n=this.injector.get(Gr),i=this.injector.get($r),s=this.injector.get(Vr),o=this.injector.get(r.g);t===o.components[0]&&(this.isLegacyEnabled(e)?s.initialNavigation():this.isLegacyDisabled(e)&&s.setUpLocationChangeListener(),n.setUpPreloading(),i.init(),s.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}isLegacyDisabled(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.r))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();function ri(t){return t.appInitializer.bind(t)}function ii(t){return t.bootstrapListener.bind(t)}const si=new r.q("Router Initializer"),oi=[];let ai=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},imports:[[Xr.forRoot(oi)],Xr]}),t})();function ui(t){return Array.isArray(t)?t:[t]}function ci(t){return null==t?"":"string"==typeof t?t:t+"px"}function li(t){return t instanceof r.l?t.nativeElement:t}var hi=n("n6bG");n("3N8a"),n("IjjT"),n("7Hc7");class fi{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new di(t,this.compare,this.keySelector))}}class di extends Ot.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}var pi=n("D0XW");class gi{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new mi(t,this.durationSelector))}}class mi extends te.b{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:e}=this;n=e(t)}catch(e){return this.destination.error(e)}const r=Object(te.c)(n,new te.a(this));!r||r.closed?this.clearThrottle():this.add(this.throttled=r)}}clearThrottle(){const{value:t,hasValue:e,throttled:n}=this;n&&(this.remove(n),this.throttled=void 0,n.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var yi=n("Y7HM");function vi(t){const{index:e,period:n,subscriber:r}=t;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}function bi(t,e=pi.a){return n=()=>function(t=0,e,n){let r=-1;return Object(yi.a)(e)?r=Number(e)<1?1:Number(e):Object(wt.a)(e)&&(n=e),Object(wt.a)(n)||(n=pi.a),new xt.a(e=>{const i=Object(yi.a)(t)?t:+t-n.now();return n.schedule(vi,i,{index:0,period:r,subscriber:e})})}(t,e),function(t){return t.lift(new gi(n))};var n}class _i{constructor(t){this.notifier=t}call(t,e){const n=new wi(t),r=Object(te.c)(this.notifier,new te.a(n));return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n}}class wi extends te.b{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}function Ei(){return t=>t.lift(new Oi)}class Oi{call(t,e){return e.subscribe(new Si(t))}}class Si extends Ot.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}n("qgXg");var Ti=n("pxpQ");let Ci;n("Ylt2");try{Ci="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(yO){Ci=!1}let xi,Ii,Ai=(()=>{class t{constructor(t){this._platformId=t,this.isBrowser=this._platformId?"browser"===this._platformId:"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Ci)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.B))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Rb)(r.B))},token:t,providedIn:"root"}),t})(),ji=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)}}),t})();function ki(t){return function(){if(null==xi&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>xi=!0}))}finally{xi=xi||!1}return xi}()?t:!!t.capture}const Ri=new r.q("cdk-dir-doc",{providedIn:"root",factory:function(){return Object(r.V)(a)}});let Ni=(()=>{class t{constructor(t){if(this.value="ltr",this.change=new r.n,t){const e=t.documentElement?t.documentElement.dir:null,n=(t.body?t.body.dir:null)||e;this.value="ltr"===n||"rtl"===n?n:"ltr"}}ngOnDestroy(){this.change.complete()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(Ri,8))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Rb)(Ri,8))},token:t,providedIn:"root"}),t})(),Pi=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)}}),t})(),Di=(()=>{class t{constructor(t,e,n){this._ngZone=t,this._platform=e,this._scrolled=new vt.a,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=n}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const e=this.scrollContainers.get(t);e&&(e.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new xt.a(e=>{this._globalSubscription||this._addGlobalListener();const n=t>0?this._scrolled.pipe(bi(t)).subscribe(e):this._scrolled.subscribe(e);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Object(mt.a)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,e)=>this.deregister(e)),this._scrolled.complete()}ancestorScrolled(t,e){const n=this.getAncestorScrollContainers(t);return this.scrolled(e).pipe(Ut(t=>!t||n.indexOf(t)>-1))}getAncestorScrollContainers(t){const e=[];return this.scrollContainers.forEach((n,r)=>{this._scrollableContainsElement(r,t)&&e.push(r)}),e}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_scrollableContainsElement(t,e){let n=e.nativeElement,r=t.getElementRef().nativeElement;do{if(n==r)return!0}while(n=n.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>function t(e,n,r,i){return Object(hi.a)(r)&&(i=r,r=void 0),i?t(e,n,r).pipe(Object(Lt.a)(t=>Object(Et.a)(t)?i(...t):i(t))):new xt.a(t=>{!function t(e,n,r,i,s){let o;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){const t=e;e.addEventListener(n,r,s),o=()=>t.removeEventListener(n,r,s)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){const t=e;e.on(n,r),o=()=>t.off(n,r)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){const t=e;e.addListener(n,r),o=()=>t.removeListener(n,r)}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(let o=0,a=e.length;o<a;o++)t(e[o],n,r,i,s)}i.add(o)}(e,n,(function(e){t.next(arguments.length>1?Array.prototype.slice.call(arguments):e)}),t,r)})}(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.z),r.Rb(Ai),r.Rb(a,8))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Rb)(r.z),Object(r.Rb)(Ai),Object(r.Rb)(a,8))},token:t,providedIn:"root"}),t})(),Li=(()=>{class t{constructor(t,e,n){this._platform=t,this._change=new vt.a,this._changeListener=t=>{this._change.next(t)},this._document=n,e.runOutsideAngular(()=>{if(t.isBrowser){const t=this._getWindow();t.addEventListener("resize",this._changeListener),t.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._updateViewportSize())})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:e,height:n}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+n,right:t.left+e,height:n,width:e}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._getDocument(),e=this._getWindow(),n=t.documentElement,r=n.getBoundingClientRect();return{top:-r.top||t.body.scrollTop||e.scrollY||n.scrollTop||0,left:-r.left||t.body.scrollLeft||e.scrollX||n.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(bi(t)):this._change}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(Ai),r.Rb(r.z),r.Rb(a,8))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Rb)(Ai),Object(r.Rb)(r.z),Object(r.Rb)(a,8))},token:t,providedIn:"root"}),t})(),Fi=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)}}),t})(),Mi=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},imports:[[Pi,ji,Fi],Pi,Fi]}),t})();class Ui{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class Vi extends Ui{constructor(t,e,n,r){super(),this.component=t,this.viewContainerRef=e,this.injector=n,this.componentFactoryResolver=r}}class qi extends Ui{constructor(t,e,n){super(),this.templateRef=t,this.viewContainerRef=e,this.context=n}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class Bi extends Ui{constructor(t){super(),this.element=t instanceof r.l?t.nativeElement:t}}class zi{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof Vi?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof qi?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof Bi?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Hi extends zi{constructor(t,e,n,r,i){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=n,this._defaultInjector=r,this.attachDomPortal=t=>{const e=t.element,n=this._document.createComment("dom-portal");e.parentNode.insertBefore(n,e),this.outletElement.appendChild(e),super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})},this._document=i}attachComponentPortal(t){const e=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let n;return t.viewContainerRef?(n=t.viewContainerRef.createComponent(e,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>n.destroy())):(n=e.create(t.injector||this._defaultInjector),this._appRef.attachView(n.hostView),this.setDisposeFn(()=>{this._appRef.detachView(n.hostView),n.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(n)),n}attachTemplatePortal(t){let e=t.viewContainerRef,n=e.createEmbeddedView(t.templateRef,t.context);return n.rootNodes.forEach(t=>this.outletElement.appendChild(t)),n.detectChanges(),this.setDisposeFn(()=>{let t=e.indexOf(n);-1!==t&&e.remove(t)}),n}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let Gi=(()=>{class t extends zi{constructor(t,e,n){super(),this._componentFactoryResolver=t,this._viewContainerRef=e,this._isInitialized=!1,this.attached=new r.n,this.attachDomPortal=t=>{const e=t.element,n=this._document.createComment("dom-portal");t.setAttachedHost(this),e.parentNode.insertBefore(n,e),this._getRootNode().appendChild(e),super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})},this._document=n}get portal(){return this._attachedPortal}set portal(t){(!this.hasAttached()||t||this._isInitialized)&&(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const e=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,n=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),r=e.createComponent(n,e.length,t.injector||e.injector);return e!==this._viewContainerRef&&this._getRootNode().appendChild(r.hostView.rootNodes[0]),super.setDisposeFn(()=>r.destroy()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}attachTemplatePortal(t){t.setAttachedHost(this);const e=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=e,this.attached.emit(e),e}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.j),r.Kb(r.Q),r.Kb(a))},t.\u0275dir=r.Fb({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[r.xb]}),t})(),$i=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)}}),t})();var Wi=n("VRyK");class Ki{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=ci(-this._previousScrollPosition.left),t.style.top=ci(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,e=t.style,n=this._document.body.style,r=e.scrollBehavior||"",i=n.scrollBehavior||"";this._isEnabled=!1,e.left=this._previousHTMLStyles.left,e.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),e.scrollBehavior=n.scrollBehavior="auto",window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),e.scrollBehavior=r,n.scrollBehavior=i}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,e=this._viewportRuler.getViewportSize();return t.scrollHeight>e.height||t.scrollWidth>e.width}}class Qi{constructor(t,e,n,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=n,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Yi{enable(){}disable(){}attach(){}}function Xi(t,e){return e.some(e=>t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right)}function Zi(t,e){return e.some(e=>t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right)}class Ji{constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:e,height:n}=this._viewportRuler.getViewportSize();Xi(t,[{width:e,height:n,bottom:n,right:e,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let ts=(()=>{class t{constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this.noop=()=>new Yi,this.close=t=>new Qi(this._scrollDispatcher,this._ngZone,this._viewportRuler,t),this.block=()=>new Ki(this._viewportRuler,this._document),this.reposition=t=>new Ji(this._scrollDispatcher,this._viewportRuler,this._ngZone,t),this._document=r}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(Di),r.Rb(Li),r.Rb(r.z),r.Rb(a))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Rb)(Di),Object(r.Rb)(Li),Object(r.Rb)(r.z),Object(r.Rb)(a))},token:t,providedIn:"root"}),t})();class es{constructor(t){if(this.scrollStrategy=new Yi,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const n of e)void 0!==t[n]&&(this[n]=t[n])}}}class ns{constructor(t,e,n,r,i){this.offsetX=n,this.offsetY=r,this.panelClass=i,this.originX=t.originX,this.originY=t.originY,this.overlayX=e.overlayX,this.overlayY=e.overlayY}}class rs{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let is=(()=>{class t{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const e=this._attachedOverlays.indexOf(t);e>-1&&this._attachedOverlays.splice(e,1),0===this._attachedOverlays.length&&this.detach()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(a))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Rb)(a))},token:t,providedIn:"root"}),t})(),ss=(()=>{class t extends is{constructor(t){super(t),this._keydownListener=t=>{const e=this._attachedOverlays;for(let n=e.length-1;n>-1;n--)if(e[n]._keydownEvents.observers.length>0){e[n]._keydownEvents.next(t);break}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(a))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Rb)(a))},token:t,providedIn:"root"}),t})(),os=(()=>{class t extends is{constructor(t,e){super(t),this._platform=e,this._cursorStyleIsSet=!1,this._clickListener=t=>{const e=t.composedPath?t.composedPath()[0]:t.target,n=this._attachedOverlays.slice();for(let r=n.length-1;r>-1;r--){const i=n[r];if(!(i._outsidePointerEvents.observers.length<1)&&i.hasAttached()){if(i.overlayElement.contains(e))break;i._outsidePointerEvents.next(t)}}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("click",this._clickListener,!0),this._document.body.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=this._document.body.style.cursor,this._document.body.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("click",this._clickListener,!0),this._document.body.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(a),r.Rb(Ai))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Rb)(a),Object(r.Rb)(Ai))},token:t,providedIn:"root"}),t})();const as=!("undefined"==typeof window||!window||!window.__karma__&&!window.jasmine);let us=(()=>{class t{constructor(t,e){this._platform=e,this._document=t}ngOnDestroy(){const t=this._containerElement;t&&t.parentNode&&t.parentNode.removeChild(t)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._platform?this._platform.isBrowser:"undefined"!=typeof window,e="cdk-overlay-container";if(t||as){const t=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let e=0;e<t.length;e++)t[e].parentNode.removeChild(t[e])}const n=this._document.createElement("div");n.classList.add(e),as?n.setAttribute("platform","test"):t||n.setAttribute("platform","server"),this._document.body.appendChild(n),this._containerElement=n}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(a),r.Rb(Ai))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Rb)(a),Object(r.Rb)(Ai))},token:t,providedIn:"root"}),t})();class cs{constructor(t,e,n,r,i,s,o,a,u){this._portalOutlet=t,this._host=e,this._pane=n,this._config=r,this._ngZone=i,this._keyboardDispatcher=s,this._document=o,this._location=a,this._outsideClickDispatcher=u,this._backdropElement=null,this._backdropClick=new vt.a,this._attachments=new vt.a,this._detachments=new vt.a,this._locationChanges=be.a.EMPTY,this._backdropClickHandler=t=>this._backdropClick.next(t),this._keydownEvents=new vt.a,this._outsidePointerEvents=new vt.a,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(ie(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&this._location&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher&&this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher&&this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher&&this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=ci(this._config.width),t.height=ci(this._config.height),t.minWidth=ci(this._config.minWidth),t.minHeight=ci(this._config.minHeight),t.maxWidth=ci(this._config.maxWidth),t.maxHeight=ci(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"auto":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t,e=this._backdropElement;if(!e)return;let n=()=>{e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",n),e.parentNode&&e.parentNode.removeChild(e)),this._backdropElement==e&&(this._backdropElement=null),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",n)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(n,500))}_toggleClasses(t,e,n){const r=t.classList;ui(e).forEach(t=>{t&&(n?r.add(t):r.remove(t))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe((e=Object(Wi.a)(this._attachments,this._detachments),t=>t.lift(new _i(e)))).subscribe(()=>{this._pane&&this._host&&0!==this._pane.children.length||(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),t.unsubscribe())});var e})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}}const ls="cdk-overlay-connected-position-bounding-box",hs=/([A-Za-z%]+)$/;class fs{constructor(t,e,n,r,i){this._viewportRuler=e,this._document=n,this._platform=r,this._overlayContainer=i,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new vt.a,this._resizeSubscription=be.a.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(ls),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const t=this._originRect,e=this._overlayRect,n=this._viewportRect,r=[];let i;for(let s of this._preferredPositions){let o=this._getOriginPoint(t,s),a=this._getOverlayPoint(o,e,s),u=this._getOverlayFit(a,e,n,s);if(u.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(s,o);this._canFitWithFlexibleDimensions(u,a,n)?r.push({position:s,origin:o,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(o,s)}):(!i||i.overlayFit.visibleArea<u.visibleArea)&&(i={overlayFit:u,overlayPoint:a,originPoint:o,position:s,overlayRect:e})}if(r.length){let t=null,e=-1;for(const n of r){const r=n.boundingBoxRect.width*n.boundingBoxRect.height*(n.position.weight||1);r>e&&(e=r,t=n)}return this._isPushed=!1,void this._applyPosition(t.position,t.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(i.position,i.originPoint);this._applyPosition(i.position,i.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&ds(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(ls),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e){let n,r;if("center"==e.originX)n=t.left+t.width/2;else{const r=this._isRtl()?t.right:t.left,i=this._isRtl()?t.left:t.right;n="start"==e.originX?r:i}return r="center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom,{x:n,y:r}}_getOverlayPoint(t,e,n){let r,i;return r="center"==n.overlayX?-e.width/2:"start"===n.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,i="center"==n.overlayY?-e.height/2:"top"==n.overlayY?0:-e.height,{x:t.x+r,y:t.y+i}}_getOverlayFit(t,e,n,r){let{x:i,y:s}=t,o=this._getOffset(r,"x"),a=this._getOffset(r,"y");o&&(i+=o),a&&(s+=a);let u=0-s,c=s+e.height-n.height,l=this._subtractOverflows(e.width,0-i,i+e.width-n.width),h=this._subtractOverflows(e.height,u,c),f=l*h;return{visibleArea:f,isCompletelyWithinViewport:e.width*e.height===f,fitsInViewportVertically:h===e.height,fitsInViewportHorizontally:l==e.width}}_canFitWithFlexibleDimensions(t,e,n){if(this._hasFlexibleDimensions){const r=n.bottom-e.y,i=n.right-e.x,s=ps(this._overlayRef.getConfig().minHeight),o=ps(this._overlayRef.getConfig().minWidth),a=t.fitsInViewportHorizontally||null!=o&&o<=i;return(t.fitsInViewportVertically||null!=s&&s<=r)&&a}return!1}_pushOverlayOnScreen(t,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=this._viewportRect,i=Math.max(t.x+e.width-r.width,0),s=Math.max(t.y+e.height-r.height,0),o=Math.max(r.top-n.top-t.y,0),a=Math.max(r.left-n.left-t.x,0);let u=0,c=0;return u=e.width<=r.width?a||-i:t.x<this._viewportMargin?r.left-n.left-t.x:0,c=e.height<=r.height?o||-s:t.y<this._viewportMargin?r.top-n.top-t.y:0,this._previousPushAmount={x:u,y:c},{x:t.x+u,y:t.y+c}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const e=this._getScrollVisibility(),n=new rs(t,e);this._positionChanges.next(n)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,r=t.overlayY;n="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let i=0;i<e.length;i++)e[i].style.transformOrigin=`${n} ${r}`}_calculateBoundingBoxRect(t,e){const n=this._viewportRect,r=this._isRtl();let i,s,o,a,u,c;if("top"===e.overlayY)s=t.y,i=n.height-s+this._viewportMargin;else if("bottom"===e.overlayY)o=n.height-t.y+2*this._viewportMargin,i=n.height-o+this._viewportMargin;else{const e=Math.min(n.bottom-t.y+n.top,t.y),r=this._lastBoundingBoxSize.height;i=2*e,s=t.y-e,i>r&&!this._isInitialRender&&!this._growAfterOpen&&(s=t.y-r/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)c=n.width-t.x+this._viewportMargin,a=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)u=t.x,a=n.right-t.x;else{const e=Math.min(n.right-t.x+n.left,t.x),r=this._lastBoundingBoxSize.width;a=2*e,u=t.x-e,a>r&&!this._isInitialRender&&!this._growAfterOpen&&(u=t.x-r/2)}return{top:s,left:u,bottom:o,right:c,width:a,height:i}}_setBoundingBoxStyles(t,e){const n=this._calculateBoundingBoxRect(t,e);this._isInitialRender||this._growAfterOpen||(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const t=this._overlayRef.getConfig().maxHeight,i=this._overlayRef.getConfig().maxWidth;r.height=ci(n.height),r.top=ci(n.top),r.bottom=ci(n.bottom),r.width=ci(n.width),r.left=ci(n.left),r.right=ci(n.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",t&&(r.maxHeight=ci(t)),i&&(r.maxWidth=ci(i))}this._lastBoundingBoxSize=n,ds(this._boundingBox.style,r)}_resetBoundingBoxStyles(){ds(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){ds(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const n={},r=this._hasExactPosition(),i=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){const r=this._viewportRuler.getViewportScrollPosition();ds(n,this._getExactOverlayY(e,t,r)),ds(n,this._getExactOverlayX(e,t,r))}else n.position="static";let o="",a=this._getOffset(e,"x"),u=this._getOffset(e,"y");a&&(o+=`translateX(${a}px) `),u&&(o+=`translateY(${u}px)`),n.transform=o.trim(),s.maxHeight&&(r?n.maxHeight=ci(s.maxHeight):i&&(n.maxHeight="")),s.maxWidth&&(r?n.maxWidth=ci(s.maxWidth):i&&(n.maxWidth="")),ds(this._pane.style,n)}_getExactOverlayY(t,e,n){let r={top:"",bottom:""},i=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(i=this._pushOverlayOnScreen(i,this._overlayRect,n));let s=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return i.y-=s,"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(i.y+this._overlayRect.height)+"px":r.top=ci(i.y),r}_getExactOverlayX(t,e,n){let r,i={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,n)),r=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===r?i.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":i.left=ci(s.x),i}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map(t=>t.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Zi(t,n),isOriginOutsideView:Xi(t,n),isOverlayClipped:Zi(e,n),isOverlayOutsideView:Xi(e,n)}}_subtractOverflows(t,...e){return e.reduce((t,e)=>t-Math.max(e,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&ui(t).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof r.l)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+e,height:n,width:e}}}function ds(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function ps(t){if("number"!=typeof t&&null!=t){const[e,n]=t.split(hs);return n&&"px"!==n?null:parseFloat(e)}return t||null}class gs{constructor(t,e,n,r,i,s,o){this._preferredPositions=[],this._positionStrategy=new fs(n,r,i,s,o).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(t,e),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(t){this._positionStrategy.withScrollableContainers(t)}withFallbackPosition(t,e,n,r){const i=new ns(t,e,n,r);return this._preferredPositions.push(i),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}withOffsetX(t){return this._positionStrategy.withDefaultOffsetX(t),this}withOffsetY(t){return this._positionStrategy.withDefaultOffsetY(t),this}withLockedPosition(t){return this._positionStrategy.withLockedPosition(t),this}withPositions(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(t){return this._positionStrategy.setOrigin(t),this}}const ms="cdk-global-overlay-wrapper";class ys{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(ms),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:r,height:i,maxWidth:s,maxHeight:o}=n,a=!("100%"!==r&&"100vw"!==r||s&&"100%"!==s&&"100vw"!==s),u=!("100%"!==i&&"100vh"!==i||o&&"100%"!==o&&"100vh"!==o);t.position=this._cssPosition,t.marginLeft=a?"0":this._leftOffset,t.marginTop=u?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,a?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=u?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove(ms),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let vs=(()=>{class t{constructor(t,e,n,r){this._viewportRuler=t,this._document=e,this._platform=n,this._overlayContainer=r}global(){return new ys}connectedTo(t,e,n){return new gs(e,n,t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(t){return new fs(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(Li),r.Rb(a),r.Rb(Ai),r.Rb(us))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Rb)(Li),Object(r.Rb)(a),Object(r.Rb)(Ai),Object(r.Rb)(us))},token:t,providedIn:"root"}),t})(),bs=0,_s=(()=>{class t{constructor(t,e,n,r,i,s,o,a,u,c,l){this.scrollStrategies=t,this._overlayContainer=e,this._componentFactoryResolver=n,this._positionBuilder=r,this._keyboardDispatcher=i,this._injector=s,this._ngZone=o,this._document=a,this._directionality=u,this._location=c,this._outsideClickDispatcher=l}create(t){const e=this._createHostElement(),n=this._createPaneElement(e),r=this._createPortalOutlet(n),i=new es(t);return i.direction=i.direction||this._directionality.value,new cs(r,e,n,i,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const e=this._document.createElement("div");return e.id="cdk-overlay-"+bs++,e.classList.add("cdk-overlay-pane"),t.appendChild(e),e}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(r.g)),new Hi(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(ts),r.Rb(us),r.Rb(r.j),r.Rb(vs),r.Rb(ss),r.Rb(r.r),r.Rb(r.z),r.Rb(a),r.Rb(Ni),r.Rb(E),r.Rb(os))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();const ws={provide:new r.q("cdk-connected-overlay-scroll-strategy"),deps:[_s],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};let Es=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[_s,ws],imports:[[Pi,$i,Mi],Mi]}),t})(),Os=(()=>{class t{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function(t){return!!(t.offsetWidth||t.offsetHeight||"function"==typeof t.getClientRects&&t.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const e=function(t){try{return t.frameElement}catch(yO){return null}}((n=t).ownerDocument&&n.ownerDocument.defaultView||window);var n;if(e){if(-1===Ts(e))return!1;if(!this.isVisible(e))return!1}let r=t.nodeName.toLowerCase(),i=Ts(t);return t.hasAttribute("contenteditable")?-1!==i:"iframe"!==r&&"object"!==r&&!(this._platform.WEBKIT&&this._platform.IOS&&!function(t){let e=t.nodeName.toLowerCase(),n="input"===e&&t.type;return"text"===n||"password"===n||"select"===e||"textarea"===e}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==i:"video"===r?-1!==i&&(null!==i||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,e){return function(t){return!function(t){return function(t){return"input"==t.nodeName.toLowerCase()}(t)&&"hidden"==t.type}(t)&&(function(t){let e=t.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(t)||function(t){return function(t){return"a"==t.nodeName.toLowerCase()}(t)&&t.hasAttribute("href")}(t)||t.hasAttribute("contenteditable")||Ss(t))}(t)&&!this.isDisabled(t)&&((null==e?void 0:e.ignoreVisibility)||this.isVisible(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(Ai))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Rb)(Ai))},token:t,providedIn:"root"}),t})();function Ss(t){if(!t.hasAttribute("tabindex")||void 0===t.tabIndex)return!1;let e=t.getAttribute("tabindex");return"-32768"!=e&&!(!e||isNaN(parseInt(e,10)))}function Ts(t){if(!Ss(t))return null;const e=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class Cs{constructor(t,e,n,r,i=!1){this._element=t,this._checker=e,this._ngZone=n,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,i||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),e&&(e.removeEventListener("focus",this.endAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement()))})}focusFirstTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement()))})}focusLastTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement()))})}_getRegionBoundary(t){let e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);for(let n=0;n<e.length;n++)e[n].hasAttribute("cdk-focus-"+t)?console.warn(`Found use of deprecated attribute 'cdk-focus-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[n]):e[n].hasAttribute("cdk-focus-region-"+t)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[n]);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");return t?(t.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",t),t.focus(),!0):this.focusFirstTabbableElement()}focusFirstTabbableElement(){const t=this._getRegionBoundary("start");return t&&t.focus(),!!t}focusLastTabbableElement(){const t=this._getRegionBoundary("end");return t&&t.focus(),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let n=0;n<e.length;n++){let t=e[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[n]):null;if(t)return t}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let n=e.length-1;n>=0;n--){let t=e[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[n]):null;if(t)return t}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(ie(1)).subscribe(t)}}let xs=(()=>{class t{constructor(t,e,n){this._checker=t,this._ngZone=e,this._document=n}create(t,e=!1){return new Cs(t,this._checker,this._ngZone,this._document,e)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(Os),r.Rb(r.z),r.Rb(a))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Rb)(Os),Object(r.Rb)(r.z),Object(r.Rb)(a))},token:t,providedIn:"root"}),t})();"undefined"!=typeof Element&&Element;const Is=new r.q("cdk-focus-monitor-default-options"),As=ki({passive:!0,capture:!0});let js=(()=>{class t{constructor(t,e,n,r){this._ngZone=t,this._platform=e,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._documentKeydownListener=()=>{this._lastTouchTarget=null,this._setOriginForCurrentEventQueue("keyboard")},this._documentMousedownListener=t=>{if(!this._lastTouchTarget){const e=function(t){return 0===t.buttons}(t)?"keyboard":"mouse";this._setOriginForCurrentEventQueue(e)}},this._documentTouchstartListener=t=>{null!=this._touchTimeoutId&&clearTimeout(this._touchTimeoutId),this._lastTouchTarget=ks(t),this._touchTimeoutId=setTimeout(()=>this._lastTouchTarget=null,650)},this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._rootNodeFocusAndBlurListener=t=>{const e=ks(t),n="focus"===t.type?this._onFocus:this._onBlur;for(let r=e;r;r=r.parentElement)n.call(this,t,r)},this._document=n,this._detectionMode=(null==r?void 0:r.detectionMode)||0}monitor(t,e=!1){const n=li(t);if(!this._platform.isBrowser||1!==n.nodeType)return Object(mt.a)(null);const r=function(t){if(function(){if(null==Ii){const t="undefined"!=typeof document?document.head:null;Ii=!(!t||!t.createShadowRoot&&!t.attachShadow)}return Ii}()){const e=t.getRootNode?t.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(n)||this._getDocument(),i=this._elementInfo.get(n);if(i)return e&&(i.checkChildren=!0),i.subject;const s={checkChildren:e,subject:new vt.a,rootNode:r};return this._elementInfo.set(n,s),this._registerGlobalListeners(s),s.subject}stopMonitoring(t){const e=li(t),n=this._elementInfo.get(e);n&&(n.subject.complete(),this._setClasses(e),this._elementInfo.delete(e),this._removeGlobalListeners(n))}focusVia(t,e,n){const r=li(t);this._setOriginForCurrentEventQueue(e),"function"==typeof r.focus&&r.focus(n)}ngOnDestroy(){this._elementInfo.forEach((t,e)=>this.stopMonitoring(e))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(t,e,n){n?t.classList.add(e):t.classList.remove(e)}_getFocusOrigin(t){return this._origin?this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(t)?"touch":"program"}_setClasses(t,e){this._toggleClass(t,"cdk-focused",!!e),this._toggleClass(t,"cdk-touch-focused","touch"===e),this._toggleClass(t,"cdk-keyboard-focused","keyboard"===e),this._toggleClass(t,"cdk-mouse-focused","mouse"===e),this._toggleClass(t,"cdk-program-focused","program"===e)}_setOriginForCurrentEventQueue(t){this._ngZone.runOutsideAngular(()=>{this._origin=t,0===this._detectionMode&&(this._originTimeoutId=setTimeout(()=>this._origin=null,1))})}_wasCausedByTouch(t){const e=ks(t);return this._lastTouchTarget instanceof Node&&e instanceof Node&&(e===this._lastTouchTarget||e.contains(this._lastTouchTarget))}_onFocus(t,e){const n=this._elementInfo.get(e);if(!n||!n.checkChildren&&e!==ks(t))return;const r=this._getFocusOrigin(t);this._setClasses(e,r),this._emitOrigin(n.subject,r),this._lastFocusOrigin=r}_onBlur(t,e){const n=this._elementInfo.get(e);!n||n.checkChildren&&t.relatedTarget instanceof Node&&e.contains(t.relatedTarget)||(this._setClasses(e),this._emitOrigin(n.subject,null))}_emitOrigin(t,e){this._ngZone.run(()=>t.next(e))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const e=t.rootNode,n=this._rootNodeFocusListenerCount.get(e)||0;n||this._ngZone.runOutsideAngular(()=>{e.addEventListener("focus",this._rootNodeFocusAndBlurListener,As),e.addEventListener("blur",this._rootNodeFocusAndBlurListener,As)}),this._rootNodeFocusListenerCount.set(e,n+1),1==++this._monitoredElementCount&&this._ngZone.runOutsideAngular(()=>{const t=this._getDocument(),e=this._getWindow();t.addEventListener("keydown",this._documentKeydownListener,As),t.addEventListener("mousedown",this._documentMousedownListener,As),t.addEventListener("touchstart",this._documentTouchstartListener,As),e.addEventListener("focus",this._windowFocusListener)})}_removeGlobalListeners(t){const e=t.rootNode;if(this._rootNodeFocusListenerCount.has(e)){const t=this._rootNodeFocusListenerCount.get(e);t>1?this._rootNodeFocusListenerCount.set(e,t-1):(e.removeEventListener("focus",this._rootNodeFocusAndBlurListener,As),e.removeEventListener("blur",this._rootNodeFocusAndBlurListener,As),this._rootNodeFocusListenerCount.delete(e))}if(!--this._monitoredElementCount){const t=this._getDocument(),e=this._getWindow();t.removeEventListener("keydown",this._documentKeydownListener,As),t.removeEventListener("mousedown",this._documentMousedownListener,As),t.removeEventListener("touchstart",this._documentTouchstartListener,As),e.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId)}}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.z),r.Rb(Ai),r.Rb(a,8),r.Rb(Is,8))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Rb)(r.z),Object(r.Rb)(Ai),Object(r.Rb)(a,8),Object(r.Rb)(Is,8))},token:t,providedIn:"root"}),t})();function ks(t){return t.composedPath?t.composedPath()[0]:t.target}const Rs="cdk-high-contrast-black-on-white",Ns="cdk-high-contrast-white-on-black",Ps="cdk-high-contrast-active";let Ds=(()=>{class t{constructor(t,e){this._platform=t,this._document=e}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const e=this._document.defaultView||window,n=e&&e.getComputedStyle?e.getComputedStyle(t):null,r=(n&&n.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(t),r){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(Ps),t.remove(Rs),t.remove(Ns);const e=this.getHighContrastMode();1===e?(t.add(Ps),t.add(Rs)):2===e&&(t.add(Ps),t.add(Ns))}}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(Ai),r.Rb(a))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Rb)(Ai),Object(r.Rb)(a))},token:t,providedIn:"root"}),t})();const Ls=new r.P("10.2.7");class Fs{}const Ms="*";function Us(t,e){return{type:7,name:t,definitions:e,options:{}}}function Vs(t,e=null){return{type:4,styles:e,timings:t}}function qs(t,e=null){return{type:2,steps:t,options:e}}function Bs(t){return{type:6,styles:t,offset:null}}function zs(t,e,n){return{type:0,name:t,styles:e,options:n}}function Hs(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}function Gs(t){Promise.resolve(null).then(t)}class $s{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Gs(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){}getPosition(){return 0}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class Ws{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const i=this.players.length;0==i?Gs(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==i&&this._onFinish()}),t.onDestroy(()=>{++n==i&&this._onDestroy()}),t.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){let t=0;return this.players.forEach(e=>{const n=e.getPosition();t=Math.min(n,t)}),t}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}function Ks(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Qs(t){switch(t.length){case 0:return new $s;case 1:return t[0];default:return new Ws(t)}}function Ys(t,e,n,r,i={},s={}){const o=[],a=[];let u=-1,c=null;if(r.forEach(t=>{const n=t.offset,r=n==u,l=r&&c||{};Object.keys(t).forEach(n=>{let r=n,a=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,o),a){case"!":a=i[n];break;case Ms:a=s[n];break;default:a=e.normalizeStyleValue(n,r,a,o)}l[r]=a}),r||a.push(l),c=l,u=n}),o.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${o.join(t)}`)}return a}function Xs(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&Zs(n,"start",t)));break;case"done":t.onDone(()=>r(n&&Zs(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&Zs(n,"destroy",t)))}}function Zs(t,e,n){const r=n.totalTime,i=Js(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),s=t._data;return null!=s&&(i._data=s),i}function Js(t,e,n,r,i="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function to(t,e,n){let r;return t instanceof Map?(r=t.get(e),r||t.set(e,r=n)):(r=t[e],r||(r=t[e]=n)),r}function eo(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let no=(t,e)=>!1,ro=(t,e)=>!1,io=(t,e,n)=>[];const so=Ks();(so||"undefined"!=typeof Element)&&(no=(t,e)=>t.contains(e),ro=(()=>{if(so||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):ro}})(),io=(t,e,n)=>{let r=[];if(n)r.push(...t.querySelectorAll(e));else{const n=t.querySelector(e);n&&r.push(n)}return r});let oo=null,ao=!1;function uo(t){oo||(oo=("undefined"!=typeof document?document.body:null)||{},ao=!!oo.style&&"WebkitAppearance"in oo.style);let e=!0;return oo.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in oo.style,!e&&ao)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in oo.style),e}const co=ro,lo=no,ho=io;function fo(t){const e={};return Object.keys(t).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]}),e}let po=(()=>{class t{validateStyleProperty(t){return uo(t)}matchesElement(t,e){return co(t,e)}containsElement(t,e){return lo(t,e)}query(t,e,n){return ho(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,r,i,s=[],o){return new $s(n,r)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),go=(()=>{class t{}return t.NOOP=new po,t})();const mo="ng-enter",yo="ng-leave",vo="ng-trigger",bo=".ng-trigger",_o="ng-animating",wo=".ng-animating";function Eo(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Oo(parseFloat(e[1]),e[2])}function Oo(t,e){switch(e){case"s":return 1e3*t;default:return t}}function So(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let r,i=0,s="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};r=Oo(parseFloat(n[1]),n[2]);const o=n[3];null!=o&&(i=Oo(parseFloat(o),n[4]));const a=n[5];a&&(s=a)}else r=t;if(!n){let n=!1,s=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(s,0,`The provided timing value "${t}" is invalid.`)}return{duration:r,delay:i,easing:s}}(t,e,n)}function To(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function Co(t,e,n={}){if(e)for(let r in t)n[r]=t[r];else To(t,n);return n}function xo(t,e,n){return n?e+":"+n+";":""}function Io(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style.item(n);e+=xo(0,r,t.style.getPropertyValue(r))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=xo(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function Ao(t,e,n){t.style&&(Object.keys(e).forEach(r=>{const i=Fo(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),Ks()&&Io(t))}function jo(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=Fo(e);t.style[n]=""}),Ks()&&Io(t))}function ko(t){return Array.isArray(t)?1==t.length?t[0]:qs(t):t}const Ro=new RegExp("{{\\s*(.+?)\\s*}}","g");function No(t){let e=[];if("string"==typeof t){let n;for(;n=Ro.exec(t);)e.push(n[1]);Ro.lastIndex=0}return e}function Po(t,e,n){const r=t.toString(),i=r.replace(Ro,(t,r)=>{let i=e[r];return e.hasOwnProperty(r)||(n.push("Please provide a value for the animation param "+r),i=""),i.toString()});return i==r?t:i}function Do(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const Lo=/-+([a-z0-9])/g;function Fo(t){return t.replace(Lo,(...t)=>t[1].toUpperCase())}function Mo(t,e){return 0===t||0===e}function Uo(t,e,n){const r=Object.keys(n);if(r.length&&e.length){let s=e[0],o=[];if(r.forEach(t=>{s.hasOwnProperty(t)||o.push(t),s[t]=n[t]}),o.length)for(var i=1;i<e.length;i++){let n=e[i];o.forEach((function(e){n[e]=qo(t,e)}))}}return e}function Vo(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error("Unable to resolve animation metadata node #"+e.type)}}function qo(t,e){return window.getComputedStyle(t)[e]}const Bo="*";function zo(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const i=r[1],s=r[2],o=r[3];e.push($o(i,o)),"<"!=s[0]||i==Bo&&o==Bo||e.push($o(o,i))}(t,n,e)):n.push(t),n}const Ho=new Set(["true","1"]),Go=new Set(["false","0"]);function $o(t,e){const n=Ho.has(t)||Go.has(t),r=Ho.has(e)||Go.has(e);return(i,s)=>{let o=t==Bo||t==i,a=e==Bo||e==s;return!o&&n&&"boolean"==typeof i&&(o=i?Ho.has(t):Go.has(t)),!a&&r&&"boolean"==typeof s&&(a=s?Ho.has(e):Go.has(e)),o&&a}}const Wo=new RegExp("s*:selfs*,?","g");function Ko(t,e,n){return new Qo(t).build(e,n)}class Qo{constructor(t){this._driver=t}build(t,e){const n=new Yo(e);return this._resetContextStyleTimingState(n),Vo(this,ko(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const i=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,r=n.name;r.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,i.push(this.visitState(n,e))}),n.name=r}else if(1==t.type){const i=this.visitTransition(t,e);n+=i.queryCount,r+=i.depCount,s.push(i)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:i,transitions:s,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const i=new Set,s=r||{};if(n.styles.forEach(t=>{if(Xo(t)){const e=t;Object.keys(e).forEach(t=>{No(e[t]).forEach(t=>{s.hasOwnProperty(t)||i.add(t)})})}}),i.size){const n=Do(i.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=Vo(this,ko(t.animation),e);return{type:1,matchers:zo(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:Zo(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>Vo(this,t,e)),options:Zo(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const i=t.steps.map(t=>{e.currentTime=n;const i=Vo(this,t,e);return r=Math.max(r,e.currentTime),i});return e.currentTime=r,{type:3,steps:i,options:Zo(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return Jo(So(t,e).duration,0,"");const r=t;if(r.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=Jo(0,0,"");return t.dynamic=!0,t.strValue=r,t}return n=n||So(r,e),Jo(n.duration,n.delay,n.easing)}(t.timings,e.errors);let r;e.currentAnimateTimings=n;let i=t.styles?t.styles:Bs({});if(5==i.type)r=this.visitKeyframes(i,e);else{let i=t.styles,s=!1;if(!i){s=!0;const t={};n.easing&&(t.easing=n.easing),i=Bs(t)}e.currentTime+=n.duration+n.delay;const o=this.visitStyle(i,e);o.isEmptyStep=s,r=o}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?t==Ms?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let r=!1,i=null;return n.forEach(t=>{if(Xo(t)){const e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(let t in e)if(e[t].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,i=e.currentTime;n&&i>0&&(i-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const s=e.collectedStyles[e.currentQuerySelector],o=s[n];let a=!0;o&&(i!=r&&i>=o.startTime&&r<=o.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=o.startTime),a&&(s[n]={startTime:i,endTime:r}),e.options&&function(t,e,n){const r=e.params||{},i=No(t);i.length&&i.forEach(t=>{r.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let s=!1,o=!1,a=0;const u=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let u=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(Xo(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(Xo(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),c=0;return null!=u&&(r++,c=n.offset=u),o=o||c<0||c>1,s=s||c<a,a=c,i.push(c),n});o&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&e.errors.push("Please ensure that all keyframe offsets are in order");const c=t.steps.length;let l=0;r>0&&r<c?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(l=1/(c-1));const h=c-1,f=e.currentTime,d=e.currentAnimateTimings,p=d.duration;return u.forEach((t,r)=>{const s=l>0?r==h?1:l*r:i[r],o=s*p;e.currentTime=f+d.delay+o,d.duration=o,this._validateStyleAst(t,e),t.offset=s,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:Vo(this,ko(t.animation),e),options:Zo(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Zo(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Zo(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[i,s]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(Wo,"")),[t=t.replace(/@\*/g,bo).replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,wo),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+i:i,to(e.collectedStyles,e.currentQuerySelector,{});const o=Vo(this,ko(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:o,originalSelector:t.selector,options:Zo(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:So(t.timings,e.errors,!0);return{type:12,animation:Vo(this,ko(t.animation),e),timings:n,options:null}}}class Yo{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Xo(t){return!Array.isArray(t)&&"object"==typeof t}function Zo(t){var e;return t?(t=To(t)).params&&(t.params=(e=t.params)?To(e):null):t={},t}function Jo(t,e,n){return{duration:t,delay:e,easing:n}}function ta(t,e,n,r,i,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class ea{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const na=new RegExp(":enter","g"),ra=new RegExp(":leave","g");function ia(t,e,n,r,i,s={},o={},a,u,c=[]){return(new sa).buildKeyframes(t,e,n,r,i,s,o,a,u,c)}class sa{buildKeyframes(t,e,n,r,i,s,o,a,u,c=[]){u=u||new ea;const l=new aa(t,e,u,r,i,c,[]);l.options=a,l.currentTimeline.setStyles([s],null,l.errors,a),Vo(this,n,l);const h=l.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(o).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([o],null,l.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[ta(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,s=this._visitSubInstructions(n,r,r.options);i!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let r=e.currentTimeline.currentTime;const i=null!=n.duration?Eo(n.duration):null,s=null!=n.delay?Eo(n.delay):null;return 0!==i&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,i,s);r=Math.max(r,n.duration+n.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),Vo(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const i=t.options;if(i&&(i.params||i.delay)&&(r=e.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=oa);const t=Eo(i.delay);r.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>Vo(this,t,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const i=t.options&&t.options.delay?Eo(t.options.delay):0;t.steps.forEach(s=>{const o=e.createSubContext(t.options);i&&o.delayNextStep(i),Vo(this,s,o),r=Math.max(r,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return So(e.params?Po(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,s=e.createSubContext().currentTimeline;s.easing=n.easing,t.styles.forEach(t=>{s.forwardTime((t.offset||0)*i),s.setStyles(t.styles,t.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(r+i),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},i=r.delay?Eo(r.delay):0;i&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=oa);let s=n;const o=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=o.length;let a=null;o.forEach((n,r)=>{e.currentQueryIndex=r;const o=e.createSubContext(t.options,n);i&&o.delayNextStep(i),n===e.element&&(a=o.currentTimeline),Vo(this,t.animation,o),o.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,o.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,i=t.timings,s=Math.abs(i.duration),o=s*(e.currentQueryTotal-1);let a=s*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=o-a;break;case"full":a=n.currentStaggerTime}const u=e.currentTimeline;a&&u.delayNextStep(a);const c=u.currentTime;Vo(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-c+(r.startTime-n.currentTimeline.startTime)}}const oa={};class aa{constructor(t,e,n,r,i,s,o,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=oa,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new ua(this._driver,e,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=Eo(n.duration)),null!=n.delay&&(r.delay=Eo(n.delay));const i=n.params;if(i){let t=r.params;t||(t=this.options.params={}),Object.keys(i).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=Po(i[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,i=new aa(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(t),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(t){return this.previousNode=oa,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new ca(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,i,s){let o=[];if(r&&o.push(this.element),t.length>0){t=(t=t.replace(na,"."+this._enterClassName)).replace(ra,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),o.push(...e)}return i||0!=o.length||s.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),o}}class ua{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new ua(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||Ms,this._currentKeyframe[t]=Ms}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&(this._previousKeyframe.easing=e);const i=r&&r.params||{},s=function(t,e){const n={};let r;return t.forEach(t=>{"*"===t?(r=r||Object.keys(e),r.forEach(t=>{n[t]=Ms})):Co(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(s).forEach(t=>{const e=Po(s[t],i,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:Ms),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],r=t._styleSummary[e];(!n||r.time>n.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,s)=>{const o=Co(i,!0);Object.keys(o).forEach(n=>{const r=o[n];"!"==r?t.add(n):r==Ms&&e.add(n)}),n||(o.offset=s/this.duration),r.push(o)});const i=t.size?Do(t.values()):[],s=e.size?Do(e.values()):[];if(n){const t=r[0],e=To(t);t.offset=0,e.offset=1,r=[t,e]}return ta(this.element,r,i,s,this.duration,this.startTime,this.easing,!1)}}class ca extends ua{constructor(t,e,n,r,i,s,o=!1){super(t,e,s.delay),this.element=e,this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const i=[],s=n+e,o=e/s,a=Co(t[0],!1);a.offset=0,i.push(a);const u=Co(t[0],!1);u.offset=la(o),i.push(u);const c=t.length-1;for(let r=1;r<=c;r++){let o=Co(t[r],!1);o.offset=la((e+o.offset*n)/s),i.push(o)}n=s,e=0,r="",t=i}return ta(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function la(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class ha{}class fa extends ha{normalizePropertyName(t,e){return Fo(t)}normalizeStyleValue(t,e,n,r){let i="";const s=n.toString().trim();if(da[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&r.push(`Please provide a CSS unit value for ${t}:${n}`)}return s+i}}const da=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function pa(t,e,n,r,i,s,o,a,u,c,l,h,f){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:u,preStyleProps:c,postStyleProps:l,totalTime:h,errors:f}}const ga={};class ma{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function(t,e,n,r,i){return t.some(t=>t(e,n,r,i))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){const r=this._stateStyles["*"],i=this._stateStyles[t],s=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):s}build(t,e,n,r,i,s,o,a,u,c){const l=[],h=this.ast.options&&this.ast.options.params||ga,f=this.buildStyles(n,o&&o.params||ga,l),d=a&&a.params||ga,p=this.buildStyles(r,d,l),g=new Set,m=new Map,y=new Map,v="void"===r,b={params:Object.assign(Object.assign({},h),d)},_=c?[]:ia(t,e,this.ast.animation,i,s,f,p,b,u,l);let w=0;if(_.forEach(t=>{w=Math.max(t.duration+t.delay,w)}),l.length)return pa(e,this._triggerName,n,r,v,f,p,[],[],m,y,w,l);_.forEach(t=>{const n=t.element,r=to(m,n,{});t.preStyleProps.forEach(t=>r[t]=!0);const i=to(y,n,{});t.postStyleProps.forEach(t=>i[t]=!0),n!==e&&g.add(n)});const E=Do(g.values());return pa(e,this._triggerName,n,r,v,f,p,_,E,m,y,w)}}class ya{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},r=To(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const i=t;Object.keys(i).forEach(t=>{let s=i[t];s.length>1&&(s=Po(s,r,e)),n[t]=s})}}),n}}class va{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new ya(t.style,t.options&&t.options.params||{})}),ba(this.states,"true","1"),ba(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new ma(t,e,this.states))}),this.fallbackTransition=new ma(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(i=>i.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function ba(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const _a=new ea;class wa{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],r=Ko(this._driver,e,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: "+n.join("\n"));this._animations[t]=r}_buildPlayer(t,e,n){const r=t.element,i=Ys(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],i=this._animations[t];let s;const o=new Map;if(i?(s=ia(this._driver,e,i,mo,yo,{},{},n,_a,r),s.forEach(t=>{const e=to(o,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),s=[]),r.length)throw new Error("Unable to create the animation due to the following errors: "+r.join("\n"));o.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,Ms)})});const a=Qs(s.map(t=>{const e=o.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error("Unable to find the timeline player referenced by "+t);return e}listen(t,e,n,r){const i=Js(e,"","","");return Xs(this._getPlayer(t),n,i,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const Ea="ng-animate-queued",Oa="ng-animate-disabled",Sa=".ng-animate-disabled",Ta=[],Ca={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},xa={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class Ia{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(r=n?t.value:t)?r:null,n){const e=To(t);delete e.value,this.options=e}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const Aa="void",ja=new Ia(Aa);class ka{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Ma(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var i;const s=to(this._elementListeners,t,[]),o={name:e,phase:n,callback:r};s.push(o);const a=to(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(Ma(t,vo),Ma(t,"ng-trigger-"+e),a[e]=ja),()=>{this._engine.afterFlush(()=>{const t=s.indexOf(o);t>=0&&s.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,r=!0){const i=this._getTrigger(e),s=new Na(this.id,e,t);let o=this._engine.statesByElement.get(t);o||(Ma(t,vo),Ma(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,o={}));let a=o[e];const u=new Ia(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&u.absorbOptions(a.options),o[e]=u,a||(a=ja),u.value!==Aa&&a.value===u.value){if(!function(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!e.hasOwnProperty(r)||t[r]!==e[r])return!1}return!0}(a.params,u.params)){const e=[],n=i.matchStyles(a.value,a.params,e),r=i.matchStyles(u.value,u.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{jo(t,n),Ao(t,r)})}return}const c=to(this._engine.playersByElement,t,[]);c.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let l=i.matchTransition(a.value,u.value,t,u.params),h=!1;if(!l){if(!r)return;l=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:l,fromState:a,toState:u,player:s,isFallbackTransition:h}),h||(Ma(t,Ea),s.onStart(()=>{Ua(t,Ea)})),s.onDone(()=>{let e=this.players.indexOf(s);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(s);t>=0&&n.splice(t,1)}}),this.players.push(s),c.push(s),s}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,bo,!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,r){const i=this._engine.statesByElement.get(t);if(i){const s=[];if(Object.keys(i).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,Aa,r);n&&s.push(n)}}),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&Qs(s).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t);if(e){const n=new Set;e.forEach(e=>{const r=e.name;if(n.has(r))return;n.add(r);const i=this._triggers[r].fallbackTransition,s=this._engine.statesByElement.get(t)[r]||ja,o=new Ia(Aa),a=new Na(this.id,r,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:r,transition:i,fromState:s,toState:o,player:a,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)r=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{const r=t.__ng_removed;r&&r!==Ca||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){Ma(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,s=this._elementListeners.get(i);s&&s.forEach(e=>{if(e.name==n.triggerName){const r=Js(i,n.triggerName,n.fromState.value,n.toState.value);r._data=t,Xs(n.player,e.phase,r,e.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,r=e.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class Ra{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new ka(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=n[t[r]].namespaceId;if(i){const t=this._fetchNamespace(i);t&&e.add(t)}}}return e}trigger(t,e,n,r){if(Pa(e)){const i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!Pa(e))return;const i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const r=this._fetchNamespace(t);r&&r.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Ma(t,Oa)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Ua(t,Oa))}removeNode(t,e,n,r){if(Pa(e)){const i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,n,r){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,r,i){return Pa(e)?this._fetchNamespace(t).listen(e,n,r,i):()=>{}}_buildInstruction(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}destroyInnerAnimations(t){let e=this.driver.query(t,bo,!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,wo,!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Qs(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=Ca,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,Sa)&&this.markElementAsDisabled(t,!1),this.driver.query(t,Sa,!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)Ma(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?Qs(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error("Unable to process animations due to the following failed trigger transitions\n "+t.join("\n"))}_flushAnimations(t,e){const n=new ea,r=[],i=new Map,s=[],o=new Map,a=new Map,u=new Map,c=new Set;this.disabledNodes.forEach(t=>{c.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)c.add(e[n])});const l=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=Fa(h,this.collectedEnterElements),d=new Map;let p=0;f.forEach((t,e)=>{const n=mo+p++;d.set(e,n),t.forEach(t=>Ma(t,n))});const g=[],m=new Set,y=new Set;for(let j=0;j<this.collectedLeaveElements.length;j++){const t=this.collectedLeaveElements[j],e=t.__ng_removed;e&&e.setForRemoval&&(g.push(t),m.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>m.add(t)):y.add(t))}const v=new Map,b=Fa(h,Array.from(m));b.forEach((t,e)=>{const n=yo+p++;v.set(e,n),t.forEach(t=>Ma(t,n))}),t.push(()=>{f.forEach((t,e)=>{const n=d.get(e);t.forEach(t=>Ua(t,n))}),b.forEach((t,e)=>{const n=v.get(e);t.forEach(t=>Ua(t,n))}),g.forEach(t=>{this.processLeaveNode(t)})});const _=[],w=[];for(let j=this._namespaceList.length-1;j>=0;j--)this._namespaceList[j].drainQueuedTransitions(e).forEach(t=>{const e=t.player,i=t.element;if(_.push(e),this.collectedEnterElements.length){const t=i.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const c=!l||!this.driver.containsElement(l,i),h=v.get(i),f=d.get(i),p=this._buildInstruction(t,n,f,h,c);if(p.errors&&p.errors.length)w.push(p);else{if(c)return e.onStart(()=>jo(i,p.fromStyles)),e.onDestroy(()=>Ao(i,p.toStyles)),void r.push(e);if(t.isFallbackTransition)return e.onStart(()=>jo(i,p.fromStyles)),e.onDestroy(()=>Ao(i,p.toStyles)),void r.push(e);p.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(i,p.timelines),s.push({instruction:p,player:e,element:i}),p.queriedElements.forEach(t=>to(o,t,[]).push(e)),p.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),p.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let r=u.get(e);r||u.set(e,r=new Set),n.forEach(t=>r.add(t))})}});if(w.length){const t=[];w.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),_.forEach(t=>t.destroy()),this.reportError(t)}const E=new Map,O=new Map;s.forEach(t=>{const e=t.element;n.has(e)&&(O.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,E))}),r.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{to(E,e,[]).push(t),t.destroy()})});const S=g.filter(t=>qa(t,a,u)),T=new Map;La(T,this.driver,y,u,Ms).forEach(t=>{qa(t,a,u)&&S.push(t)});const C=new Map;f.forEach((t,e)=>{La(C,this.driver,new Set(t),a,"!")}),S.forEach(t=>{const e=T.get(t),n=C.get(t);T.set(t,Object.assign(Object.assign({},e),n))});const x=[],I=[],A={};s.forEach(t=>{const{element:e,player:s,instruction:o}=t;if(n.has(e)){if(c.has(e))return s.onDestroy(()=>Ao(e,o.toStyles)),s.disabled=!0,s.overrideTotalTime(o.totalTime),void r.push(s);let t=A;if(O.size>1){let n=e;const r=[];for(;n=n.parentNode;){const e=O.get(n);if(e){t=e;break}r.push(n)}r.forEach(e=>O.set(e,t))}const n=this._buildAnimation(s.namespaceId,o,E,i,C,T);if(s.setRealPlayer(n),t===A)x.push(s);else{const e=this.playersByElement.get(t);e&&e.length&&(s.parentPlayer=Qs(e)),r.push(s)}}else jo(e,o.fromStyles),s.onDestroy(()=>Ao(e,o.toStyles)),I.push(s),c.has(e)&&r.push(s)}),I.forEach(t=>{const e=i.get(t.element);if(e&&e.length){const n=Qs(e);t.setRealPlayer(n)}}),r.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let j=0;j<g.length;j++){const t=g[j],e=t.__ng_removed;if(Ua(t,yo),e&&e.hasAnimation)continue;let n=[];if(o.size){let e=o.get(t);e&&e.length&&n.push(...e);let r=this.driver.query(t,wo,!0);for(let t=0;t<r.length;t++){let e=o.get(r[t]);e&&e.length&&n.push(...e)}}const r=n.filter(t=>!t.destroyed);r.length?Va(this,t,r):this.processLeaveNode(t)}return g.length=0,x.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),x}elementContainsData(t,e){let n=!1;const r=e.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,i){let s=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(s=e)}else{const e=this.playersByElement.get(t);if(e){const t=!i||i==Aa;e.forEach(e=>{e.queued||(t||e.triggerName==r)&&s.push(e)})}}return(n||r)&&(s=s.filter(t=>!(n&&n!=t.namespaceId||r&&r!=t.triggerName))),s}_beforeAnimationBuild(t,e,n){const r=e.element,i=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName;for(const o of e.timelines){const t=o.element,a=t!==r,u=to(n,t,[]);this._getPreviousPlayers(t,a,i,s,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),u.push(t)})}jo(r,e.fromStyles)}_buildAnimation(t,e,n,r,i,s){const o=e.triggerName,a=e.element,u=[],c=new Set,l=new Set,h=e.timelines.map(e=>{const h=e.element;c.add(h);const f=h.__ng_removed;if(f&&f.removedBeforeQueried)return new $s(e.duration,e.delay);const d=h!==a,p=function(t){const e=[];return function t(e,n){for(let r=0;r<e.length;r++){const i=e[r];i instanceof Ws?t(i.players,n):n.push(i)}}(t,e),e}((n.get(h)||Ta).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),g=i.get(h),m=s.get(h),y=Ys(0,this._normalizer,0,e.keyframes,g,m),v=this._buildPlayer(e,y,p);if(e.subTimeline&&r&&l.add(h),d){const e=new Na(t,o,h);e.setRealPlayer(v),u.push(e)}return v});u.forEach(t=>{to(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let r;if(t instanceof Map){if(r=t.get(e),r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&t.delete(e)}}else if(r=t[e],r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&delete t[e]}return r}(this.playersByQueriedElement,t.element,t))}),c.forEach(t=>Ma(t,_o));const f=Qs(h);return f.onDestroy(()=>{c.forEach(t=>Ua(t,_o)),Ao(a,e.toStyles)}),l.forEach(t=>{to(r,t,[]).push(f)}),f}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new $s(t.duration,t.delay)}}class Na{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new $s,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>Xs(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){to(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Pa(t){return t&&1===t.nodeType}function Da(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function La(t,e,n,r,i){const s=[];n.forEach(t=>s.push(Da(t)));const o=[];r.forEach((n,r)=>{const s={};n.forEach(t=>{const n=s[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r.__ng_removed=xa,o.push(r))}),t.set(r,s)});let a=0;return n.forEach(t=>Da(t,s[a++])),o}function Fa(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const r=new Set(e),i=new Map;return e.forEach(t=>{const e=function t(e){if(!e)return 1;let s=i.get(e);if(s)return s;const o=e.parentNode;return s=n.has(o)?o:r.has(o)?1:t(o),i.set(e,s),s}(t);1!==e&&n.get(e).push(t)}),n}function Ma(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function Ua(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function Va(t,e,n){Qs(n).onDone(()=>t.processLeaveNode(e))}function qa(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(t=>i.add(t)):e.set(t,r),n.delete(t),!0}class Ba{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new Ra(t,e,n),this._timelineEngine=new wa(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,r,i){const s=t+"-"+r;let o=this._triggerCache[s];if(!o){const t=[],e=Ko(this._driver,i,t);if(t.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);o=function(t,e){return new va(t,e)}(r,e),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(e,r,o)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[t,i]=eo(n);this._timelineEngine.command(t,e,i,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,i){if("@"==n.charAt(0)){const[t,r]=eo(n);return this._timelineEngine.listen(t,e,r,i)}return this._transitionEngine.listen(t,e,n,r,i)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function za(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=Ga(e[0]),e.length>1&&(r=Ga(e[e.length-1]))):e&&(n=Ga(e)),n||r?new Ha(t,n,r):null}let Ha=(()=>{class t{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&Ao(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ao(this._element,this._initialStyles),this._endStyles&&(Ao(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(jo(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(jo(this._element,this._endStyles),this._endStyles=null),Ao(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function Ga(t){let e=null;const n=Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r];$a(i)&&(e=e||{},e[i]=t[i])}return e}function $a(t){return"display"===t||"position"===t}const Wa="animation",Ka="animationend";class Qa{constructor(t,e,n,r,i,s,o){this._element=t,this._name=e,this._duration=n,this._delay=r,this._easing=i,this._fillMode=s,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=eu(t,"").trim();n.length&&(function(t,e){let n=0;for(let r=0;r<t.length;r++)","===t.charAt(r)&&n++}(n),e=`${n}, ${e}`),tu(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),Ja(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){Ya(this._element,this._name,"paused")}resume(){Ya(this._element,this._name,"running")}setPosition(t){const e=Xa(this._element,this._name);this._position=t*this._duration,tu(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),Ja(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=eu(t,"").split(","),r=Za(n,e);r>=0&&(n.splice(r,1),tu(t,"",n.join(",")))}(this._element,this._name))}}function Ya(t,e,n){tu(t,"PlayState",n,Xa(t,e))}function Xa(t,e){const n=eu(t,"");return n.indexOf(",")>0?Za(n.split(","),e):Za([n],e)}function Za(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function Ja(t,e,n){n?t.removeEventListener(Ka,e):t.addEventListener(Ka,e)}function tu(t,e,n,r){const i=Wa+e;if(null!=r){const e=t.style[i];if(e.length){const t=e.split(",");t[r]=n,n=t.join(",")}}t.style[i]=n}function eu(t,e){return t.style[Wa+e]}class nu{constructor(t,e,n,r,i,s,o,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=r+i,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new Qa(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:qo(this.element,n))})}this.currentSnapshot=t}}class ru extends $s{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=fo(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class iu{constructor(){this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}validateStyleProperty(t){return uo(t)}matchesElement(t,e){return co(t,e)}containsElement(t,e){return lo(t,e)}query(t,e,n){return ho(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>fo(t));let r=`@keyframes ${e} {\n`,i="";n.forEach(t=>{i=" ";const e=parseFloat(t.offset);r+=`${i}${100*e}% {\n`,i+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${e}: ${n};\n`)}}),r+=i+"}\n"}),r+="}\n";const s=document.createElement("style");return s.textContent=r,s}animate(t,e,n,r,i,s=[],o){o&&this._notifyFaultyScrubber();const a=s.filter(t=>t instanceof nu),u={};Mo(n,r)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const c=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=Uo(t,e,u));if(0==n)return new ru(t,c);const l="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,l,e);document.querySelector("head").appendChild(h);const f=za(t,e),d=new nu(t,e,l,n,r,i,c,f);return d.onDestroy(()=>{var t;(t=h).parentNode.removeChild(t)}),d}_notifyFaultyScrubber(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}class su{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:qo(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class ou{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(au().toString()),this._cssKeyframesDriver=new iu}validateStyleProperty(t){return uo(t)}matchesElement(t,e){return co(t,e)}containsElement(t,e){return lo(t,e)}query(t,e,n){return ho(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,r,i,s=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,s);const a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);const u={},c=s.filter(t=>t instanceof su);Mo(n,r)&&c.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const l=za(t,e=Uo(t,e=e.map(t=>Co(t,!1)),u));return new su(t,e,a,l)}}function au(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}let uu=(()=>{class t extends Fs{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:r.R.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?qs(t):t;return hu(this._renderer,null,e,"register",[n]),new cu(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.F),r.Rb(a))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();class cu extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new lu(this._id,t,e||{},this._renderer)}}class lu{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return hu(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){return 0}}function hu(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}const fu="@",du="@.disabled";let pu=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new gu("",n,this.engine),this._rendererCache.set(n,t)),t}const r=e.id,i=e.id+"-"+this._currentId;this._currentId++,this.engine.register(i,t);const s=e=>{Array.isArray(e)?e.forEach(s):this.engine.registerTrigger(r,i,t,e.name,e)};return e.data.animation.forEach(s),new mu(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.F),r.Rb(Ba),r.Rb(r.z))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();class gu{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,!0)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){e.charAt(0)==fu&&e==du?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class mu extends gu{constructor(t,e,n,r){super(e,n,r),this.factory=t,this.namespaceId=e}setProperty(t,e,n){e.charAt(0)==fu?"."==e.charAt(1)&&e==du?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if(e.charAt(0)==fu){const r=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let i=e.substr(1),s="";return i.charAt(0)!=fu&&([i,s]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(i)),this.engine.listen(this.namespaceId,r,i,s,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let yu=(()=>{class t extends Ba{constructor(t,e,n){super(t.body,e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(a),r.Rb(go),r.Rb(ha))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();const vu=[{provide:go,useFactory:function(){return"function"==typeof au()?new ou:new iu}},{provide:new r.q("AnimationModuleType"),useValue:"BrowserAnimations"},{provide:Fs,useClass:uu},{provide:ha,useFactory:function(){return new fa}},{provide:Ba,useClass:yu},{provide:r.F,useFactory:function(t,e,n){return new pu(t,e,n)},deps:[nt,Ba,r.z]}];let bu=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:vu,imports:[gt]}),t})();const _u=new r.P("10.2.7"),wu=new r.q("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let Eu,Ou=(()=>{class t{constructor(t,e,n){this._hasDoneGlobalChecks=!1,this._document=n,t._applyBodyHighContrastModeCssClasses(),this._sanityChecks=e,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getDocument(){const t=this._document||document;return"object"==typeof t&&t?t:null}_getWindow(){const t=this._getDocument(),e=(null==t?void 0:t.defaultView)||window;return"object"==typeof e&&e?e:null}_checksAreEnabled(){return Object(r.W)()&&!this._isTestEnv()}_isTestEnv(){const t=this._getWindow();return t&&(t.__karma__||t.jasmine)}_checkDoctypeIsDefined(){const t=this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype),e=this._getDocument();t&&e&&!e.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){const t=!this._checksAreEnabled()||!1===this._sanityChecks||!this._sanityChecks.theme,e=this._getDocument();if(t||!e||!e.body||"function"!=typeof getComputedStyle)return;const n=e.createElement("div");n.classList.add("mat-theme-loaded-marker"),e.body.appendChild(n);const r=getComputedStyle(n);r&&"none"!==r.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),e.body.removeChild(n)}_checkCdkVersionMatch(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&_u.full!==Ls.full&&console.warn("The Angular Material version ("+_u.full+") does not match the Angular CDK version ("+Ls.full+").\nPlease ensure the versions of these two packages exactly match.")}}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)(r.Rb(Ds),r.Rb(wu,8),r.Rb(a,8))},imports:[[Pi],Pi]}),t})();try{Eu="undefined"!=typeof Intl}catch(yO){Eu=!1}function Su(t,e){}class Tu{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}}const Cu={dialogContainer:Us("dialogContainer",[zs("void, exit",Bs({opacity:0,transform:"scale(0.7)"})),zs("enter",Bs({transform:"none"})),Hs("* => enter",Vs("150ms cubic-bezier(0, 0, 0.2, 1)",Bs({transform:"none",opacity:1}))),Hs("* => void, * => exit",Vs("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",Bs({opacity:0})))])};let xu=(()=>{class t extends zi{constructor(t,e,n,i,s,o){super(),this._elementRef=t,this._focusTrapFactory=e,this._changeDetectorRef=n,this._config=s,this._focusMonitor=o,this._animationStateChanged=new r.n,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=t=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(t)),this._ariaLabelledBy=s.ariaLabelledBy||null,this._document=i}_initializeWithAttachedContent(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement(),this._focusDialogContainer()}attachComponentPortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(t)}_recaptureFocus(){this._containsFocus()||(!this._config.autoFocus||!this._focusTrap.focusInitialElement())&&this._elementRef.nativeElement.focus()}_trapFocus(){this._config.autoFocus?this._focusTrap.focusInitialElementWhenReady():this._containsFocus()||this._elementRef.nativeElement.focus()}_restoreFocus(){const t=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&t&&"function"==typeof t.focus){const e=this._document.activeElement,n=this._elementRef.nativeElement;e&&e!==this._document.body&&e!==n&&!n.contains(e)||(this._focusMonitor?(this._focusMonitor.focusVia(t,this._closeInteractionType),this._closeInteractionType=null):t.focus())}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}_capturePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=this._document.activeElement)}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,e=this._document.activeElement;return t===e||t.contains(e)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.l),r.Kb(xs),r.Kb(r.h),r.Kb(a,8),r.Kb(Tu),r.Kb(js))},t.\u0275dir=r.Fb({type:t,viewQuery:function(t,e){var n;1&t&&r.hc(Gi,!0),2&t&&r.dc(n=r.Vb())&&(e._portalOutlet=n.first)},features:[r.xb]}),t})(),Iu=(()=>{class t extends xu{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:t,totalTime:e}){"enter"===t?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})):"exit"===t&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:e}))}_onAnimationStart({toState:t,totalTime:e}){"enter"===t?this._animationStateChanged.next({state:"opening",totalTime:e}):"exit"!==t&&"void"!==t||this._animationStateChanged.next({state:"closing",totalTime:e})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return t.\u0275fac=function(e){return Au(e||t)},t.\u0275cmp=r.Eb({type:t,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(t,e){1&t&&r.jc("@dialogContainer.start",(function(t){return e._onAnimationStart(t)}))("@dialogContainer.done",(function(t){return e._onAnimationDone(t)})),2&t&&(r.Qb("id",e._id),r.Bb("role",e._config.role)("aria-labelledby",e._config.ariaLabel?null:e._ariaLabelledBy)("aria-label",e._config.ariaLabel)("aria-describedby",e._config.ariaDescribedBy||null),r.kc("@dialogContainer",e._state))},features:[r.xb],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,e){1&t&&r.lc(0,Su,0,0,"ng-template",0)},directives:[Gi],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[Cu.dialogContainer]}}),t})();const Au=r.Pb(Iu);let ju=0;class ku{constructor(t,e,n="mat-dialog-"+ju++){this._overlayRef=t,this._containerInstance=e,this.id=n,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new vt.a,this._afterClosed=new vt.a,this._beforeClosed=new vt.a,this._state=0,e._id=n,e._animationStateChanged.pipe(Ut(t=>"opened"===t.state),ie(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe(Ut(t=>"closed"===t.state),ie(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),t.keydownEvents().pipe(Ut(t=>27===t.keyCode&&!this.disableClose&&!function(t,...e){return e.length?e.some(e=>t[e]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}(t))).subscribe(t=>{t.preventDefault(),Ru(this,"keyboard")}),t.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():Ru(this,"mouse")})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(Ut(t=>"closing"===t.state),ie(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(t){let e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(t="",e=""){return this._getPositionStrategy().width(t).height(e),this._overlayRef.updatePosition(),this}addPanelClass(t){return this._overlayRef.addPanelClass(t),this}removePanelClass(t){return this._overlayRef.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function Ru(t,e,n){return void 0!==t._containerInstance&&(t._containerInstance._closeInteractionType=e),t.close(n)}const Nu=new r.q("MatDialogData"),Pu=new r.q("mat-dialog-default-options"),Du=new r.q("mat-dialog-scroll-strategy"),Lu={provide:Du,deps:[_s],useFactory:function(t){return()=>t.scrollStrategies.block()}};let Fu=(()=>{class t{constructor(t,e,n,r,i,s,o,a,u){this._overlay=t,this._injector=e,this._defaultOptions=n,this._parentDialog=r,this._overlayContainer=i,this._dialogRefConstructor=o,this._dialogContainerType=a,this._dialogDataToken=u,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new vt.a,this._afterOpenedAtThisLevel=new vt.a,this._ariaHiddenElements=new Map,this.afterAllClosed=Dt(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(ue(void 0))),this._scrollStrategy=s}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(t,e){(e=function(t,e){return Object.assign(Object.assign({},e),t)}(e,this._defaultOptions||new Tu)).id&&this.getDialogById(e.id);const n=this._createOverlay(e),r=this._attachDialogContainer(n,e),i=this._attachDialogContent(t,r,n,e);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(i),i.afterClosed().subscribe(()=>this._removeOpenDialog(i)),this.afterOpened.next(i),r._initializeWithAttachedContent(),i}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(e=>e.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(t){const e=this._getOverlayConfig(t);return this._overlay.create(e)}_getOverlayConfig(t){const e=new es({positionStrategy:this._overlay.position().global(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(e.backdropClass=t.backdropClass),e}_attachDialogContainer(t,e){const n=r.r.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:Tu,useValue:e}]}),i=new Vi(this._dialogContainerType,e.viewContainerRef,n,e.componentFactoryResolver);return t.attach(i).instance}_attachDialogContent(t,e,n,i){const s=new this._dialogRefConstructor(n,e,i.id);if(t instanceof r.L)e.attachTemplatePortal(new qi(t,null,{$implicit:i.data,dialogRef:s}));else{const n=this._createInjector(i,s,e),r=e.attachComponentPortal(new Vi(t,i.viewContainerRef,n));s.componentInstance=r.instance}return s.updateSize(i.width,i.height).updatePosition(i.position),s}_createInjector(t,e,n){const i=t&&t.viewContainerRef&&t.viewContainerRef.injector,s=[{provide:this._dialogContainerType,useValue:n},{provide:this._dialogDataToken,useValue:t.data},{provide:this._dialogRefConstructor,useValue:e}];return!t.direction||i&&i.get(Ni,null)||s.push({provide:Ni,useValue:{value:t.direction,change:Object(mt.a)()}}),r.r.create({parent:i||this._injector,providers:s})}_removeOpenDialog(t){const e=this.openDialogs.indexOf(t);e>-1&&(this.openDialogs.splice(e,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((t,e)=>{t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const e=t.parentElement.children;for(let n=e.length-1;n>-1;n--){let r=e[n];r===t||"SCRIPT"===r.nodeName||"STYLE"===r.nodeName||r.hasAttribute("aria-live")||(this._ariaHiddenElements.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}}}_closeDialogs(t){let e=t.length;for(;e--;)t[e].close()}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(_s),r.Kb(r.r),r.Kb(void 0),r.Kb(void 0),r.Kb(us),r.Kb(void 0),r.Kb(r.N),r.Kb(r.N),r.Kb(r.q))},t.\u0275dir=r.Fb({type:t}),t})(),Mu=(()=>{class t extends Fu{constructor(t,e,n,r,i,s,o){super(t,e,r,s,o,i,ku,Iu,Nu)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(_s),r.Rb(r.r),r.Rb(E,8),r.Rb(Pu,8),r.Rb(Du),r.Rb(t,12),r.Rb(us))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),Uu=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[Mu,Lu],imports:[[Es,$i,Ou],Ou]}),t})();function Vu(t,e){if(1&t&&(r.Nb(0,"li"),r.mc(1),r.Mb()),2&t){const t=e.$implicit;r.Ab(1),r.nc(t)}}let qu=(()=>{class t{constructor(t,e){this.dialogRef=t,this.data=e}ngOnInit(){}onNoClick(){this.dialogRef.close()}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(ku),r.Kb(Nu))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-movie-info"]],decls:34,vars:8,consts:[[1,"infoContainer"],[1,"photoTitle"],["alt","",3,"src"],[1,"infoMovie"],[4,"ngFor","ngForOf"],[1,"quit"]],template:function(t,e){1&t&&(r.Nb(0,"div",0),r.Nb(1,"div",1),r.Nb(2,"p"),r.mc(3),r.Mb(),r.Lb(4,"img",2),r.Mb(),r.Nb(5,"div",3),r.Nb(6,"p"),r.Nb(7,"strong"),r.mc(8,"Genres:"),r.Mb(),r.mc(9),r.Mb(),r.Nb(10,"p"),r.Nb(11,"strong"),r.mc(12,"Year:"),r.Mb(),r.mc(13),r.Mb(),r.Nb(14,"p"),r.Nb(15,"strong"),r.mc(16,"Director:"),r.Mb(),r.mc(17),r.Mb(),r.Nb(18,"p"),r.Nb(19,"strong"),r.mc(20,"Actors:"),r.Mb(),r.Mb(),r.Nb(21,"ul"),r.lc(22,Vu,2,1,"li",4),r.Mb(),r.Nb(23,"p"),r.Nb(24,"strong"),r.mc(25,"Schedule:"),r.Mb(),r.mc(26," 12:00 - 16:00 - 20:00"),r.Mb(),r.Nb(27,"p"),r.Nb(28,"strong"),r.mc(29,"Synopsis"),r.Mb(),r.Mb(),r.Nb(30,"p"),r.mc(31),r.Mb(),r.Mb(),r.Mb(),r.Nb(32,"p",5),r.mc(33,"Click outside to quit"),r.Mb()),2&t&&(r.Ab(3),r.pc("Room ",e.data.room," ",e.data.title,""),r.Ab(1),r.cc("src",e.data.poster,r.fc),r.Ab(5),r.oc(" ",e.data.genres,""),r.Ab(4),r.oc(" ",e.data.year,""),r.Ab(4),r.oc(" ",e.data.director,""),r.Ab(5),r.bc("ngForOf",e.data.actors),r.Ab(9),r.oc(" ",e.data.synopsis,""))},directives:[j],styles:[".infoContainer[_ngcontent-%COMP%]{display:flex;flex-flow:row;font-family:Mukta;font-size:18px}.photoTitle[_ngcontent-%COMP%]{width:300px}.photoTitle[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:250px;height:430px}.infoMovie[_ngcontent-%COMP%]{margin-top:30px;margin-left:15px}.infoMovie[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none}.quit[_ngcontent-%COMP%]{text-align:center}"]}),t})();var Bu=n("spgP"),zu=n("Jgta"),Hu=n("os0x"),Gu=n("zIRd"),$u=n("q/0M"),Wu=n("qOnz"),Ku=function(t,e){return(Ku=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Qu(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var Yu,Xu="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Zu=Zu||{},Ju=Xu||self;function tc(){}function ec(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function nc(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var rc="closure_uid_"+(1e9*Math.random()>>>0),ic=0;function sc(t,e,n){return t.call.apply(t.bind,arguments)}function oc(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function ac(t,e,n){return(ac=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?sc:oc).apply(null,arguments)}function uc(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function cc(){return Date.now()}function lc(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return e.prototype[n].apply(t,i)}}function hc(){this.j=this.j,this.i=this.i}hc.prototype.j=!1,hc.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,rc)&&t[rc]||(t[rc]=++ic)}(this)},hc.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var fc=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},dc=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function pc(t){return Array.prototype.concat.apply([],arguments)}function gc(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function mc(t){return/^[\s\xa0]*$/.test(t)}var yc,vc=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function bc(t,e){return-1!=t.indexOf(e)}function _c(t,e){return t<e?-1:t>e?1:0}t:{var wc=Ju.navigator;if(wc){var Ec=wc.userAgent;if(Ec){yc=Ec;break t}}yc=""}function Oc(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Sc(t){var e={};for(var n in t)e[n]=t[n];return e}var Tc="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Cc(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var s=0;s<Tc.length;s++)n=Tc[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function xc(t){return xc[" "](t),t}xc[" "]=tc;var Ic,Ac,jc=bc(yc,"Opera"),kc=bc(yc,"Trident")||bc(yc,"MSIE"),Rc=bc(yc,"Edge"),Nc=Rc||kc,Pc=bc(yc,"Gecko")&&!(bc(yc.toLowerCase(),"webkit")&&!bc(yc,"Edge"))&&!(bc(yc,"Trident")||bc(yc,"MSIE"))&&!bc(yc,"Edge"),Dc=bc(yc.toLowerCase(),"webkit")&&!bc(yc,"Edge");function Lc(){var t=Ju.document;return t?t.documentMode:void 0}t:{var Fc="",Mc=(Ac=yc,Pc?/rv:([^\);]+)(\)|;)/.exec(Ac):Rc?/Edge\/([\d\.]+)/.exec(Ac):kc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Ac):Dc?/WebKit\/(\S+)/.exec(Ac):jc?/(?:Version)[ \/]?(\S+)/.exec(Ac):void 0);if(Mc&&(Fc=Mc?Mc[1]:""),kc){var Uc=Lc();if(null!=Uc&&Uc>parseFloat(Fc)){Ic=String(Uc);break t}}Ic=Fc}var Vc={};function qc(t){return function(t,e){var n=Vc;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=vc(String(Ic)).split("."),r=vc(String(t)).split("."),i=Math.max(n.length,r.length),s=0;0==e&&s<i;s++){var o=n[s]||"",a=r[s]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=_c(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||_c(0==o[2].length,0==a[2].length)||_c(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e}))}var Bc=Ju.document&&kc&&(Lc()||parseInt(Ic,10))||void 0,zc=!kc||9<=Number(Bc),Hc=kc&&!qc("9"),Gc=function(){if(!Ju.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Ju.addEventListener("test",tc,e),Ju.removeEventListener("test",tc,e)}catch(n){}return t}();function $c(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function Wc(t,e){if($c.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(Pc){t:{try{xc(e.nodeName);var i=!0;break t}catch(s){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Kc[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}$c.prototype.b=function(){this.defaultPrevented=!0},lc(Wc,$c);var Kc={2:"touch",3:"pen",4:"mouse"};Wc.prototype.b=function(){Wc.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Hc)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var Qc="closure_listenable_"+(1e6*Math.random()|0),Yc=0;function Xc(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++Yc,this.Y=this.Z=!1}function Zc(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function Jc(t){this.src=t,this.a={},this.b=0}function tl(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],s=fc(i,e);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(Zc(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function el(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.Y&&s.listener==e&&s.capture==!!n&&s.ca==r)return i}return-1}Jc.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.a[s])||(t=this.a[s]=[],this.b++);var o=el(t,e,r,i);return-1<o?(e=t[o],n||(e.Z=!1)):((e=new Xc(e,this.src,s,!!r,i)).Z=n,t.push(e)),e};var nl="closure_lm_"+(1e6*Math.random()|0),rl={};function il(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,s){if(Array.isArray(n)){for(var o=0;o<n.length;o++)t(e,n[o],r,i,s);return null}return r=fl(r),e&&e[Qc]?e.wa(n,r,nc(i)?!!i.capture:!!i,s):sl(e,n,r,!0,i,s)}(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)il(t,e[s],n,r,i);return null}return n=fl(n),t&&t[Qc]?t.va(e,n,nc(r)?!!r.capture:!!r,i):sl(t,e,n,!1,r,i)}function sl(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=nc(i)?!!i.capture:!!i;if(o&&!zc)return null;var a=ll(t);if(a||(t[nl]=a=new Jc(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function(){var t=cl,e=zc?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Gc||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(al(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function ol(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[Qc])tl(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(al(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=ll(e))?(tl(n,t),0==n.b&&(n.src=null,e[nl]=null)):Zc(t)}}}function al(t){return t in rl?rl[t]:rl[t]="on"+t}function ul(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&ol(t),n.call(r,e)}function cl(t,e){if(t.Y)return!0;if(!zc){if(!e)t:{e=["window","event"];for(var n=Ju,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return ul(t,e=new Wc(e,this))}return ul(t,new Wc(e,this))}function ll(t){return(t=t[nl])instanceof Jc?t:null}var hl="__closure_events_fn_"+(1e9*Math.random()>>>0);function fl(t){return"function"==typeof t?t:(t[hl]||(t[hl]=function(e){return t.handleEvent(e)}),t[hl])}function dl(){hc.call(this),this.c=new Jc(this),this.J=this,this.C=null}function pl(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new $c(e,t);else if(e instanceof $c)e.target=e.target||t;else{var i=e;Cc(e=new $c(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.a=n[s];i=gl(o,r,!0,e)&&i}if(i=gl(o=e.a=t,r,!0,e)&&i,i=gl(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=gl(o=e.a=n[s],r,!1,e)&&i}function gl(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.Y&&o.capture==n){var a=o.listener,u=o.ca||o.src;o.Z&&tl(t.c,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}lc(dl,hc),dl.prototype[Qc]=!0,(Yu=dl.prototype).addEventListener=function(t,e,n,r){il(this,t,e,n,r)},Yu.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,s){if(Array.isArray(n))for(var o=0;o<n.length;o++)t(e,n[o],r,i,s);else i=nc(i)?!!i.capture:!!i,r=fl(r),e&&e[Qc]?(e=e.c,(n=String(n).toString())in e.a&&-1<(r=el(o=e.a[n],r,i,s))&&(Zc(o[r]),Array.prototype.splice.call(o,r,1),0==o.length&&(delete e.a[n],e.b--))):e&&(e=ll(e))&&(n=e.a[n.toString()],e=-1,n&&(e=el(n,r,i,s)),(r=-1<e?n[e]:null)&&ol(r))}(this,t,e,n,r)},Yu.G=function(){if(dl.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Zc(n[r]);delete e.a[t],e.b--}}this.C=null},Yu.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},Yu.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var ml=Ju.JSON.stringify;function yl(){this.b=this.a=null}var vl,bl=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())((function(){return new wl}),(function(t){t.reset()}));function _l(){var t=Tl,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function wl(){this.next=this.b=this.a=null}function El(t){Ju.setTimeout((function(){throw t}),0)}function Ol(t,e){vl||function(){var t=Ju.Promise.resolve(void 0);vl=function(){t.then(Cl)}}(),Sl||(vl(),Sl=!0),Tl.add(t,e)}yl.prototype.add=function(t,e){var n=bl.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},wl.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},wl.prototype.reset=function(){this.next=this.b=this.a=null};var Sl=!1,Tl=new yl;function Cl(){for(var t;t=_l();){try{t.a.call(t.b)}catch(n){El(n)}var e=bl;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Sl=!1}function xl(t,e){dl.call(this),this.b=t||1,this.a=e||Ju,this.f=ac(this.Za,this),this.g=cc()}function Il(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Al(t,e,n){if("function"==typeof t)n&&(t=ac(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=ac(t.handleEvent,t)}return 2147483647<Number(e)?-1:Ju.setTimeout(t,e||0)}function jl(t){t.a=Al((function(){t.a=null,t.c&&(t.c=!1,jl(t))}),t.h);var e=t.b;t.b=null,t.g.apply(null,e)}lc(xl,dl),(Yu=xl.prototype).aa=!1,Yu.M=null,Yu.Za=function(){if(this.aa){var t=cc()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),pl(this,"tick"),this.aa&&(Il(this),this.start()))}},Yu.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=cc())},Yu.G=function(){xl.X.G.call(this),Il(this),delete this.a};var kl=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}Ku(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:jl(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(Ju.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(hc);function Rl(t){hc.call(this),this.b=t,this.a={}}lc(Rl,hc);var Nl=[];function Pl(t,e,n,r){Array.isArray(n)||(n&&(Nl[0]=n.toString()),n=Nl);for(var i=0;i<n.length;i++){var s=il(e,n[i],r||t.handleEvent,!1,t.b||t);if(!s)break;t.a[s.key]=s}}function Dl(t){Oc(t.a,(function(t,e){this.a.hasOwnProperty(e)&&ol(t)}),t),t.a={}}function Ll(){this.a=!0}function Fl(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return ml(n)}catch(a){return e}}(t,n)+(r?" "+r:"")}))}Rl.prototype.G=function(){Rl.X.G.call(this),Dl(this)},Rl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ll.prototype.info=function(){};var Ml={},Ul=null;function Vl(){return Ul=Ul||new dl}function ql(t){$c.call(this,Ml.Fa,t)}function Bl(t){var e=Vl();pl(e,new ql(e,t))}function zl(t,e){$c.call(this,Ml.STAT_EVENT,t),this.stat=e}function Hl(t){var e=Vl();pl(e,new zl(e,t))}function Gl(t){$c.call(this,Ml.Ga,t)}function $l(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Ju.setTimeout((function(){t()}),e)}Ml.Fa="serverreachability",lc(ql,$c),Ml.STAT_EVENT="statevent",lc(zl,$c),Ml.Ga="timingevent",lc(Gl,$c);var Wl={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},Kl={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function Ql(){}function Yl(){}Ql.prototype.a=null;var Xl,Zl={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function Jl(){$c.call(this,"d")}function th(){$c.call(this,"c")}function eh(){}function nh(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new Rl(this),this.P=rh,this.R=new xl(t=Nc?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}lc(Jl,$c),lc(th,$c),lc(eh,Ql),Xl=new eh;var rh=45e3,ih={},sh={};function oh(t,e,n){t.H=1,t.i=Ih(Eh(e)),t.j=n,t.I=!0,ah(t,null)}function ah(t,e){t.u=cc(),lh(t),t.l=Eh(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),qh(n.b,"t",r),t.D=0,t.a=Lf(t.g,t.g.C?e:null),0<t.O&&(t.F=new kl(ac(t.Ca,t,t.a),t.O)),Pl(t.J,t.a,"readystatechange",t.Xa),e=t.B?Sc(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),Bl(1),function(t,e,n,r,i,s){t.info((function(){if(t.a)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");o=2<=h.length&&"type"==h[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o}))}(t.c,t.m,t.l,t.f,t.S,t.j)}function uh(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=ch(t,n);if(i==sh){4==e&&(t.h=4,Hl(14),r=!1),Fl(t.c,t.f,null,"[Incomplete Response]");break}if(i==ih){t.h=4,Hl(15),Fl(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}Fl(t.c,t.f,i,null),gh(t,i)}4==e&&0==n.length&&(t.h=1,Hl(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),If(e),e.F=!0,Hl(11))):(Fl(t.c,t.f,n,"[Invalid Chunked Response]"),ph(t),dh(t))}function ch(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?sh:(n=Number(e.substring(n,r)),isNaN(n)?ih:(r+=1)+n>e.length?sh:(e=e.substr(r,n),t.D=r+n,e))}function lh(t){t.T=cc()+t.P,hh(t,t.P)}function hh(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=$l(ac(t.Va,t),e)}function fh(t){t.o&&(Ju.clearTimeout(t.o),t.o=null)}function dh(t){0==t.g.v||t.A||kf(t.g,t)}function ph(t){fh(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,Il(t.R),Dl(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function gh(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||Kh(n.b,t)))if(n.I=t.N,!t.C&&Kh(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(wE){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;jf(n),bf(n)}xf(n),Hl(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=$l(ac(n.Sa,n),6e3));if(1>=Wh(n.b)&&n.ea){try{n.ea()}catch(wE){}n.ea=void 0}}else Nf(n,11)}else if((t.C||n.a==t)&&jf(n),!mc(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var s=i[3];null!=s&&(n.ha=s,n.c.info("VER="+n.ha));var o=i[4];null!=o&&(n.pa=o,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(bc(l,"spdy")||bc(l,"quic")||bc(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(Qh(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,xh(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=cc()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((u=n).la=Df(u,u.C?u.ga:null,u.fa),d.C){Yh(u.b,d);var p=d,g=u.D;g&&p.setTimeout(g),p.o&&(fh(p),lh(p)),u.a=d}else Cf(u);0<n.g.length&&Ef(n)}else"stop"!=i[0]&&"close"!=i[0]||Nf(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Nf(n,7):vf(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);Bl(4)}catch(wE){}}function mh(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(ec(t)||"string"==typeof t)dc(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(ec(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(ec(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function yh(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof yh)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function vh(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];bh(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)bh(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function bh(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(Yu=nh.prototype).setTimeout=function(t){this.P=t},Yu.Xa=function(t){t=t.target;var e=this.F;e&&3==pf(t)?e.f():this.Ca(t)},Yu.Ca=function(t){try{if(t==this.a)t:{var e=pf(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!Nc&&!this.a.$())){this.A||4!=e||7==n||Bl(8==n||0>=r?3:2),fh(this);var i=this.a.W();this.N=i;var s=this.a.$();if(this.b=200==i,function(t,e,n,r,i,s,o){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o}))}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var o,a=this.a;if((o=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!mc(o)){var u=o;break e}}u=null}if(!u){this.b=!1,this.h=3,Hl(12),ph(this),dh(this);break t}Fl(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,gh(this,u)}this.I?(uh(this,e,s),Nc&&this.b&&3==e&&(Pl(this.J,this.R,"tick",this.Wa),this.R.start())):(Fl(this.c,this.f,s,null),gh(this,s)),4==e&&ph(this),this.b&&!this.A&&(4==e?kf(this.g,this):(this.b=!1,lh(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.h=3,Hl(12)):(this.h=0,Hl(13)),ph(this),dh(this)}}}catch(c){}},Yu.Wa=function(){if(this.a){var t=pf(this.a),e=this.a.$();this.D<e.length&&(fh(this),uh(this,t,e),this.b&&4!=t&&lh(this))}},Yu.cancel=function(){this.A=!0,ph(this)},Yu.Va=function(){this.o=null;var t=cc();0<=t-this.T?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.c,this.l),2!=this.H&&(Bl(3),Hl(17)),ph(this),this.h=2,dh(this)):hh(this,this.T-t)},(Yu=yh.prototype).K=function(){vh(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},Yu.L=function(){return vh(this),this.a.concat()},Yu.get=function(t,e){return bh(this.b,t)?this.b[t]:e},Yu.set=function(t,e){bh(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},Yu.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};var _h=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function wh(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof wh){this.a=void 0!==e?e:t.a,Oh(this,t.f),this.j=t.j,Sh(this,t.c),Th(this,t.h),this.g=t.g,e=t.b;var n=new Fh;n.c=e.c,e.a&&(n.a=new yh(e.a),n.b=e.b),Ch(this,n),this.i=t.i}else t&&(n=String(t).match(_h))?(this.a=!!e,Oh(this,n[1]||"",!0),this.j=Ah(n[2]||""),Sh(this,n[3]||"",!0),Th(this,n[4]),this.g=Ah(n[5]||"",!0),Ch(this,n[6]||"",!0),this.i=Ah(n[7]||"")):(this.a=!!e,this.b=new Fh(null,this.a))}function Eh(t){return new wh(t)}function Oh(t,e,n){t.f=n?Ah(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Sh(t,e,n){t.c=n?Ah(e,!0):e}function Th(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Ch(t,e,n){e instanceof Fh?(t.b=e,function(t,e){e&&!t.f&&(Mh(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Uh(this,e),qh(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=jh(e,Dh)),t.b=new Fh(e,t.a))}function xh(t,e,n){t.b.set(e,n)}function Ih(t){return xh(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^cc()).toString(36)),t}function Ah(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function jh(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,kh),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function kh(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}wh.prototype.toString=function(){var t=[],e=this.f;e&&t.push(jh(e,Rh,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(jh(e,Rh,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(jh(n,"/"==n.charAt(0)?Ph:Nh,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",jh(n,Lh)),t.join("")};var Rh=/[#\/\?@]/g,Nh=/[#\?:]/g,Ph=/[#\?]/g,Dh=/[#\?@]/g,Lh=/#/g;function Fh(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Mh(t){t.a||(t.a=new yh,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Uh(t,e){Mh(t),e=Bh(t,e),bh(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,bh((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&vh(t)))}function Vh(t,e){return Mh(t),e=Bh(t,e),bh(t.a.b,e)}function qh(t,e,n){Uh(t,e),0<n.length&&(t.c=null,t.a.set(Bh(t,e),gc(n)),t.b+=n.length)}function Bh(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(Yu=Fh.prototype).add=function(t,e){Mh(this),this.c=null,t=Bh(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},Yu.forEach=function(t,e){Mh(this),this.a.forEach((function(n,r){dc(n,(function(n){t.call(e,n,r,this)}),this)}),this)},Yu.L=function(){Mh(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n},Yu.K=function(t){Mh(this);var e=[];if("string"==typeof t)Vh(this,t)&&(e=pc(e,this.a.get(Bh(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=pc(e,t[n])}return e},Yu.set=function(t,e){return Mh(this),this.c=null,Vh(this,t=Bh(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},Yu.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},Yu.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.c=t.join("&")};var zh=function(){return function(t,e){this.b=t,this.a=e}}();function Hh(t){this.g=t||Gh,t=Ju.PerformanceNavigationTiming?0<(t=Ju.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Ju.ia&&Ju.ia.ya&&Ju.ia.ya()&&Ju.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var Gh=10;function $h(t){return!!t.b||!!t.a&&t.a.size>=t.f}function Wh(t){return t.b?1:t.a?t.a.size:0}function Kh(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function Qh(t,e){t.a?t.a.add(e):t.b=e}function Yh(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function Xh(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=Qu(t.a.values()),s=i.next();!s.done;s=i.next())r=r.concat(s.value.s)}catch(o){e={error:o}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return gc(t.c)}function Zh(){}function Jh(){this.a=new Zh}function tf(t,e,n){var r=n||"";try{mh(t,(function(t,n){var i=t;nc(t)&&(i=ml(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function ef(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}Hh.prototype.cancel=function(){var t,e;if(this.c=Xh(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=Qu(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},Zh.prototype.stringify=function(t){return Ju.JSON.stringify(t,void 0)},Zh.prototype.parse=function(t){return Ju.JSON.parse(t,void 0)};var nf=Ju.JSON.parse;function rf(t){dl.call(this),this.headers=new yh,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=sf,this.D=this.F=!1}lc(rf,dl);var sf="",of=/^https?$/i,af=["POST","PUT"];function uf(t){return"content-type"==t.toLowerCase()}function cf(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,lf(t),ff(t)}function lf(t){t.u||(t.u=!0,pl(t,"complete"),pl(t,"error"))}function hf(t){if(t.b&&void 0!==Zu&&(!t.s[1]||4!=pf(t)||2!=t.W()))if(t.l&&4==pf(t))Al(t.za,0,t);else if(pl(t,"readystatechange"),4==pf(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var s=String(t.B).match(_h)[1]||null;if(!s&&Ju.self&&Ju.self.location){var o=Ju.self.location.protocol;s=o.substr(0,o.length-1)}i=!of.test(s?s.toLowerCase():"")}e=i}if(e)pl(t,"complete"),pl(t,"success");else{t.h=6;try{var a=2<pf(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",lf(t)}}finally{ff(t)}}}function ff(t,e){if(t.a){df(t);var n=t.a,r=t.s[0]?tc:null;t.a=null,t.s=null,e||pl(t,"ready");try{n.onreadystatechange=r}catch(i){}}}function df(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(Ju.clearTimeout(t.m),t.m=null)}function pf(t){return t.a?t.a.readyState:0}function gf(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return Oc(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):xh(t,e,n))}function mf(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function yf(t){this.pa=0,this.g=[],this.c=new Ll,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=mf("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=mf("baseRetryDelayMs",5e3,t),this.Ra=mf("retryDelaySeedMs",1e4,t),this.Ma=mf("forwardChannelMaxRetries",2,t),this.ma=mf("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new Hh(t&&t.concurrentRequestLimit),this.ka=new Jh,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function vf(t){if(_f(t),3==t.v){var e=t.R++,n=Eh(t.B);xh(n,"SID",t.J),xh(n,"RID",e),xh(n,"TYPE","terminate"),Sf(t,n),(e=new nh(t,t.c,e,void 0)).H=2,e.i=Ih(Eh(n)),n=!1,Ju.navigator&&Ju.navigator.sendBeacon&&(n=Ju.navigator.sendBeacon(e.i.toString(),"")),!n&&Ju.Image&&((new Image).src=e.i,n=!0),n||(e.a=Lf(e.g,null),e.a.ba(e.i)),e.u=cc(),lh(e)}Pf(t)}function bf(t){t.a&&(If(t),t.a.cancel(),t.a=null)}function _f(t){bf(t),t.j&&(Ju.clearTimeout(t.j),t.j=null),jf(t),t.b.cancel(),t.h&&("number"==typeof t.h&&Ju.clearTimeout(t.h),t.h=null)}function wf(t,e){t.g.push(new zh(t.Oa++,e)),3==t.v&&Ef(t)}function Ef(t){$h(t.b)||t.h||(t.h=!0,Ol(t.Ba,t),t.u=0)}function Of(t,e){var n;n=e?e.f:t.R++;var r=Eh(t.B);xh(r,"SID",t.J),xh(r,"RID",n),xh(r,"AID",t.P),Sf(t,r),t.i&&t.l&&gf(r,t.i,t.l),n=new nh(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=Tf(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),Qh(t.b,n),oh(n,r,e)}function Sf(t,e){t.f&&mh({},(function(t,n){xh(e,n,t)}))}function Tf(t,e,n){n=Math.min(t.g.length,n);var r=t.f?ac(t.f.Ja,t.f,t):null;t:for(var i=t.g,s=-1;;){var o=["count="+n];-1==s?0<n?o.push("ofs="+(s=i[0].b)):s=0:o.push("ofs="+s);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=s))s=Math.max(0,i[u].b-100),a=!1;else try{tf(l,o,"req"+c+"_")}catch(h){r&&r(l)}}if(a){r=o.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Cf(t){t.a||t.j||(t.T=1,Ol(t.Aa,t),t.o=0)}function xf(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=$l(ac(t.Aa,t),Rf(t,t.o)),t.o++,0))}function If(t){null!=t.s&&(Ju.clearTimeout(t.s),t.s=null)}function Af(t){t.a=new nh(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Eh(t.la);xh(e,"RID","rpc"),xh(e,"SID",t.J),xh(e,"CI",t.H?"0":"1"),xh(e,"AID",t.P),Sf(t,e),xh(e,"TYPE","xmlhttp"),t.i&&t.l&&gf(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Ih(Eh(e)),n.j=null,n.I=!0,ah(n,t)}function jf(t){null!=t.m&&(Ju.clearTimeout(t.m),t.m=null)}function kf(t,e){var n=null;if(t.a==e){jf(t),If(t),t.a=null;var r=2}else{if(!Kh(t.b,e))return;n=e.s,Yh(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=cc()-e.u;var i=t.u;pl(r=Vl(),new Gl(r,n,e,i)),Ef(t)}else Cf(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(Wh(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=$l(ac(t.Ba,t,e),Rf(t,t.u)),t.u++,0)))}(t,e)||2==r&&xf(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:Nf(t,5);break;case 4:Nf(t,10);break;case 3:Nf(t,6);break;default:Nf(t,2)}}function Rf(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function Nf(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=ac(t.Ya,t);n||(n=new wh("//www.google.com/images/cleardot.gif"),Ju.location&&"http"==Ju.location.protocol||Oh(n,"https"),Ih(n)),function(t,e){var n=new Ll;if(Ju.Image){var r=new Image;r.onload=uc(ef,n,r,"TestLoadImage: loaded",!0,e),r.onerror=uc(ef,n,r,"TestLoadImage: error",!1,e),r.onabort=uc(ef,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=uc(ef,n,r,"TestLoadImage: timeout",!1,e),Ju.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else Hl(2);t.v=0,t.f&&t.f.ra(e),Pf(t),_f(t)}function Pf(t){t.v=0,t.I=-1,t.f&&(0==Xh(t.b).length&&0==t.g.length||(t.b.c.length=0,gc(t.g),t.g.length=0),t.f.qa())}function Df(t,e,n){var r=function(t){return t instanceof wh?Eh(t):new wh(t,void 0)}(n);if(""!=r.c)e&&Sh(r,e+"."+r.c),Th(r,r.h);else{var i=Ju.location;r=function(t,e,n,r){var i=new wh(null,void 0);return t&&Oh(i,t),e&&Sh(i,e),n&&Th(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&Oc(t.V,(function(t,e){xh(r,e,t)})),n=t.na,(e=t.A)&&n&&xh(r,e,n),xh(r,"VER",t.ha),Sf(t,r),r}function Lf(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new rf(t.Na)).F=t.C,e}function Ff(){}function Mf(){if(kc&&!(10<=Number(Bc)))throw Error("Environmental error: no available transport.")}function Uf(t,e){dl.call(this),this.a=new yf(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!mc(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!mc(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new Bf(this)}function Vf(t){Jl.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function qf(){th.call(this),this.status=1}function Bf(t){this.a=t}(Yu=rf.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:Xl),this.a.onreadystatechange=ac(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(s){return void cf(this,s)}t=n||"";var i=new yh(this.headers);r&&mh(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=uf,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=Ju.FormData&&t instanceof Ju.FormData,!(0<=fc(af,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{df(this),0<this.o&&((this.D=function(t){return kc&&qc(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=ac(this.xa,this)):this.m=Al(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(s){cf(this,s)}},Yu.xa=function(){void 0!==Zu&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,pl(this,"timeout"),this.abort(8))},Yu.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,pl(this,"complete"),pl(this,"abort"),ff(this))},Yu.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),ff(this,!0)),rf.X.G.call(this)},Yu.za=function(){this.j||(this.A||this.l||this.g?hf(this):this.Ua())},Yu.Ua=function(){hf(this)},Yu.W=function(){try{return 2<pf(this)?this.a.status:-1}catch(Ac){return-1}},Yu.$=function(){try{return this.a?this.a.responseText:""}catch(Ac){return""}},Yu.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),nf(e)}},Yu.ua=function(){return this.h},Yu.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(Yu=yf.prototype).ha=8,Yu.v=1,Yu.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new nh(this,this.c,t,void 0),r=this.l;if(this.O&&(r?Cc(r=Sc(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var s=this.g[i];if(void 0===(s="__data__"in s.a&&"string"==typeof(s=s.a.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Tf(this,n,e),xh(i=Eh(this.B),"RID",t),xh(i,"CVER",22),this.A&&xh(i,"X-HTTP-Session-Id",this.A),Sf(this,i),this.i&&r&&gf(i,this.i,r),Qh(this.b,n),this.Ia&&xh(i,"TYPE","init"),this.da?(xh(i,"$req",e),xh(i,"SID","null"),n.U=!0,oh(n,i,null)):oh(n,i,e),this.v=2}}else 3==this.v&&(t?Of(this,t):0==this.g.length||$h(this.b)||Of(this))},Yu.Aa=function(){if(this.j=null,Af(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=$l(ac(this.Ta,this),t)}},Yu.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Hl(10),bf(this),Af(this))},Yu.Sa=function(){null!=this.m&&(this.m=null,bf(this),xf(this),Hl(19))},Yu.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),Hl(2)):(this.c.info("Failed to ping google.com"),Hl(1))},(Yu=Ff.prototype).ta=function(){},Yu.sa=function(){},Yu.ra=function(){},Yu.qa=function(){},Yu.Ja=function(){},Mf.prototype.a=function(t,e){return new Uf(t,e)},lc(Uf,dl),Uf.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;Hl(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=Df(t,null,t.fa),Ef(t)},Uf.prototype.close=function(){vf(this.a)},Uf.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,wf(this.a,e)}else this.l?((e={}).__data__=ml(t),wf(this.a,e)):wf(this.a,t)},Uf.prototype.G=function(){this.a.f=null,delete this.f,vf(this.a),delete this.a,Uf.X.G.call(this)},lc(Vf,Jl),lc(qf,th),lc(Bf,Ff),Bf.prototype.ta=function(){pl(this.a,"a")},Bf.prototype.sa=function(t){pl(this.a,new Vf(t))},Bf.prototype.ra=function(t){pl(this.a,new qf(t))},Bf.prototype.qa=function(){pl(this.a,"b")},Mf.prototype.createWebChannel=Mf.prototype.a,Uf.prototype.send=Uf.prototype.h,Uf.prototype.open=Uf.prototype.g,Uf.prototype.close=Uf.prototype.close,Wl.NO_ERROR=0,Wl.TIMEOUT=8,Wl.HTTP_ERROR=6,Kl.COMPLETE="complete",Yl.EventType=Zl,Zl.OPEN="a",Zl.CLOSE="b",Zl.ERROR="c",Zl.MESSAGE="d",dl.prototype.listen=dl.prototype.va,rf.prototype.listenOnce=rf.prototype.wa,rf.prototype.getLastError=rf.prototype.Qa,rf.prototype.getLastErrorCode=rf.prototype.ua,rf.prototype.getStatus=rf.prototype.W,rf.prototype.getResponseJson=rf.prototype.Pa,rf.prototype.getResponseText=rf.prototype.$,rf.prototype.send=rf.prototype.ba;var zf=Wl,Hf=Kl,Gf=Ml,$f=Yl,Wf=rf,Kf=n("/6Yf"),Qf=function(t,e,n,r,i,s){this.t=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.i=s},Yf=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"o",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Xf=function(){function t(t){this.uid=t}return t.prototype.u=function(){return null!=this.uid},t.prototype.h=function(){return this.u()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();Xf.UNAUTHENTICATED=new Xf(null),Xf.l=new Xf("google-credentials-uid"),Xf._=new Xf("first-party-uid");var Zf=new $u.b("@firebase/firestore");function Jf(){return Zf.logLevel}function td(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Zf.logLevel<=$u.a.DEBUG){var r=e.map(rd);Zf.debug.apply(Zf,Object(Hu.g)(["Firestore (8.1.1): "+t],r))}}function ed(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Zf.logLevel<=$u.a.ERROR){var r=e.map(rd);Zf.error.apply(Zf,Object(Hu.g)(["Firestore (8.1.1): "+t],r))}}function nd(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Zf.logLevel<=$u.a.WARN){var r=e.map(rd);Zf.warn.apply(Zf,Object(Hu.g)(["Firestore (8.1.1): "+t],r))}}function rd(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(e){return t}}function id(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.1.1) INTERNAL ASSERTION FAILED: "+t;throw ed(e),new Error(e)}function sd(t,e){t||id()}function od(t,e){return t}var ad={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},ud=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(Hu.c)(e,t),e}(Error),cd=function(t,e){this.user=e,this.type="OAuth",this.T={},this.T.Authorization="Bearer "+t},ld=function(){function t(){this.I=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.m=function(){},t.prototype.A=function(t){this.I=t,t(Xf.UNAUTHENTICATED)},t.prototype.R=function(){this.I=null},t}(),hd=function(){function t(t){var e=this;this.P=null,this.currentUser=Xf.UNAUTHENTICATED,this.g=!1,this.V=0,this.I=null,this.forceRefresh=!1,this.P=function(){e.V++,e.currentUser=e.p(),e.g=!0,e.I&&e.I(e.currentUser)},this.V=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.P):(this.P(null),t.get().then((function(t){e.auth=t,e.P&&e.auth.addAuthTokenListener(e.P)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this.V,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.V!==e?(td("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(sd("string"==typeof n.accessToken),new cd(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.m=function(){this.forceRefresh=!0},t.prototype.A=function(t){this.I=t,this.g&&t(this.currentUser)},t.prototype.R=function(){this.auth&&this.auth.removeAuthTokenListener(this.P),this.P=null,this.I=null},t.prototype.p=function(){var t=this.auth&&this.auth.getUid();return sd(null===t||"string"==typeof t),new Xf(t)},t}(),fd=function(){function t(t,e){this.v=t,this.S=e,this.type="FirstParty",this.user=Xf._}return Object.defineProperty(t.prototype,"T",{get:function(){var t={"X-Goog-AuthUser":this.S},e=this.v.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),dd=function(){function t(t,e){this.v=t,this.S=e}return t.prototype.getToken=function(){return Promise.resolve(new fd(this.v,this.S))},t.prototype.A=function(t){t(Xf._)},t.prototype.R=function(){},t.prototype.m=function(){},t}();function pd(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var gd=function(){function t(){}return t.D=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=pd(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function md(t,e){return t<e?-1:t>e?1:0}function yd(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function vd(t){return t+"\0"}var bd=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new ud(ad.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new ud(ad.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new ud(ad.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ud(ad.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.C=function(t){return this.seconds===t.seconds?md(this.nanoseconds,t.nanoseconds):md(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),_d=function(){function t(t){this.timestamp=t}return t.N=function(e){return new t(e)},t.min=function(){return new t(new bd(0,0))},t.prototype.F=function(t){return this.timestamp.C(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.O=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.M=function(){return this.timestamp},t}(),wd=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&id(),void 0===n?n=t.length-e:n>t.length-e&&id(),this.segments=t,this.offset=e,this.k=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.k},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.$(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.L(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.B=function(t){return this.L(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.q=function(){return this.L(this.segments,this.offset,this.length-1)},t.prototype.U=function(){return this.segments[this.offset]},t.prototype.K=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.W=function(){return 0===this.length},t.prototype.j=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.G=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.H=function(){return this.segments.slice(this.offset,this.limit())},t.$=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),s=e.get(r);if(i<s)return-1;if(i>s)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),Ed=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Hu.c)(e,t),e.prototype.L=function(t,n,r){return new e(t,n,r)},e.prototype.J=function(){return this.H().join("/")},e.prototype.toString=function(){return this.J()},e.Y=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,s=t;i<s.length;i++){var o=s[i];if(o.indexOf("//")>=0)throw new ud(ad.INVALID_ARGUMENT,"Invalid segment ("+o+"). Paths must not contain // in them.");r.push.apply(r,o.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.X=function(){return new e([])},e}(wd),Od=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Sd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Hu.c)(e,t),e.prototype.L=function(t,n,r){return new e(t,n,r)},e.Z=function(t){return Od.test(t)},e.prototype.J=function(){return this.H().map((function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),e.Z(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.J()},e.prototype.tt=function(){return 1===this.length&&"__name__"===this.get(0)},e.et=function(){return new e(["__name__"])},e.nt=function(t){for(var n=[],r="",i=0,s=function(){if(0===r.length)throw new ud(ad.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},o=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new ud(ad.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new ud(ad.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new ud(ad.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.X=function(){return new e([])},e}(wd),Td=function(){function t(t){this.path=t}return t.st=function(e){return new t(Ed.Y(e))},t.it=function(e){return new t(Ed.Y(e).B(5))},t.prototype.rt=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===Ed.$(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.$=function(t,e){return Ed.$(t.path,e.path)},t.ot=function(t){return t.length%2==0},t.ct=function(e){return new t(new Ed(e.slice()))},t}();function Cd(t){return null==t}function xd(t){return 0===t&&1/t==-1/0}function Id(t){return"number"==typeof t&&Number.isInteger(t)&&!xd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var Ad=function(t,e,n,r,i,s,o){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.ut=null};function jd(t,e,n,r,i,s,o){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),new Ad(t,e,n,r,i,s,o)}function kd(t){var e=od(t);if(null===e.ut){var n=e.path.J();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.J()+t.op.toString()+Tp(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return function(t){return t.field.J()+t.dir}(t)})).join(","),Cd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Tm(e.startAt)),e.endAt&&(n+="|ub:",n+=Tm(e.endAt)),e.ut=n}return e.ut}function Rd(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!jm(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(s=e.filters[r]).op||!i.field.isEqual(s.field)||!wp(i.value,s.value))return!1;var i,s;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!xm(t.startAt,e.startAt)&&xm(t.endAt,e.endAt)}function Nd(t){return Td.ot(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Pd=function(){function t(t){this.at=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.at)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.at)},t.prototype.ht=function(){return 2*this.at.length},t.prototype.F=function(t){return md(this.at,t.at)},t.prototype.isEqual=function(t){return this.at===t.at},t}();Pd.lt=new Pd("");var Dd,Ld,Fd=function(){function t(t,e,n,r,i,s,o){void 0===i&&(i=_d.min()),void 0===s&&(s=_d.min()),void 0===o&&(o=Pd.lt),this.target=t,this.targetId=e,this._t=n,this.sequenceNumber=r,this.ft=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}return t.prototype.dt=function(e){return new t(this.target,this.targetId,this._t,e,this.ft,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.wt=function(e,n){return new t(this.target,this.targetId,this._t,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.Et=function(e){return new t(this.target,this.targetId,this._t,this.sequenceNumber,this.ft,e,this.resumeToken)},t}(),Md=function(t){this.count=t};function Ud(t){switch(t){case ad.OK:return id();case ad.CANCELLED:case ad.UNKNOWN:case ad.DEADLINE_EXCEEDED:case ad.RESOURCE_EXHAUSTED:case ad.INTERNAL:case ad.UNAVAILABLE:case ad.UNAUTHENTICATED:return!1;case ad.INVALID_ARGUMENT:case ad.NOT_FOUND:case ad.ALREADY_EXISTS:case ad.PERMISSION_DENIED:case ad.FAILED_PRECONDITION:case ad.ABORTED:case ad.OUT_OF_RANGE:case ad.UNIMPLEMENTED:case ad.DATA_LOSS:return!0;default:return id()}}function Vd(t){if(void 0===t)return ed("GRPC error has no .code"),ad.UNKNOWN;switch(t){case Dd.OK:return ad.OK;case Dd.CANCELLED:return ad.CANCELLED;case Dd.UNKNOWN:return ad.UNKNOWN;case Dd.DEADLINE_EXCEEDED:return ad.DEADLINE_EXCEEDED;case Dd.RESOURCE_EXHAUSTED:return ad.RESOURCE_EXHAUSTED;case Dd.INTERNAL:return ad.INTERNAL;case Dd.UNAVAILABLE:return ad.UNAVAILABLE;case Dd.UNAUTHENTICATED:return ad.UNAUTHENTICATED;case Dd.INVALID_ARGUMENT:return ad.INVALID_ARGUMENT;case Dd.NOT_FOUND:return ad.NOT_FOUND;case Dd.ALREADY_EXISTS:return ad.ALREADY_EXISTS;case Dd.PERMISSION_DENIED:return ad.PERMISSION_DENIED;case Dd.FAILED_PRECONDITION:return ad.FAILED_PRECONDITION;case Dd.ABORTED:return ad.ABORTED;case Dd.OUT_OF_RANGE:return ad.OUT_OF_RANGE;case Dd.UNIMPLEMENTED:return ad.UNIMPLEMENTED;case Dd.DATA_LOSS:return ad.DATA_LOSS;default:return id()}}(Ld=Dd||(Dd={}))[Ld.OK=0]="OK",Ld[Ld.CANCELLED=1]="CANCELLED",Ld[Ld.UNKNOWN=2]="UNKNOWN",Ld[Ld.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ld[Ld.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ld[Ld.NOT_FOUND=5]="NOT_FOUND",Ld[Ld.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ld[Ld.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ld[Ld.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ld[Ld.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ld[Ld.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ld[Ld.ABORTED=10]="ABORTED",Ld[Ld.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ld[Ld.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ld[Ld.INTERNAL=13]="INTERNAL",Ld[Ld.UNAVAILABLE=14]="UNAVAILABLE",Ld[Ld.DATA_LOSS=15]="DATA_LOSS";var qd=function(){function t(t,e){this.$=t,this.root=e||zd.EMPTY}return t.prototype.Tt=function(e,n){return new t(this.$,this.root.Tt(e,n,this.$).copy(null,null,zd.It,null,null))},t.prototype.remove=function(e){return new t(this.$,this.root.remove(e,this.$).copy(null,null,zd.It,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.W();){var n=this.$(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.W();){var r=this.$(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.W=function(){return this.root.W()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.At=function(){return this.root.At()},t.prototype.Rt=function(){return this.root.Rt()},t.prototype.Pt=function(t){return this.root.Pt(t)},t.prototype.forEach=function(t){this.Pt((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.Pt((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.gt=function(t){return this.root.gt(t)},t.prototype.yt=function(){return new Bd(this.root,null,this.$,!1)},t.prototype.Vt=function(t){return new Bd(this.root,t,this.$,!1)},t.prototype.vt=function(){return new Bd(this.root,null,this.$,!0)},t.prototype.bt=function(t){return new Bd(this.root,t,this.$,!0)},t}(),Bd=function(){function t(t,e,n,r){this.St=r,this.Dt=[];for(var i=1;!t.W();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.St?t.left:t.right;else{if(0===i){this.Dt.push(t);break}this.Dt.push(t),t=this.St?t.right:t.left}}return t.prototype.Ct=function(){var t=this.Dt.pop(),e={key:t.key,value:t.value};if(this.St)for(t=t.left;!t.W();)this.Dt.push(t),t=t.right;else for(t=t.right;!t.W();)this.Dt.push(t),t=t.left;return e},t.prototype.Nt=function(){return this.Dt.length>0},t.prototype.xt=function(){if(0===this.Dt.length)return null;var t=this.Dt[this.Dt.length-1];return{key:t.key,value:t.value}},t}(),zd=function(){function t(e,n,r,i,s){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=s?s:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,s){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)},t.prototype.W=function(){return!1},t.prototype.Pt=function(t){return this.left.Pt(t)||t(this.key,this.value)||this.right.Pt(t)},t.prototype.gt=function(t){return this.right.gt(t)||t(this.key,this.value)||this.left.gt(t)},t.prototype.min=function(){return this.left.W()?this:this.left.min()},t.prototype.At=function(){return this.min().key},t.prototype.Rt=function(){return this.right.W()?this.key:this.right.Rt()},t.prototype.Tt=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.Tt(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.Tt(t,e,n))).Ft()},t.prototype.Ot=function(){if(this.left.W())return t.EMPTY;var e=this;return e.left.Mt()||e.left.left.Mt()||(e=e.kt()),(e=e.copy(null,null,null,e.left.Ot(),null)).Ft()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.W()||i.left.Mt()||i.left.left.Mt()||(i=i.kt()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.Mt()&&(i=i.$t()),i.right.W()||i.right.Mt()||i.right.left.Mt()||(i=i.Lt()),0===n(e,i.key)){if(i.right.W())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.Ot())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.Ft()},t.prototype.Mt=function(){return this.color},t.prototype.Ft=function(){var t=this;return t.right.Mt()&&!t.left.Mt()&&(t=t.Bt()),t.left.Mt()&&t.left.left.Mt()&&(t=t.$t()),t.left.Mt()&&t.right.Mt()&&(t=t.qt()),t},t.prototype.kt=function(){var t=this.qt();return t.right.left.Mt()&&(t=(t=(t=t.copy(null,null,null,null,t.right.$t())).Bt()).qt()),t},t.prototype.Lt=function(){var t=this.qt();return t.left.left.Mt()&&(t=(t=t.$t()).qt()),t},t.prototype.Bt=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.$t=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.qt=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Ut=function(){var t=this.Qt();return Math.pow(2,t)<=this.size+1},t.prototype.Qt=function(){if(this.Mt()&&this.left.Mt())throw id();if(this.right.Mt())throw id();var t=this.left.Qt();if(t!==this.right.Qt())throw id();return t+(this.Mt()?0:1)},t}();zd.EMPTY=null,zd.RED=!0,zd.It=!1,zd.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw id()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw id()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw id()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw id()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw id()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.Tt=function(t,e,n){return new zd(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.W=function(){return!0},t.prototype.Pt=function(t){return!1},t.prototype.gt=function(t){return!1},t.prototype.At=function(){return null},t.prototype.Rt=function(){return null},t.prototype.Mt=function(){return!1},t.prototype.Ut=function(){return!0},t.prototype.Qt=function(){return 0},t}());var Hd=function(){function t(t){this.$=t,this.data=new qd(this.$)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.At()},t.prototype.last=function(){return this.data.Rt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.Pt((function(e,n){return t(e),!1}))},t.prototype.Kt=function(t,e){for(var n=this.data.Vt(t[0]);n.Nt();){var r=n.Ct();if(this.$(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Wt=function(t,e){var n;for(n=void 0!==e?this.data.Vt(e):this.data.yt();n.Nt();)if(!t(n.Ct().key))return},t.prototype.jt=function(t){var e=this.data.Vt(t);return e.Nt()?e.Ct().key:null},t.prototype.yt=function(){return new Gd(this.data.yt())},t.prototype.Vt=function(t){return new Gd(this.data.Vt(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).Tt(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.W=function(){return this.data.W()},t.prototype.Gt=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.yt(),r=e.data.yt();n.Nt();){var i=n.Ct().key,s=r.Ct().key;if(0!==this.$(i,s))return!1}return!0},t.prototype.H=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.$);return n.data=e,n},t}(),Gd=function(){function t(t){this.zt=t}return t.prototype.Ct=function(){return this.zt.Ct().key},t.prototype.Nt=function(){return this.zt.Nt()},t}(),$d=new qd(Td.$);function Wd(){return $d}function Kd(){return Wd()}var Qd=new qd(Td.$);function Yd(){return Qd}var Xd=new qd(Td.$),Zd=new Hd(Td.$);function Jd(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Zd,r=0,i=t;r<i.length;r++){var s=i[r];n=n.add(s)}return n}var tp=new Hd(md);function ep(){return tp}var np=function(){function t(t){this.$=t?function(e,n){return t(e,n)||Td.$(e.key,n.key)}:function(t,e){return Td.$(t.key,e.key)},this.Ht=Yd(),this.Jt=new qd(this.$)}return t.Yt=function(e){return new t(e.$)},t.prototype.has=function(t){return null!=this.Ht.get(t)},t.prototype.get=function(t){return this.Ht.get(t)},t.prototype.first=function(){return this.Jt.At()},t.prototype.last=function(){return this.Jt.Rt()},t.prototype.W=function(){return this.Jt.W()},t.prototype.indexOf=function(t){var e=this.Ht.get(t);return e?this.Jt.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.Jt.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.Jt.Pt((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.Ht.Tt(t.key,t),e.Jt.Tt(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.Ht.remove(t),this.Jt.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.Jt.yt(),r=e.Jt.yt();n.Nt();){var i=n.Ct().key,s=r.Ct().key;if(!i.isEqual(s))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.$=this.$,r.Ht=e,r.Jt=n,r},t}(),rp=function(){function t(){this.Xt=new qd(Td.$)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Xt.get(e);n?0!==t.type&&3===n.type?this.Xt=this.Xt.Tt(e,t):3===t.type&&1!==n.type?this.Xt=this.Xt.Tt(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Xt=this.Xt.Tt(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Xt=this.Xt.Tt(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Xt=this.Xt.remove(e):1===t.type&&2===n.type?this.Xt=this.Xt.Tt(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Xt=this.Xt.Tt(e,{type:2,doc:t.doc}):id():this.Xt=this.Xt.Tt(e,t)},t.prototype.Zt=function(){var t=[];return this.Xt.Pt((function(e,n){t.push(n)})),t},t}(),ip=function(){function t(t,e,n,r,i,s,o,a){this.query=t,this.docs=e,this.te=n,this.docChanges=r,this.ee=i,this.fromCache=s,this.ne=o,this.se=a}return t.ie=function(e,n,r,i){var s=[];return n.forEach((function(t){s.push({type:0,doc:t})})),new t(e,n,np.Yt(n),s,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.ee.W()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.ne===t.ne&&this.ee.isEqual(t.ee)&&lm(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.te.isEqual(t.te)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),sp=function(){function t(t,e,n,r,i){this.ft=t,this.re=e,this.oe=n,this.ce=r,this.ue=i}return t.ae=function(e,n){var r=new Map;return r.set(e,op.he(e,n)),new t(_d.min(),r,ep(),Wd(),Jd())},t}(),op=function(){function t(t,e,n,r,i){this.resumeToken=t,this.le=e,this._e=n,this.fe=r,this.de=i}return t.he=function(e,n){return new t(Pd.lt,n,Jd(),Jd(),Jd())},t}(),ap=function(t,e,n,r){this.we=t,this.removedTargetIds=e,this.key=n,this.Ee=r},up=function(t,e){this.targetId=t,this.Te=e},cp=function(t,e,n,r){void 0===n&&(n=Pd.lt),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},lp=function(){function t(){this.Ie=0,this.me=dp(),this.Ae=Pd.lt,this.Re=!1,this.Pe=!0}return Object.defineProperty(t.prototype,"le",{get:function(){return this.Re},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.Ae},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ge",{get:function(){return 0!==this.Ie},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ye",{get:function(){return this.Pe},enumerable:!1,configurable:!0}),t.prototype.Ve=function(t){t.ht()>0&&(this.Pe=!0,this.Ae=t)},t.prototype.pe=function(){var t=Jd(),e=Jd(),n=Jd();return this.me.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:id()}})),new op(this.Ae,this.Re,t,e,n)},t.prototype.ve=function(){this.Pe=!1,this.me=dp()},t.prototype.be=function(t,e){this.Pe=!0,this.me=this.me.Tt(t,e)},t.prototype.Se=function(t){this.Pe=!0,this.me=this.me.remove(t)},t.prototype.De=function(){this.Ie+=1},t.prototype.Ce=function(){this.Ie-=1},t.prototype.Ne=function(){this.Pe=!0,this.Re=!0},t}(),hp=function(){function t(t){this.xe=t,this.Fe=new Map,this.Oe=Wd(),this.Me=fp(),this.ke=new Hd(md)}return t.prototype.$e=function(t){for(var e=0,n=t.we;e<n.length;e++){var r=n[e];t.Ee instanceof Yg?this.Le(r,t.Ee):t.Ee instanceof Xg&&this.Be(r,t.key,t.Ee)}for(var i=0,s=t.removedTargetIds;i<s.length;i++)this.Be(s[i],t.key,t.Ee)},t.prototype.qe=function(t){var e=this;this.Ue(t,(function(n){var r=e.Qe(n);switch(t.state){case 0:e.Ke(n)&&r.Ve(t.resumeToken);break;case 1:r.Ce(),r.ge||r.ve(),r.Ve(t.resumeToken);break;case 2:r.Ce(),r.ge||e.removeTarget(n);break;case 3:e.Ke(n)&&(r.Ne(),r.Ve(t.resumeToken));break;case 4:e.Ke(n)&&(e.We(n),r.Ve(t.resumeToken));break;default:id()}}))},t.prototype.Ue=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.Fe.forEach((function(t,r){n.Ke(r)&&e(r)}))},t.prototype.je=function(t){var e=t.targetId,n=t.Te.count,r=this.Ge(e);if(r){var i=r.target;if(Nd(i))if(0===n){var s=new Td(i.path);this.Be(e,s,new Xg(s,_d.min()))}else sd(1===n);else this.ze(e)!==n&&(this.We(e),this.ke=this.ke.add(e))}},t.prototype.He=function(t){var e=this,n=new Map;this.Fe.forEach((function(r,i){var s=e.Ge(i);if(s){if(r.le&&Nd(s.target)){var o=new Td(s.target.path);null!==e.Oe.get(o)||e.Je(i,o)||e.Be(i,o,new Xg(o,t))}r.ye&&(n.set(i,r.pe()),r.ve())}}));var r=Jd();this.Me.forEach((function(t,n){var i=!0;n.Wt((function(t){var n=e.Ge(t);return!n||2===n._t||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new sp(t,n,this.ke,this.Oe,r);return this.Oe=Wd(),this.Me=fp(),this.ke=new Hd(md),i},t.prototype.Le=function(t,e){if(this.Ke(t)){var n=this.Je(t,e.key)?2:0;this.Qe(t).be(e.key,n),this.Oe=this.Oe.Tt(e.key,e),this.Me=this.Me.Tt(e.key,this.Ye(e.key).add(t))}},t.prototype.Be=function(t,e,n){if(this.Ke(t)){var r=this.Qe(t);this.Je(t,e)?r.be(e,1):r.Se(e),this.Me=this.Me.Tt(e,this.Ye(e).delete(t)),n&&(this.Oe=this.Oe.Tt(e,n))}},t.prototype.removeTarget=function(t){this.Fe.delete(t)},t.prototype.ze=function(t){var e=this.Qe(t).pe();return this.xe.Xe(t).size+e._e.size-e.de.size},t.prototype.De=function(t){this.Qe(t).De()},t.prototype.Qe=function(t){var e=this.Fe.get(t);return e||(e=new lp,this.Fe.set(t,e)),e},t.prototype.Ye=function(t){var e=this.Me.get(t);return e||(e=new Hd(md),this.Me=this.Me.Tt(t,e)),e},t.prototype.Ke=function(t){var e=null!==this.Ge(t);return e||td("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.Ge=function(t){var e=this.Fe.get(t);return e&&e.ge?null:this.xe.Ze(t)},t.prototype.We=function(t){var e=this;this.Fe.set(t,new lp),this.xe.Xe(t).forEach((function(n){e.Be(t,n,null)}))},t.prototype.Je=function(t,e){return this.xe.Xe(t).has(e)},t}();function fp(){return new qd(Td.$)}function dp(){return new qd(Td.$)}function pp(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function gp(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function mp(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function yp(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function vp(t){var e=Cp(t.mapValue.fields.__local_write_time__.timestampValue);return new bd(e.seconds,e.nanos)}var bp=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _p(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?yp(t)?4:10:id()}function wp(t,e){var n=_p(t);if(n!==_p(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return vp(t).isEqual(vp(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Cp(t.timestampValue),r=Cp(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Ip(t.bytesValue).isEqual(Ip(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return xp(t.geoPointValue.latitude)===xp(e.geoPointValue.latitude)&&xp(t.geoPointValue.longitude)===xp(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return xp(t.integerValue)===xp(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=xp(t.doubleValue),r=xp(e.doubleValue);return n===r?xd(n)===xd(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return yd(t.arrayValue.values||[],e.arrayValue.values||[],wp);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(pp(n)!==pp(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!wp(n[i],r[i])))return!1;return!0}(t,e);default:return id()}}function Ep(t,e){return void 0!==(t.values||[]).find((function(t){return wp(t,e)}))}function Op(t,e){var n=_p(t),r=_p(e);if(n!==r)return md(n,r);switch(n){case 0:return 0;case 1:return md(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=xp(t.integerValue||t.doubleValue),r=xp(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Sp(t.timestampValue,e.timestampValue);case 4:return Sp(vp(t),vp(e));case 5:return md(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Ip(t),r=Ip(e);return n.F(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var s=md(n[i],r[i]);if(0!==s)return s}return md(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=md(xp(t.latitude),xp(e.latitude));return 0!==n?n:md(xp(t.longitude),xp(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var s=Op(n[i],r[i]);if(s)return s}return md(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},s=Object.keys(i);r.sort(),s.sort();for(var o=0;o<r.length&&o<s.length;++o){var a=md(r[o],s[o]);if(0!==a)return a;var u=Op(n[r[o]],i[s[o]]);if(0!==u)return u}return md(r.length,s.length)}(t.mapValue,e.mapValue);default:throw id()}}function Sp(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return md(t,e);var n=Cp(t),r=Cp(e),i=md(n.seconds,r.seconds);return 0!==i?i:md(n.nanos,r.nanos)}function Tp(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){var e=Cp(t);return"time("+e.seconds+","+e.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Ip(e.bytesValue).toBase64():"referenceValue"in e?Td.it(e.referenceValue).toString():"geoPointValue"in e?"geo("+(n=e.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in e?function(e){for(var n="[",r=!0,i=0,s=e.values||[];i<s.length;i++)r?r=!1:n+=",",n+=t(s[i]);return n+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var n="{",r=!0,i=0,s=Object.keys(e.fields||{}).sort();i<s.length;i++){var o=s[i];r?r=!1:n+=",",n+=o+":"+t(e.fields[o])}return n+"}"}(e.mapValue):id();var n}(t)}function Cp(t){if(sd(!!t),"string"==typeof t){var e=0,n=bp.exec(t);if(sd(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:xp(t.seconds),nanos:xp(t.nanos)}}function xp(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Ip(t){return"string"==typeof t?Pd.fromBase64String(t):Pd.fromUint8Array(t)}function Ap(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.J()}}function jp(t){return!!t&&"integerValue"in t}function kp(t){return!!t&&"arrayValue"in t}function Rp(t){return!!t&&"nullValue"in t}function Np(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Pp(t){return!!t&&"mapValue"in t}var Dp={asc:"ASCENDING",desc:"DESCENDING"},Lp={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Fp=function(t,e){this.t=t,this.tn=e};function Mp(t){return{integerValue:""+t}}function Up(t,e){if(t.tn){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xd(e)?"-0":e}}function Vp(t,e){return Id(e)?Mp(e):Up(t,e)}function qp(t,e){return t.tn?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Bp(t,e){return t.tn?e.toBase64():e.toUint8Array()}function zp(t,e){return qp(t,e.M())}function Hp(t){return sd(!!t),_d.N(function(t){var e=Cp(t);return new bd(e.seconds,e.nanos)}(t))}function Gp(t,e){return function(t){return new Ed(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).J()}function $p(t){var e=Ed.Y(t);return sd(pg(e)),e}function Wp(t,e){return Gp(t.t,e.path)}function Kp(t,e){var n=$p(e);if(n.get(1)!==t.t.projectId)throw new ud(ad.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.t.projectId);if(n.get(3)!==t.t.database)throw new ud(ad.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.t.database);return new Td(Zp(n))}function Qp(t,e){return Gp(t.t,e)}function Yp(t){var e=$p(t);return 4===e.length?Ed.X():Zp(e)}function Xp(t){return new Ed(["projects",t.t.projectId,"databases",t.t.database]).J()}function Zp(t){return sd(t.length>4&&"documents"===t.get(4)),t.B(5)}function Jp(t,e,n){return{name:Wp(t,e),fields:n.proto.mapValue.fields}}function tg(t,e){var n;if(e instanceof Mg)n={update:Jp(t,e.key,e.value)};else if(e instanceof Hg)n={delete:Wp(t,e.key)};else if(e instanceof Ug)n={update:Jp(t,e.key,e.data),updateMask:dg(e.en)};else if(e instanceof qg)n={transform:{document:Wp(t,e.key),fieldTransforms:e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof bg)return{fieldPath:e.field.J(),setToServerValue:"REQUEST_TIME"};if(n instanceof _g)return{fieldPath:e.field.J(),appendMissingElements:{values:n.elements}};if(n instanceof Eg)return{fieldPath:e.field.J(),removeAllFromArray:{values:n.elements}};if(n instanceof Sg)return{fieldPath:e.field.J(),increment:n.nn};throw id()}(0,t)}))}};else{if(!(e instanceof Gg))return id();n={verify:Wp(t,e.key)}}return e.rn.sn||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:zp(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:id()}(t,e.rn)),n}function eg(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?jg.updateTime(Hp(t.updateTime)):void 0!==t.exists?jg.exists(t.exists):jg.on()}(e.currentDocument):jg.on();if(e.update){var r=Kp(t,e.update.name),i=new $g({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){return new xg((t.fieldPaths||[]).map((function(t){return Sd.nt(t)})))}(e.updateMask);return new Ug(r,i,s,n)}return new Mg(r,i,n)}if(e.delete){var o=Kp(t,e.delete);return new Hg(o,n)}if(e.transform){var a=Kp(t,e.transform.document),u=e.transform.fieldTransforms.map((function(e){return function(t,e){var n=null;"setToServerValue"in e?(sd("REQUEST_TIME"===e.setToServerValue),n=new bg):"appendMissingElements"in e?n=new _g(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new Eg(e.removeAllFromArray.values||[]):"increment"in e?n=new Sg(t,e.increment):id();var r=Sd.nt(e.fieldPath);return new Ig(r,n)}(t,e)}));return sd(!0===n.exists),new qg(a,u)}if(e.verify){var c=Kp(t,e.verify);return new Gg(c,n)}return id()}function ng(t,e){return{documents:[Qp(t,e.path)]}}function rg(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Qp(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Qp(t,r.q()),n.structuredQuery.from=[{collectionId:r.K()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(Np(t.value))return{unaryFilter:{field:cg(t.field),op:"IS_NAN"}};if(Rp(t.value))return{unaryFilter:{field:cg(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Np(t.value))return{unaryFilter:{field:cg(t.field),op:"IS_NOT_NAN"}};if(Rp(t.value))return{unaryFilter:{field:cg(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:cg(t.field),op:ug(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var s=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:cg(t.field),direction:ag(t.dir)}}(t)}))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);var o=function(t,e){return t.tn||Cd(e)?e:{value:e}}(t,e.limit);return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=sg(e.startAt)),e.endAt&&(n.structuredQuery.endAt=sg(e.endAt)),n}function ig(t){var e=Yp(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){sd(1===r);var s=n.from[0];s.allDescendants?i=s.collectionId:e=e.child(s.collectionId)}var o=[];n.where&&(o=function t(e){return e?void 0!==e.unaryFilter?[fg(e)]:void 0!==e.fieldFilter?[hg(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return t(e)})).reduce((function(t,e){return t.concat(e)})):id():[]}(n.where));var a=[];n.orderBy&&(a=n.orderBy.map((function(t){return function(t){return new Im(lg(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var u=null;n.limit&&(u=function(t){var e;return Cd(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=og(n.startAt));var l=null;return n.endAt&&(l=og(n.endAt)),tm(e,i,a,o,u,"F",c,l)}function sg(t){return{before:t.before,values:t.position}}function og(t){return new Sm(t.values||[],!!t.before)}function ag(t){return Dp[t]}function ug(t){return Lp[t]}function cg(t){return{fieldPath:t.J()}}function lg(t){return Sd.nt(t.fieldPath)}function hg(t){return gm.create(lg(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return id()}}(t.fieldFilter.op),t.fieldFilter.value)}function fg(t){switch(t.unaryFilter.op){case"IS_NAN":var e=lg(t.unaryFilter.field);return gm.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=lg(t.unaryFilter.field);return gm.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=lg(t.unaryFilter.field);return gm.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=lg(t.unaryFilter.field);return gm.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return id()}}function dg(t){var e=[];return t.fields.forEach((function(t){return e.push(t.J())})),{fieldPaths:e}}function pg(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var gg=function(){this.cn=void 0};function mg(t,e,n){return t instanceof bg?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof _g?wg(t,e):t instanceof Eg?Og(t,e):function(t,e){var n=vg(t,e),r=Tg(n)+Tg(t.nn);return jp(n)&&jp(t.nn)?Mp(r):Up(t.serializer,r)}(t,e)}function yg(t,e,n){return t instanceof _g?wg(t,e):t instanceof Eg?Og(t,e):n}function vg(t,e){return t instanceof Sg?jp(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var bg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Hu.c)(e,t),e}(gg),_g=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Hu.c)(e,t),e}(gg);function wg(t,e){for(var n=Cg(e),r=function(t){n.some((function(e){return wp(e,t)}))||n.push(t)},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var Eg=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Hu.c)(e,t),e}(gg);function Og(t,e){for(var n=Cg(e),r=function(t){n=n.filter((function(e){return!wp(e,t)}))},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var Sg=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).serializer=e,r.nn=n,r}return Object(Hu.c)(e,t),e}(gg);function Tg(t){return xp(t.integerValue||t.doubleValue)}function Cg(t){return kp(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var xg=function(){function t(t){this.fields=t,t.sort(Sd.$)}return t.prototype.un=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].j(t))return!0;return!1},t.prototype.isEqual=function(t){return yd(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),Ig=function(t,e){this.field=t,this.transform=e},Ag=function(t,e){this.version=t,this.transformResults=e},jg=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.on=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"sn",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function kg(t,e){return void 0!==t.updateTime?e instanceof Yg&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof Yg}var Rg=function(){};function Ng(t,e,n){return t instanceof Mg?function(t,e,n){return new Yg(t.key,n.version,t.value,{hasCommittedMutations:!0})}(t,0,n):t instanceof Ug?function(t,e,n){if(!kg(t.rn,e))return new Zg(t.key,n.version);var r=Vg(t,e);return new Yg(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof qg?function(t,e,n){if(sd(null!=n.transformResults),!kg(t.rn,e))return new Zg(t.key,n.version);var r=Bg(0,e),i=function(t,e,n){var r=[];sd(t.length===n.length);for(var i=0;i<n.length;i++){var s=t[i],o=s.transform,a=null;e instanceof Yg&&(a=e.field(s.field)),r.push(yg(o,a,n[i]))}return r}(t.fieldTransforms,e,n.transformResults),s=n.version,o=zg(t,r.data(),i);return new Yg(t.key,s,o,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new Xg(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function Pg(t,e,n,r){return t instanceof Mg?function(t,e){if(!kg(t.rn,e))return e;var n=Fg(e);return new Yg(t.key,n,t.value,{an:!0})}(t,e):t instanceof Ug?function(t,e){if(!kg(t.rn,e))return e;var n=Fg(e),r=Vg(t,e);return new Yg(t.key,n,r,{an:!0})}(t,e):t instanceof qg?function(t,e,n,r){if(!kg(t.rn,e))return e;var i=Bg(0,e),s=function(t,e,n,r){for(var i=[],s=0,o=t;s<o.length;s++){var a=o[s],u=a.transform,c=null;n instanceof Yg&&(c=n.field(a.field)),null===c&&r instanceof Yg&&(c=r.field(a.field)),i.push(mg(u,c,e))}return i}(t.fieldTransforms,n,e,r),o=zg(t,i.data(),s);return new Yg(t.key,i.version,o,{an:!0})}(t,e,r,n):function(t,e){return kg(t.rn,e)?new Xg(t.key,_d.min()):e}(t,e)}function Dg(t,e){return t instanceof qg?function(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var s=i[r],o=e instanceof Yg?e.field(s.field):void 0,a=vg(s.transform,o||null);null!=a&&(n=null==n?(new Wg).set(s.field,a):n.set(s.field,a))}return n?n.hn():null}(t,e):null}function Lg(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.rn.isEqual(e.rn)&&(0===t.type?t.value.isEqual(e.value):1===t.type?t.data.isEqual(e.data)&&t.en.isEqual(e.en):2!==t.type||yd(t.fieldTransforms,t.fieldTransforms,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof _g&&e instanceof _g||t instanceof Eg&&e instanceof Eg?yd(t.elements,e.elements,wp):t instanceof Sg&&e instanceof Sg?wp(t.nn,e.nn):t instanceof bg&&e instanceof bg}(t.transform,e.transform)}(t,e)})))}function Fg(t){return t instanceof Yg?t.version:_d.min()}var Mg=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).key=e,i.value=n,i.rn=r,i.type=0,i}return Object(Hu.c)(e,t),e}(Rg),Ug=function(t){function e(e,n,r,i){var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.en=r,s.rn=i,s.type=1,s}return Object(Hu.c)(e,t),e}(Rg);function Vg(t,e){return function(t,e){var n=new Wg(e);return t.en.fields.forEach((function(e){if(!e.W()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}})),n.hn()}(t,e instanceof Yg?e.data():$g.empty())}var qg=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.fieldTransforms=n,r.type=2,r.rn=jg.exists(!0),r}return Object(Hu.c)(e,t),e}(Rg);function Bg(t,e){return e}function zg(t,e,n){for(var r=new Wg(e),i=0;i<t.fieldTransforms.length;i++)r.set(t.fieldTransforms[i].field,n[i]);return r.hn()}var Hg=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.rn=n,r.type=3,r}return Object(Hu.c)(e,t),e}(Rg),Gg=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.rn=n,r.type=4,r}return Object(Hu.c)(e,t),e}(Rg),$g=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.W())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!Pp(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.K()])||null},t.prototype.isEqual=function(t){return wp(this.proto,t.proto)},t}(),Wg=function(){function t(t){void 0===t&&(t=$g.empty()),this.ln=t,this._n=new Map}return t.prototype.set=function(t,e){return this.fn(t,e),this},t.prototype.delete=function(t){return this.fn(t,null),this},t.prototype.fn=function(t,e){for(var n=this._n,r=0;r<t.length-1;++r){var i=t.get(r),s=n.get(i);s instanceof Map?n=s:s&&10===_p(s)?(s=new Map(Object.entries(s.mapValue.fields||{})),n.set(i,s),n=s):(s=new Map,n.set(i,s),n=s)}n.set(t.K(),e)},t.prototype.hn=function(){var t=this.dn(Sd.X(),this._n);return null!=t?new $g(t):this.ln},t.prototype.dn=function(t,e){var n=this,r=!1,i=this.ln.field(t),s=Pp(i)?Object.assign({},i.mapValue.fields):{};return e.forEach((function(e,i){if(e instanceof Map){var o=n.dn(t.child(i),e);null!=o&&(s[i]=o,r=!0)}else null!==e?(s[i]=e,r=!0):s.hasOwnProperty(i)&&(delete s[i],r=!0)})),r?{mapValue:{fields:s}}:null},t}();function Kg(t){var e=[];return gp(t.fields||{},(function(t,n){var r=new Sd([t]);if(Pp(n)){var i=Kg(n.mapValue).fields;if(0===i.length)e.push(r);else for(var s=0,o=i;s<o.length;s++)e.push(r.child(o[s]))}else e.push(r)})),new xg(e)}var Qg=function(t,e){this.key=t,this.version=e},Yg=function(t){function e(e,n,r,i){var s=this;return(s=t.call(this,e,n)||this).wn=r,s.an=!!i.an,s.hasCommittedMutations=!!i.hasCommittedMutations,s}return Object(Hu.c)(e,t),e.prototype.field=function(t){return this.wn.field(t)},e.prototype.data=function(){return this.wn},e.prototype.En=function(){return this.wn.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.an===t.an&&this.hasCommittedMutations===t.hasCommittedMutations&&this.wn.isEqual(t.wn)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.wn.toString()+", {hasLocalMutations: "+this.an+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.an||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(Qg),Xg=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Object(Hu.c)(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Qg),Zg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Hu.c)(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Qg),Jg=function(t,e,n,r,i,s,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s="F"),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.Tn=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.In=null,this.mn=null};function tm(t,e,n,r,i,s,o,a){return new Jg(t,e,n,r,i,s,o,a)}function em(t){return new Jg(t)}function nm(t){return!Cd(t.limit)&&"F"===t.limitType}function rm(t){return!Cd(t.limit)&&"L"===t.limitType}function im(t){return t.Tn.length>0?t.Tn[0].field:null}function sm(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.An())return r.field}return null}function om(t){return null!==t.collectionGroup}function am(t){var e=od(t);if(null===e.In){e.In=[];var n=sm(e),r=im(e);if(null!==n&&null===r)n.tt()||e.In.push(new Im(n)),e.In.push(new Im(Sd.et(),"asc"));else{for(var i=!1,s=0,o=e.Tn;s<o.length;s++){var a=o[s];e.In.push(a),a.field.tt()&&(i=!0)}if(!i){var u=e.Tn.length>0?e.Tn[e.Tn.length-1].dir:"asc";e.In.push(new Im(Sd.et(),u))}}}return e.In}function um(t){var e=od(t);if(!e.mn)if("F"===e.limitType)e.mn=jd(e.path,e.collectionGroup,am(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=am(e);r<i.length;r++){var s=i[r];n.push(new Im(s.field,"desc"===s.dir?"asc":"desc"))}var o=e.endAt?new Sm(e.endAt.position,!e.endAt.before):null,a=e.startAt?new Sm(e.startAt.position,!e.startAt.before):null;e.mn=jd(e.path,e.collectionGroup,n,e.filters,e.limit,o,a)}return e.mn}function cm(t,e,n){return new Jg(t.path,t.collectionGroup,t.Tn.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function lm(t,e){return Rd(um(t),um(e))&&t.limitType===e.limitType}function hm(t){return kd(um(t))+"|lt:"+t.limitType}function fm(t){return"Query(target="+function(t){var e=t.path.J();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.J()+" "+e.op+" "+Tp(e.value);var e})).join(", ")+"]"),Cd(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return function(t){return t.field.J()+" ("+t.dir+")"}(t)})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Tm(t.startAt)),t.endAt&&(e+=", endAt: "+Tm(t.endAt)),"Target("+e+")"}(um(t))+"; limitType="+t.limitType+")"}function dm(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.rt(t.collectionGroup)&&t.path.j(n):Td.ot(t.path)?t.path.isEqual(n):t.path.G(n)}(t,e)&&function(t,e){for(var n=0,r=t.Tn;n<r.length;n++){var i=r[n];if(!i.field.tt()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Cm(t.startAt,am(t),e)||t.endAt&&Cm(t.endAt,am(t),e))}(t,e)}function pm(t){return function(e,n){for(var r=!1,i=0,s=am(t);i<s.length;i++){var o=s[i],a=Am(o,e,n);if(0!==a)return a;r=r||o.field.tt()}return 0}}var gm=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(Hu.c)(e,t),e.create=function(t,n,r){return t.tt()?"in"===n||"not-in"===n?this.Rn(t,n,r):new mm(t,n,r):"array-contains"===n?new _m(t,r):"in"===n?new wm(t,r):"not-in"===n?new Em(t,r):"array-contains-any"===n?new Om(t,r):new e(t,n,r)},e.Rn=function(t,e,n){return"in"===e?new ym(t,n):new vm(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.Pn(Op(e,this.value)):null!==e&&_p(this.value)===_p(e)&&this.Pn(Op(e,this.value))},e.prototype.Pn=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return id()}},e.prototype.An=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),mm=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=Td.it(r.referenceValue),i}return Object(Hu.c)(e,t),e.prototype.matches=function(t){var e=Td.$(t.key,this.key);return this.Pn(e)},e}(gm),ym=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=bm(0,n),r}return Object(Hu.c)(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(gm),vm=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=bm(0,n),r}return Object(Hu.c)(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(gm);function bm(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return Td.it(t.referenceValue)}))}var _m=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(Hu.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return kp(e)&&Ep(e.arrayValue,this.value)},e}(gm),wm=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(Hu.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&Ep(this.value.arrayValue,e)},e}(gm),Em=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(Hu.c)(e,t),e.prototype.matches=function(t){if(Ep(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!Ep(this.value.arrayValue,e)},e}(gm),Om=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(Hu.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!kp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return Ep(e.value.arrayValue,t)}))},e}(gm),Sm=function(t,e){this.position=t,this.before=e};function Tm(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return Tp(t)})).join(",")}function Cm(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var s=e[i],o=t.position[i];if(r=s.field.tt()?Td.$(Td.it(o.referenceValue),n.key):Op(o,n.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function xm(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!wp(t.position[n],e.position[n]))return!1;return!0}var Im=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Am(t,e,n){var r=t.field.tt()?Td.$(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?Op(r,i):id()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return id()}}function jm(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var km=function(){function t(t,e,n,r){this.batchId=t,this.gn=e,this.baseMutations=n,this.mutations=r}return t.prototype.yn=function(t,e,n){for(var r=n.Vn,i=0;i<this.mutations.length;i++){var s=this.mutations[i];s.key.isEqual(t)&&(e=Ng(s,e,r[i]))}return e},t.prototype.pn=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(t)&&(e=Pg(i,e,e,this.gn))}for(var s=e,o=0,a=this.mutations;o<a.length;o++){var u=a[o];u.key.isEqual(t)&&(e=Pg(u,e,s,this.gn))}return e},t.prototype.vn=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var i=e.pn(r.key,t.get(r.key));i&&(n=n.Tt(r.key,i))})),n},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),Jd())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&yd(this.mutations,t.mutations,(function(t,e){return Lg(t,e)}))&&yd(this.baseMutations,t.baseMutations,(function(t,e){return Lg(t,e)}))},t}(),Rm=function(){function t(t,e,n,r){this.batch=t,this.bn=e,this.Vn=n,this.Sn=r}return t.from=function(e,n,r){sd(e.mutations.length===r.length);for(var i=Xd,s=e.mutations,o=0;o<s.length;o++)i=i.Tt(s[o].key,r[o].version);return new t(e,n,r,i)},t}(),Nm=function(){function t(t,e){this.Dn=t,this.Cn=e,this.Nn={}}return t.prototype.get=function(t){var e=this.Dn(t),n=this.Nn[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var s=i[r],o=s[1];if(this.Cn(s[0],t))return o}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.Dn(t),r=this.Nn[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.Cn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.Nn[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.Dn(t),n=this.Nn[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.Cn(n[r][0],t))return 1===n.length?delete this.Nn[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){gp(this.Nn,(function(e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];t(s[0],s[1])}}))},t.prototype.W=function(){return mp(this.Nn)},t}(),Pm=function(){function t(t){var e=this;this.xn=null,this.Fn=null,this.result=void 0,this.error=void 0,this.On=!1,this.Mn=!1,t((function(t){e.On=!0,e.result=t,e.xn&&e.xn(t)}),(function(t){e.On=!0,e.error=t,e.Fn&&e.Fn(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.Mn&&id(),this.Mn=!0,this.On?this.error?this.kn(n,this.error):this.$n(e,this.result):new t((function(t,i){r.xn=function(n){r.$n(e,n).next(t,i)},r.Fn=function(e){r.kn(n,e).next(t,i)}}))},t.prototype.Ln=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.Bn=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.$n=function(e,n){return e?this.Bn((function(){return e(n)})):t.resolve(n)},t.prototype.kn=function(e,n){return e?this.Bn((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.qn=function(e){return new t((function(t,n){var r=0,i=0,s=!1;e.forEach((function(e){++r,e.next((function(){++i,s&&i===r&&t()}),(function(t){return n(t)}))})),s=!0,i===r&&t()}))},t.Un=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,s=e;i<s.length;i++)r(s[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.qn(r)},t}(),Dm=function(){function t(){this.Qn=new Nm((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.Kn=!1}return t.prototype.Wn=function(t){var e=this.Qn.get(t);return e?e.readTime:_d.min()},t.prototype.jn=function(t,e){this.Gn(),this.Qn.set(t.key,{zn:t,readTime:e})},t.prototype.Hn=function(t,e){void 0===e&&(e=null),this.Gn(),this.Qn.set(t,{zn:null,readTime:e})},t.prototype.Jn=function(t,e){this.Gn();var n=this.Qn.get(e);return void 0!==n?Pm.resolve(n.zn):this.Yn(t,e)},t.prototype.getEntries=function(t,e){return this.Xn(t,e)},t.prototype.apply=function(t){return this.Gn(),this.Kn=!0,this.Zn(t)},t.prototype.Gn=function(){},t}(),Lm=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))};function Fm(t){return new Fp(t,!0)}function Mm(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var s=i[r];if(s in n&&"function"==typeof n[s])return!0}return!1}(t)}var Um="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Vm=function(){function t(){this.ts=[]}return t.prototype.es=function(t){this.ts.push(t)},t.prototype.ns=function(){this.ts.forEach((function(t){return t()}))},t}(),qm=function(){function t(t,e,n){this.ss=t,this.rs=e,this.os=n}return t.prototype.cs=function(t,e){var n=this;return this.rs.us(t,e).next((function(r){return n.hs(t,e,r)}))},t.prototype.hs=function(t,e,n){return this.ss.Jn(t,e).next((function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].pn(e,t);return t}))},t.prototype.ls=function(t,e,n){var r=Kd();return e.forEach((function(t,e){for(var i=0,s=n;i<s.length;i++)e=s[i].pn(t,e);r=r.Tt(t,e)})),r},t.prototype._s=function(t,e){var n=this;return this.ss.getEntries(t,e).next((function(e){return n.fs(t,e)}))},t.prototype.fs=function(t,e){var n=this;return this.rs.ds(t,e).next((function(r){var i=n.ls(t,e,r),s=Wd();return i.forEach((function(t,e){e||(e=new Xg(t,_d.min())),s=s.Tt(t,e)})),s}))},t.prototype.ws=function(t,e,n){return function(t){return Td.ot(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Es(t,e.path):om(e)?this.Ts(t,e,n):this.Is(t,e,n)},t.prototype.Es=function(t,e){return this.cs(t,new Td(e)).next((function(t){var e=Yd();return t instanceof Yg&&(e=e.Tt(t.key,t)),e}))},t.prototype.Ts=function(t,e,n){var r=this,i=e.collectionGroup,s=Yd();return this.os.As(t,i).next((function(o){return Pm.forEach(o,(function(o){var a=function(t,e){return new Jg(e,null,t.Tn.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,o.child(i));return r.Is(t,a,n).next((function(t){t.forEach((function(t,e){s=s.Tt(t,e)}))}))})).next((function(){return s}))}))},t.prototype.Is=function(t,e,n){var r,i,s=this;return this.ss.ws(t,e,n).next((function(n){return r=n,s.rs.Rs(t,e)})).next((function(e){return s.Ps(t,i=e,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var s=n[e],o=0,a=s.mutations;o<a.length;o++){var u=a[o],c=u.key,l=r.get(c),h=Pg(u,l,l,s.gn);r=h instanceof Yg?r.Tt(c,h):r.remove(c)}}))})).next((function(){return r.forEach((function(t,n){dm(e,n)||(r=r.remove(t))})),r}))},t.prototype.Ps=function(t,e,n){for(var r=Jd(),i=0,s=e;i<s.length;i++)for(var o=0,a=s[i].mutations;o<a.length;o++){var u=a[o];u instanceof Ug&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.ss.getEntries(t,r).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof Yg&&(c=c.Tt(t,e))})),c}))},t}(),Bm=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.gs=n,this.ys=r}return t.Vs=function(e,n){for(var r=Jd(),i=Jd(),s=0,o=n.docChanges;s<o.length;s++){var a=o[s];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),zm=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.ps=function(t){return n.vs(t)},this.bs=function(t){return e.Ss(t)})}return t.prototype.vs=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.bs&&this.bs(t),t},t}();zm.Ds=-1;var Hm=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Cs=t,this.Ns=e,this.xs=n,this.Fs=r,this.Os=i,this.Ms=0,this.ks=null,this.$s=Date.now(),this.reset()}return t.prototype.reset=function(){this.Ms=0},t.prototype.Ls=function(){this.Ms=this.Os},t.prototype.Bs=function(t){var e=this;this.cancel();var n=Math.floor(this.Ms+this.qs()),r=Math.max(0,Date.now()-this.$s),i=Math.max(0,n-r);i>0&&td("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Ms+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.ks=this.Cs.Us(this.Ns,i,(function(){return e.$s=Date.now(),t()})),this.Ms*=this.Fs,this.Ms<this.xs&&(this.Ms=this.xs),this.Ms>this.Os&&(this.Ms=this.Os)},t.prototype.Qs=function(){null!==this.ks&&(this.ks.Ks(),this.ks=null)},t.prototype.cancel=function(){null!==this.ks&&(this.ks.cancel(),this.ks=null)},t.prototype.qs=function(){return(Math.random()-.5)*this.Ms},t}(),Gm=function(){function t(e,n,r){this.name=e,this.version=n,this.Ws=r,12.2===t.js(Object(Wu.g)())&&ed("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return td("SimpleDb","Removing database:",t),Xm(window.indexedDB.deleteDatabase(t)).Ln()},t.Gs=function(){if("undefined"==typeof indexedDB)return!1;if(t.zs())return!0;var e=Object(Wu.g)(),n=t.js(e),r=0<n&&n<10,i=t.Hs(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)},t.zs=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Js)},t.Ys=function(t,e){return t.store(e)},t.js=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Hs=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Xs=function(t){return Object(Hu.b)(this,void 0,void 0,(function(){var e,n=this;return Object(Hu.d)(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(td("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new Wm(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new ud(ad.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Wm(t,n))},i.onupgradeneeded=function(t){td("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.Ws.createOrUpgrade(t.target.result,i.transaction,t.oldVersion,n.version).next((function(){td("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Zs&&(this.db.onversionchange=function(t){return n.Zs(t)}),this.db)]}}))}))},t.prototype.ti=function(t){this.Zs=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(Hu.b)(this,void 0,void 0,(function(){var i,s,o,a,u;return Object(Hu.d)(this,(function(c){switch(c.label){case 0:i="readonly"===e,s=0,o=function(){var e,o,u,c,l;return Object(Hu.d)(this,(function(h){switch(h.label){case 0:++s,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.Xs(t)];case 2:return a.db=h.sent(),e=Qm.open(a.db,t,i?"readonly":"readwrite",n),o=r(e).catch((function(t){return e.abort(t),Pm.reject(t)})).Ln(),u={},o.catch((function(){})),[4,e.ei];case 3:return[2,(u.value=(h.sent(),o),u)];case 4:return td("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&s<3),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},a=this,c.label=1;case 1:return[5,o()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),$m=function(){function t(t){this.ni=t,this.si=!1,this.ii=null}return Object.defineProperty(t.prototype,"On",{get:function(){return this.si},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ri",{get:function(){return this.ii},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.ni=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.si=!0},t.prototype.oi=function(t){this.ii=t},t.prototype.delete=function(){return Xm(this.ni.delete())},t}(),Wm=function(t){function e(e,n){var r=this;return(r=t.call(this,ad.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(Hu.c)(e,t),e}(ud);function Km(t){return"IndexedDbTransactionError"===t.name}var Qm=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ci=new Lm,this.transaction.oncomplete=function(){n.ci.resolve()},this.transaction.onabort=function(){e.error?n.ci.reject(new Wm(t,e.error)):n.ci.resolve()},this.transaction.onerror=function(e){var r=Jm(e.target.error);n.ci.reject(new Wm(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new Wm(n,e)}},Object.defineProperty(t.prototype,"ei",{get:function(){return this.ci.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ci.reject(t),this.aborted||(td("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Ym(e)},t}(),Ym=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(td("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(td("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Xm(n)},t.prototype.add=function(t){return td("SimpleDb","ADD",this.store.name,t,t),Xm(this.store.add(t))},t.prototype.get=function(t){var e=this;return Xm(this.store.get(t)).next((function(n){return void 0===n&&(n=null),td("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return td("SimpleDb","DELETE",this.store.name,t),Xm(this.store.delete(t))},t.prototype.count=function(){return td("SimpleDb","COUNT",this.store.name),Xm(this.store.count())},t.prototype.ui=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.ai(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.hi=function(t,e){td("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.li=!1;var r=this.cursor(n);return this.ai(r,(function(t,e,n){return n.delete()}))},t.prototype._i=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.ai(r,e)},t.prototype.fi=function(t){var e=this.cursor({});return new Pm((function(n,r){e.onerror=function(t){var e=Jm(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.ai=function(t,e){var n=[];return new Pm((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var s=new $m(i),o=e(i.primaryKey,i.value,s);if(o instanceof Pm){var a=o.catch((function(t){return s.done(),Pm.reject(t)}));n.push(a)}s.On?r():null===s.ri?i.continue():i.continue(s.ri)}else r()}})).next((function(){return Pm.qn(n)}))},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.li?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Xm(t){return new Pm((function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=Jm(t.target.error);n(e)}}))}var Zm=!1;function Jm(t){var e=Gm.js(Object(Wu.g)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new ud("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Zm||(Zm=!0,setTimeout((function(){throw r}),0)),r}}return t}function ty(){return"undefined"!=typeof window?window:null}function ey(){return"undefined"!=typeof document?document:null}var ny=function(){function t(t,e,n,r,i){this.di=t,this.Ns=e,this.wi=n,this.op=r,this.Ei=i,this.Ti=new Lm,this.then=this.Ti.promise.then.bind(this.Ti.promise),this.Ti.promise.catch((function(t){}))}return t.Ii=function(e,n,r,i,s){var o=new t(e,n,Date.now()+r,i,s);return o.start(r),o},t.prototype.start=function(t){var e=this;this.mi=setTimeout((function(){return e.Ai()}),t)},t.prototype.Ks=function(){return this.Ai()},t.prototype.cancel=function(t){null!==this.mi&&(this.clearTimeout(),this.Ti.reject(new ud(ad.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.Ai=function(){var t=this;this.di.Ri((function(){return null!==t.mi?(t.clearTimeout(),t.op().then((function(e){return t.Ti.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.mi&&(this.Ei(this),clearTimeout(this.mi),this.mi=null)},t}(),ry=function(){function t(){var t=this;this.Pi=Promise.resolve(),this.gi=[],this.yi=!1,this.Vi=[],this.pi=null,this.vi=!1,this.bi=[],this.Si=new Hm(this,"async_queue_retry"),this.Di=function(){var e=ey();e&&td("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Si.Qs()};var e=ey();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Di)}return Object.defineProperty(t.prototype,"Ci",{get:function(){return this.yi},enumerable:!1,configurable:!0}),t.prototype.Ri=function(t){this.enqueue(t)},t.prototype.Ni=function(t){this.xi(),this.Fi(t)},t.prototype.Oi=function(){if(!this.yi){this.yi=!0;var t=ey();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Di)}},t.prototype.enqueue=function(t){return this.xi(),this.yi?new Promise((function(t){})):this.Fi(t)},t.prototype.Mi=function(t){var e=this;this.Ri((function(){return e.gi.push(t),e.ki()}))},t.prototype.ki=function(){return Object(Hu.b)(this,void 0,void 0,(function(){var t,e=this;return Object(Hu.d)(this,(function(n){switch(n.label){case 0:if(0===this.gi.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.gi[0]()];case 2:return n.sent(),this.gi.shift(),this.Si.reset(),[3,4];case 3:if(!Km(t=n.sent()))throw t;return td("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.gi.length>0&&this.Si.Bs((function(){return e.ki()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Fi=function(t){var e=this,n=this.Pi.then((function(){return e.vi=!0,t().catch((function(t){throw e.pi=t,e.vi=!1,ed("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.vi=!1,t}))}));return this.Pi=n,n},t.prototype.Us=function(t,e,n){var r=this;this.xi(),this.bi.indexOf(t)>-1&&(e=0);var i=ny.Ii(this,t,e,n,(function(t){return r.$i(t)}));return this.Vi.push(i),i},t.prototype.xi=function(){this.pi&&id()},t.prototype.Li=function(){},t.prototype.Bi=function(){return Object(Hu.b)(this,void 0,void 0,(function(){var t;return Object(Hu.d)(this,(function(e){switch(e.label){case 0:return[4,t=this.Pi];case 1:e.sent(),e.label=2;case 2:if(t!==this.Pi)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.qi=function(t){for(var e=0,n=this.Vi;e<n.length;e++)if(n[e].Ns===t)return!0;return!1},t.prototype.Ui=function(t){var e=this;return this.Bi().then((function(){e.Vi.sort((function(t,e){return t.wi-e.wi}));for(var n=0,r=e.Vi;n<r.length;n++){var i=r[n];if(i.Ks(),"all"!==t&&i.Ns===t)break}return e.Bi()}))},t.prototype.Qi=function(t){this.bi.push(t)},t.prototype.$i=function(t){var e=this.Vi.indexOf(t);this.Vi.splice(e,1)},t}();function iy(t,e){if(ed("AsyncQueue",e+": "+t),Km(t))return new ud(ad.UNAVAILABLE,e+": "+t);throw t}function sy(t,e){var n=t[1],r=e[1],i=md(t[0],e[0]);return 0===i?md(n,r):i}var oy=function(){function t(t){this.Ki=t,this.buffer=new Hd(sy),this.Wi=0}return t.prototype.ji=function(){return++this.Wi},t.prototype.Gi=function(t){var e=[t,this.ji()];if(this.buffer.size<this.Ki)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();sy(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),ay={zi:!1,Hi:0,Ji:0,Yi:0},uy=function(){function t(t,e,n){this.Xi=t,this.Zi=e,this.tr=n}return t.er=function(e){return new t(e,t.nr,t.sr)},t}();uy.nr=10,uy.sr=1e3,uy.ir=new uy(41943040,uy.nr,uy.sr),uy.rr=new uy(-1,0,0);var cy=function(){function t(t,e){this.cr=t,this.di=e,this.ur=!1,this.ar=null}return t.prototype.start=function(t){-1!==this.cr.params.Xi&&this.hr(t)},t.prototype.stop=function(){this.ar&&(this.ar.cancel(),this.ar=null)},Object.defineProperty(t.prototype,"lr",{get:function(){return null!==this.ar},enumerable:!1,configurable:!0}),t.prototype.hr=function(t){var e=this,n=this.ur?3e5:6e4;td("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ar=this.di.Us("lru_garbage_collection",n,(function(){return Object(Hu.b)(e,void 0,void 0,(function(){var e;return Object(Hu.d)(this,(function(n){switch(n.label){case 0:this.ar=null,this.ur=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t._r(this.cr)];case 2:return n.sent(),[3,7];case 3:return Km(e=n.sent())?(td("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Lv(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.hr(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),ly=function(){function t(t,e){this.dr=t,this.params=e}return t.prototype.wr=function(t,e){return this.dr.Er(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.Tr=function(t,e){var n=this;if(0===e)return Pm.resolve(zm.Ds);var r=new oy(e);return this.dr.Ue(t,(function(t){return r.Gi(t.sequenceNumber)})).next((function(){return n.dr.Ir(t,(function(t){return r.Gi(t)}))})).next((function(){return r.maxValue}))},t.prototype.mr=function(t,e,n){return this.dr.mr(t,e,n)},t.prototype.Ar=function(t,e){return this.dr.Ar(t,e)},t.prototype.Rr=function(t,e){var n=this;return-1===this.params.Xi?(td("LruGarbageCollector","Garbage collection skipped; disabled"),Pm.resolve(ay)):this.Pr(t).next((function(r){return r<n.params.Xi?(td("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.Xi),ay):n.gr(t,e)}))},t.prototype.Pr=function(t){return this.dr.Pr(t)},t.prototype.gr=function(t,e){var n,r,i,s,o,a,u,c=this,l=Date.now();return this.wr(t,this.params.Zi).next((function(e){return e>c.params.tr?(td("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.tr+" from "+e),r=c.params.tr):r=e,s=Date.now(),c.Tr(t,r)})).next((function(r){return n=r,o=Date.now(),c.mr(t,n,e)})).next((function(e){return i=e,a=Date.now(),c.Ar(t,n)})).next((function(t){return u=Date.now(),Jf()<=$u.a.DEBUG&&td("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(s-l)+"ms\n\tDetermined least recently used "+r+" in "+(o-s)+"ms\n\tRemoved "+i+" targets in "+(a-o)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),Pm.resolve({zi:!0,Hi:r,Ji:i,Yi:t})}))},t}();function hy(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=dy(e)),e=fy(t.get(n),e);return dy(e)}function fy(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var s=t.charAt(i);switch(s){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=s}}return n}function dy(t){return t+"\x01\x01"}function py(t){var e=t.length;if(sd(e>=2),2===e)return sd("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),Ed.X();for(var n=e-2,r=[],i="",s=0;s<e;){var o=t.indexOf("\x01",s);switch((o<0||o>n)&&id(),t.charAt(o+1)){case"\x01":var a=t.substring(s,o),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(s,o),i+="\0";break;case"\x11":i+=t.substring(s,o+1);break;default:id()}s=o+2}return new Ed(r)}var gy=function(t){this.yr=t};function my(t,e){if(e.document)return function(t,e,n){var r=Kp(t,e.name),i=Hp(e.updateTime),s=new $g({mapValue:{fields:e.fields}});return new Yg(r,i,s,{hasCommittedMutations:!!n})}(t.yr,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Td.ct(e.noDocument.path),r=wy(e.noDocument.readTime);return new Xg(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=Td.ct(e.unknownDocument.path),s=wy(e.unknownDocument.version);return new Zg(i,s)}return id()}function yy(t,e,n){var r=vy(n),i=e.key.path.q().H();if(e instanceof Yg){var s=function(t,e){return{name:Wp(t,e.key),fields:e.En().mapValue.fields,updateTime:qp(t,e.version.M())}}(t.yr,e);return new Ky(null,null,s,e.hasCommittedMutations,r,i)}if(e instanceof Xg){var o=e.key.path.H(),a=_y(e.version),u=e.hasCommittedMutations;return new Ky(null,new $y(o,a),null,u,r,i)}if(e instanceof Zg){var c=e.key.path.H(),l=_y(e.version);return new Ky(new Wy(c,l),null,null,!0,r,i)}return id()}function vy(t){var e=t.M();return[e.seconds,e.nanoseconds]}function by(t){var e=new bd(t[0],t[1]);return _d.N(e)}function _y(t){var e=t.M();return new qy(e.seconds,e.nanoseconds)}function wy(t){var e=new bd(t.seconds,t.nanoseconds);return _d.N(e)}function Ey(t,e){var n=(e.baseMutations||[]).map((function(e){return eg(t.yr,e)})),r=e.mutations.map((function(e){return eg(t.yr,e)})),i=bd.fromMillis(e.localWriteTimeMs);return new km(e.batchId,i,n,r)}function Oy(t){var e,n,r=wy(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?wy(t.lastLimboFreeSnapshotVersion):_d.min();return void 0!==t.query.documents?(sd(1===(n=t.query).documents.length),e=um(em(Yp(n.documents[0])))):e=function(t){return um(ig(t))}(t.query),new Fd(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Pd.fromBase64String(t.resumeToken))}function Sy(t,e){var n,r=_y(e.ft),i=_y(e.lastLimboFreeSnapshotVersion);n=Nd(e.target)?ng(t.yr,e.target):rg(t.yr,e.target);var s=e.resumeToken.toBase64();return new Yy(e.targetId,kd(e.target),r,s,e.sequenceNumber,i,n)}function Ty(t){var e=ig({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?cm(e,e.limit,"L"):e}var Cy=function(){function t(t,e,n,r){this.userId=t,this.serializer=e,this.os=n,this.Vr=r,this.pr={}}return t.vr=function(e,n,r,i){return sd(""!==e.uid),new t(e.u()?e.uid:"",n,r,i)},t.prototype.br=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ay(t)._i({index:Hy.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.Sr=function(t,e,n,r){var i=this,s=jy(t),o=Ay(t);return o.add({}).next((function(a){sd("number"==typeof a);for(var u=new km(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map((function(e){return tg(t.yr,e)})),i=n.mutations.map((function(e){return tg(t.yr,e)}));return new Hy(e,n.batchId,n.gn.toMillis(),r,i)}(i.serializer,i.userId,u),l=[],h=new Hd((function(t,e){return md(t.J(),e.J())})),f=0,d=r;f<d.length;f++){var p=d[f],g=Gy.key(i.userId,p.key.path,a);h=h.add(p.key.path.q()),l.push(o.put(c)),l.push(s.put(g,Gy.PLACEHOLDER))}return h.forEach((function(e){l.push(i.os.Dr(t,e))})),t.es((function(){i.pr[a]=u.keys()})),Pm.qn(l).next((function(){return u}))}))},t.prototype.Cr=function(t,e){var n=this;return Ay(t).get(e).next((function(t){return t?(sd(t.userId===n.userId),Ey(n.serializer,t)):null}))},t.prototype.Nr=function(t,e){var n=this;return this.pr[e]?Pm.resolve(this.pr[e]):this.Cr(t,e).next((function(t){if(t){var r=t.keys();return n.pr[e]=r,r}return null}))},t.prototype.Fr=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),s=null;return Ay(t)._i({index:Hy.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(sd(e.batchId>=r),s=Ey(n.serializer,e)),i.done()})).next((function(){return s}))},t.prototype.Or=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Ay(t)._i({index:Hy.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.Mr=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ay(t).ui(Hy.userMutationsIndex,n).next((function(t){return t.map((function(t){return Ey(e.serializer,t)}))}))},t.prototype.us=function(t,e){var n=this,r=Gy.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),s=[];return jy(t)._i({range:i},(function(r,i,o){var a=r[0],u=r[2],c=py(r[1]);if(a===n.userId&&e.path.isEqual(c))return Ay(t).get(u).next((function(t){if(!t)throw id();sd(t.userId===n.userId),s.push(Ey(n.serializer,t))}));o.done()})).next((function(){return s}))},t.prototype.ds=function(t,e){var n=this,r=new Hd(md),i=[];return e.forEach((function(e){var s=Gy.prefixForPath(n.userId,e.path),o=IDBKeyRange.lowerBound(s),a=jy(t)._i({range:o},(function(t,i,s){var o=t[0],a=t[2],u=py(t[1]);o===n.userId&&e.path.isEqual(u)?r=r.add(a):s.done()}));i.push(a)})),Pm.qn(i).next((function(){return n.kr(t,r)}))},t.prototype.Rs=function(t,e){var n=this,r=e.path,i=r.length+1,s=Gy.prefixForPath(this.userId,r),o=IDBKeyRange.lowerBound(s),a=new Hd(md);return jy(t)._i({range:o},(function(t,e,s){var o=t[0],u=t[2],c=py(t[1]);o===n.userId&&r.j(c)?c.length===i&&(a=a.add(u)):s.done()})).next((function(){return n.kr(t,a)}))},t.prototype.kr=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(Ay(t).get(e).next((function(t){if(null===t)throw id();sd(t.userId===n.userId),r.push(Ey(n.serializer,t))})))})),Pm.qn(i).next((function(){return r}))},t.prototype.$r=function(t,e){var n=this;return Iy(t.Lr,this.userId,e).next((function(r){return t.es((function(){n.Br(e.batchId)})),Pm.forEach(r,(function(e){return n.Vr.qr(t,e)}))}))},t.prototype.Br=function(t){delete this.pr[t]},t.prototype.Ur=function(t){var e=this;return this.br(t).next((function(n){if(!n)return Pm.resolve();var r=IDBKeyRange.lowerBound(Gy.prefixForUser(e.userId)),i=[];return jy(t)._i({range:r},(function(t,n,r){if(t[0]===e.userId){var s=py(t[1]);i.push(s)}else r.done()})).next((function(){sd(0===i.length)}))}))},t.prototype.Qr=function(t,e){return xy(t,this.userId,e)},t.prototype.Kr=function(t){var e=this;return ky(t).get(this.userId).next((function(t){return t||new zy(e.userId,-1,"")}))},t}();function xy(t,e,n){var r=Gy.prefixForPath(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r),o=!1;return jy(t)._i({range:s,li:!0},(function(t,n,r){t[0]===e&&t[1]===i&&(o=!0),r.done()})).next((function(){return o}))}function Iy(t,e,n){var r=t.store(Hy.store),i=t.store(Gy.store),s=[],o=IDBKeyRange.only(n.batchId),a=0,u=r._i({range:o},(function(t,e,n){return a++,n.delete()}));s.push(u.next((function(){sd(1===a)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=Gy.key(e,f.key.path,n.batchId);s.push(i.delete(d)),c.push(f.key)}return Pm.qn(s).next((function(){return c}))}function Ay(t){return yv.Ys(t,Hy.store)}function jy(t){return yv.Ys(t,Gy.store)}function ky(t){return yv.Ys(t,zy.store)}var Ry=function(){function t(t,e){this.serializer=t,this.os=e}return t.prototype.jn=function(t,e,n){return Dy(t).put(Ly(e),n)},t.prototype.Hn=function(t,e){var n=Dy(t),r=Ly(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.Wr(t,r)}))},t.prototype.Jn=function(t,e){var n=this;return Dy(t).get(Ly(e)).next((function(t){return n.jr(t)}))},t.prototype.Gr=function(t,e){var n=this;return Dy(t).get(Ly(e)).next((function(t){var e=n.jr(t);return e?{zn:e,size:Fy(t)}:null}))},t.prototype.getEntries=function(t,e){var n=this,r=Kd();return this.zr(t,e,(function(t,e){var i=n.jr(e);r=r.Tt(t,i)})).next((function(){return r}))},t.prototype.Hr=function(t,e){var n=this,r=Kd(),i=new qd(Td.$);return this.zr(t,e,(function(t,e){var s=n.jr(e);s?(r=r.Tt(t,s),i=i.Tt(t,Fy(e))):(r=r.Tt(t,null),i=i.Tt(t,0))})).next((function(){return{Jr:r,Yr:i}}))},t.prototype.zr=function(t,e,n){if(e.W())return Pm.resolve();var r=IDBKeyRange.bound(e.first().path.H(),e.last().path.H()),i=e.yt(),s=i.Ct();return Dy(t)._i({range:r},(function(t,e,r){for(var o=Td.ct(t);s&&Td.$(s,o)<0;)n(s,null),s=i.Ct();s&&s.isEqual(o)&&(n(s,e),s=i.Nt()?i.Ct():null),s?r.oi(s.path.H()):r.done()})).next((function(){for(;s;)n(s,null),s=i.Nt()?i.Ct():null}))},t.prototype.ws=function(t,e,n){var r=this,i=Yd(),s=e.path.length+1,o={};if(n.isEqual(_d.min())){var a=e.path.H();o.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.H(),c=vy(n);o.range=IDBKeyRange.lowerBound([u,c],!0),o.index=Ky.collectionReadTimeIndex}return Dy(t)._i(o,(function(t,n,o){if(t.length===s){var a=my(r.serializer,n);e.path.j(a.key.path)?a instanceof Yg&&dm(e,a)&&(i=i.Tt(a.key,a)):o.done()}})).next((function(){return i}))},t.prototype.Xr=function(t){return new Ny(this,!!t&&t.Zr)},t.prototype.eo=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return Py(t).get(Qy.key).next((function(t){return sd(!!t),t}))},t.prototype.Wr=function(t,e){return Py(t).put(Qy.key,e)},t.prototype.jr=function(t){if(t){var e=my(this.serializer,t);return e instanceof Xg&&e.version.isEqual(_d.min())?null:e}return null},t}(),Ny=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).no=e,r.Zr=n,r.so=new Nm((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return Object(Hu.c)(e,t),e.prototype.Zn=function(t){var e=this,n=[],r=0,i=new Hd((function(t,e){return md(t.J(),e.J())}));return this.Qn.forEach((function(s,o){var a=e.so.get(s);if(o.zn){var u=yy(e.no.serializer,o.zn,e.Wn(s));i=i.add(s.path.q());var c=Fy(u);r+=c-a,n.push(e.no.jn(t,s,u))}else if(r-=a,e.Zr){var l=yy(e.no.serializer,new Xg(s,_d.min()),e.Wn(s));n.push(e.no.jn(t,s,l))}else n.push(e.no.Hn(t,s))})),i.forEach((function(r){n.push(e.no.os.Dr(t,r))})),n.push(this.no.updateMetadata(t,r)),Pm.qn(n)},e.prototype.Yn=function(t,e){var n=this;return this.no.Gr(t,e).next((function(t){return null===t?(n.so.set(e,0),null):(n.so.set(e,t.size),t.zn)}))},e.prototype.Xn=function(t,e){var n=this;return this.no.Hr(t,e).next((function(t){var e=t.Jr;return t.Yr.forEach((function(t,e){n.so.set(t,e)})),e}))},e}(Dm);function Py(t){return yv.Ys(t,Qy.store)}function Dy(t){return yv.Ys(t,Ky.store)}function Ly(t){return t.path.H()}function Fy(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw id();e=t.noDocument}return JSON.stringify(e).length}var My=function(){function t(){this.io=new Uy}return t.prototype.Dr=function(t,e){return this.io.add(e),Pm.resolve()},t.prototype.As=function(t,e){return Pm.resolve(this.io.getEntries(e))},t}(),Uy=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.K(),n=t.q(),r=this.index[e]||new Hd(Ed.$),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.K(),n=t.q(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Hd(Ed.$)).H()},t}(),Vy=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,n,r){var i=this;sd(n<r&&n>=0&&r<=11);var s=new Qm("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(By.store)}(t),function(t){t.createObjectStore(zy.store,{keyPath:zy.keyPath}),t.createObjectStore(Hy.store,{keyPath:Hy.keyPath,autoIncrement:!0}).createIndex(Hy.userMutationsIndex,Hy.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Gy.store)}(t),tv(t),function(t){t.createObjectStore(Ky.store)}(t));var o=Pm.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Xy.store),t.deleteObjectStore(Yy.store),t.deleteObjectStore(Zy.store)}(t),tv(t)),o=o.next((function(){return function(t){var e=t.store(Zy.store),n=new Zy(0,0,_d.min().M(),0);return e.put(Zy.key,n)}(s)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(t,e){return e.store(Hy.store).ui().next((function(n){t.deleteObjectStore(Hy.store),t.createObjectStore(Hy.store,{keyPath:Hy.keyPath,autoIncrement:!0}).createIndex(Hy.userMutationsIndex,Hy.userMutationsKeyPath,{unique:!0});var r=e.store(Hy.store),i=n.map((function(t){return r.put(t)}));return Pm.qn(i)}))}(t,s)}))),o=o.next((function(){!function(t){t.createObjectStore(ev.store,{keyPath:ev.keyPath})}(t)}))),n<5&&r>=5&&(o=o.next((function(){return i.removeAcknowledgedMutations(s)}))),n<6&&r>=6&&(o=o.next((function(){return function(t){t.createObjectStore(Qy.store)}(t),i.addDocumentGlobal(s)}))),n<7&&r>=7&&(o=o.next((function(){return i.ensureSequenceNumbers(s)}))),n<8&&r>=8&&(o=o.next((function(){return i.createCollectionParentIndex(t,s)}))),n<9&&r>=9&&(o=o.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Ky.store);e.createIndex(Ky.readTimeIndex,Ky.readTimeIndexPath,{unique:!1}),e.createIndex(Ky.collectionReadTimeIndex,Ky.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.rewriteCanonicalIds(s)}))),n<11&&r>=11&&(o=o.next((function(){!function(t){t.createObjectStore(nv.store,{keyPath:nv.keyPath})}(t),function(t){t.createObjectStore(rv.store,{keyPath:rv.keyPath})}(t)}))),o},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store(Ky.store)._i((function(t,n){e+=Fy(n)})).next((function(){var n=new Qy(e);return t.store(Qy.store).put(Qy.key,n)}))},t.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(zy.store),r=t.store(Hy.store);return n.ui().next((function(n){return Pm.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.ui(Hy.userMutationsIndex,i).next((function(r){return Pm.forEach(r,(function(r){sd(r.userId===n.userId);var i=Ey(e.serializer,r);return Iy(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.ensureSequenceNumbers=function(t){var e=t.store(Xy.store),n=t.store(Ky.store);return t.store(Zy.store).get(Zy.key).next((function(t){var r=[];return n._i((function(n,i){var s=new Ed(n),o=function(t){return[0,hy(t)]}(s);r.push(e.get(o).next((function(n){return n?Pm.resolve():function(n){return e.put(new Xy(0,hy(n),t.highestListenSequenceNumber))}(s)})))})).next((function(){return Pm.qn(r)}))}))},t.prototype.createCollectionParentIndex=function(t,e){t.createObjectStore(Jy.store,{keyPath:Jy.keyPath});var n=e.store(Jy.store),r=new Uy,i=function(t){if(r.add(t)){var e=t.K(),i=t.q();return n.put({collectionId:e,parent:hy(i)})}};return e.store(Ky.store)._i({li:!0},(function(t,e){var n=new Ed(t);return i(n.q())})).next((function(){return e.store(Gy.store)._i({li:!0},(function(t,e){var n=py(t[1]);return i(n.q())}))}))},t.prototype.rewriteCanonicalIds=function(t){var e=this,n=t.store(Yy.store);return n._i((function(t,r){var i=Oy(r),s=Sy(e.serializer,i);return n.put(s)}))},t}(),qy=function(t,e){this.seconds=t,this.nanoseconds=e},By=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};By.store="owner",By.key="owner";var zy=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};zy.store="mutationQueues",zy.keyPath="userId";var Hy=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Hy.store="mutations",Hy.keyPath="batchId",Hy.userMutationsIndex="userMutationsIndex",Hy.userMutationsKeyPath=["userId","batchId"];var Gy=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,hy(e)]},t.key=function(t,e,n){return[t,hy(e),n]},t}();Gy.store="documentMutations",Gy.PLACEHOLDER=new Gy;var $y=function(t,e){this.path=t,this.readTime=e},Wy=function(t,e){this.path=t,this.version=e},Ky=function(t,e,n,r,i,s){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s};Ky.store="remoteDocuments",Ky.readTimeIndex="readTimeIndex",Ky.readTimeIndexPath="readTime",Ky.collectionReadTimeIndex="collectionReadTimeIndex",Ky.collectionReadTimeIndexPath=["parentPath","readTime"];var Qy=function(t){this.byteSize=t};Qy.store="remoteDocumentGlobal",Qy.key="remoteDocumentGlobalKey";var Yy=function(t,e,n,r,i,s,o){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=o};Yy.store="targets",Yy.keyPath="targetId",Yy.queryTargetsIndexName="queryTargetsIndex",Yy.queryTargetsKeyPath=["canonicalId","targetId"];var Xy=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Xy.store="targetDocuments",Xy.keyPath=["targetId","path"],Xy.documentTargetsIndex="documentTargetsIndex",Xy.documentTargetsKeyPath=["path","targetId"];var Zy=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Zy.key="targetGlobalKey",Zy.store="targetGlobal";var Jy=function(t,e){this.collectionId=t,this.parent=e};function tv(t){t.createObjectStore(Xy.store,{keyPath:Xy.keyPath}).createIndex(Xy.documentTargetsIndex,Xy.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Yy.store,{keyPath:Yy.keyPath}).createIndex(Yy.queryTargetsIndexName,Yy.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Zy.store)}Jy.store="collectionParents",Jy.keyPath=["collectionId","parent"];var ev=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};ev.store="clientMetadata",ev.keyPath="clientId";var nv=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};nv.store="bundles",nv.keyPath="bundleId";var rv=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};rv.store="namedQueries",rv.keyPath="name";var iv=Object(Hu.g)(Object(Hu.g)(Object(Hu.g)(Object(Hu.g)([zy.store,Hy.store,Gy.store,Ky.store,Yy.store,By.store,Zy.store,Xy.store],[ev.store]),[Qy.store]),[Jy.store]),[nv.store,rv.store]),sv=function(){function t(t){this.serializer=t}return t.prototype.ro=function(t,e){return ov(t).get(e).next((function(t){if(t)return{id:(e=t).bundleId,createTime:wy(e.createTime),version:e.version};var e}))},t.prototype.oo=function(t,e){return ov(t).put({bundleId:(n=e).id,createTime:_y(Hp(n.createTime)),version:n.version});var n},t.prototype.co=function(t,e){return av(t).get(e).next((function(t){if(t)return{name:(e=t).name,query:Ty(e.bundledQuery),readTime:wy(e.readTime)};var e}))},t.prototype.uo=function(t,e){return av(t).put(function(t){return{name:t.name,readTime:_y(Hp(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function ov(t){return yv.Ys(t,nv.store)}function av(t){return yv.Ys(t,rv.store)}var uv=function(){function t(){this.ao=new Uy}return t.prototype.Dr=function(t,e){var n=this;if(!this.ao.has(e)){var r=e.K(),i=e.q();t.es((function(){n.ao.add(e)}));var s={collectionId:r,parent:hy(i)};return cv(t).put(s)}return Pm.resolve()},t.prototype.As=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[vd(e),""],!1,!0);return cv(t).ui(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var s=i[r];if(s.collectionId!==e)break;n.push(py(s.parent))}return n}))},t}();function cv(t){return yv.Ys(t,Jy.store)}var lv=function(){function t(t){this.ho=t}return t.prototype.next=function(){return this.ho+=2,this.ho},t.lo=function(){return new t(0)},t._o=function(){return new t(-1)},t}(),hv=function(){function t(t,e){this.Vr=t,this.serializer=e}return t.prototype.fo=function(t){var e=this;return this.wo(t).next((function(n){var r=new lv(n.highestTargetId);return n.highestTargetId=r.next(),e.Eo(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.To=function(t){return this.wo(t).next((function(t){return _d.N(new bd(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.Io=function(t){return this.wo(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.mo=function(t,e,n){var r=this;return this.wo(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.M()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Eo(t,i)}))},t.prototype.Ao=function(t,e){var n=this;return this.Ro(t,e).next((function(){return n.wo(t).next((function(r){return r.targetCount+=1,n.Po(e,r),n.Eo(t,r)}))}))},t.prototype.yo=function(t,e){return this.Ro(t,e)},t.prototype.Vo=function(t,e){var n=this;return this.po(t,e.targetId).next((function(){return fv(t).delete(e.targetId)})).next((function(){return n.wo(t)})).next((function(e){return sd(e.targetCount>0),e.targetCount-=1,n.Eo(t,e)}))},t.prototype.mr=function(t,e,n){var r=this,i=0,s=[];return fv(t)._i((function(o,a){var u=Oy(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,s.push(r.Vo(t,u)))})).next((function(){return Pm.qn(s)})).next((function(){return i}))},t.prototype.Ue=function(t,e){return fv(t)._i((function(t,n){var r=Oy(n);e(r)}))},t.prototype.wo=function(t){return dv(t).get(Zy.key).next((function(t){return sd(null!==t),t}))},t.prototype.Eo=function(t,e){return dv(t).put(Zy.key,e)},t.prototype.Ro=function(t,e){return fv(t).put(Sy(this.serializer,e))},t.prototype.Po=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.vo=function(t){return this.wo(t).next((function(t){return t.targetCount}))},t.prototype.bo=function(t,e){var n=kd(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return fv(t)._i({range:r,index:Yy.queryTargetsIndexName},(function(t,n,r){var s=Oy(n);Rd(e,s.target)&&(i=s,r.done())})).next((function(){return i}))},t.prototype.So=function(t,e,n){var r=this,i=[],s=pv(t);return e.forEach((function(e){var o=hy(e.path);i.push(s.put(new Xy(n,o))),i.push(r.Vr.Do(t,n,e))})),Pm.qn(i)},t.prototype.Co=function(t,e,n){var r=this,i=pv(t);return Pm.forEach(e,(function(e){var s=hy(e.path);return Pm.qn([i.delete([n,s]),r.Vr.No(t,n,e)])}))},t.prototype.po=function(t,e){var n=pv(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.xo=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=pv(t),i=Jd();return r._i({range:n,li:!0},(function(t,e,n){var r=py(t[1]),s=new Td(r);i=i.add(s)})).next((function(){return i}))},t.prototype.Qr=function(t,e){var n=hy(e.path),r=IDBKeyRange.bound([n],[vd(n)],!1,!0),i=0;return pv(t)._i({index:Xy.documentTargetsIndex,li:!0,range:r},(function(t,e,n){0!==t[0]&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.Ze=function(t,e){return fv(t).get(e).next((function(t){return t?Oy(t):null}))},t}();function fv(t){return yv.Ys(t,Yy.store)}function dv(t){return yv.Ys(t,Zy.store)}function pv(t){return yv.Ys(t,Xy.store)}var gv="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",mv=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Lr=e,r.Fo=n,r}return Object(Hu.c)(e,t),e}(Vm),yv=function(){function t(e,n,r,i,s,o,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Cs=s,this.window=o,this.document=a,this.Oo=c,this.Mo=l,this.ko=null,this.$o=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Lo=null,this.inForeground=!1,this.Bo=null,this.qo=null,this.Uo=Number.NEGATIVE_INFINITY,this.Qo=function(t){return Promise.resolve()},!t.Gs())throw new ud(ad.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Vr=new _v(this,i),this.Ko=n+"main",this.serializer=new gy(u),this.Wo=new Gm(this.Ko,11,new Vy(this.serializer)),this.jo=new hv(this.Vr,this.serializer),this.os=new uv,this.ss=function(t,e){return new Ry(t,e)}(this.serializer,this.os),this.Go=new sv(this.serializer),this.window&&this.window.localStorage?this.zo=this.window.localStorage:(this.zo=null,!1===l&&ed("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.Ys=function(t,e){if(t instanceof mv)return Gm.Ys(t.Lr,e);throw id()},t.prototype.start=function(){var t=this;return this.Ho().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new ud(ad.FAILED_PRECONDITION,gv);return t.Jo(),t.Yo(),t.Xo(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.jo.Io(e)}))})).then((function(e){t.ko=new zm(e,t.Oo)})).then((function(){t.$o=!0})).catch((function(e){return t.Wo&&t.Wo.close(),Promise.reject(e)}))},t.prototype.Zo=function(t){var e=this;return this.Qo=function(n){return Object(Hu.b)(e,void 0,void 0,(function(){return Object(Hu.d)(this,(function(e){return this.lr?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.tc=function(t){var e=this;this.Wo.ti((function(n){return Object(Hu.b)(e,void 0,void 0,(function(){return Object(Hu.d)(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.ec=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Cs.Ri((function(){return Object(Hu.b)(e,void 0,void 0,(function(){return Object(Hu.d)(this,(function(t){switch(t.label){case 0:return this.lr?[4,this.Ho()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.Ho=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return bv(e).put(new ev(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.nc(e).next((function(e){e||(t.isPrimary=!1,t.Cs.Mi((function(){return t.Qo(!1)})))}))})).next((function(){return t.sc(e)})).next((function(n){return t.isPrimary&&!n?t.ic(e).next((function(){return!1})):!!n&&t.rc(e).next((function(){return!0}))}))})).catch((function(e){if(Km(e))return td("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return td("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.Cs.Mi((function(){return t.Qo(e)})),t.isPrimary=e}))},t.prototype.nc=function(t){var e=this;return vv(t).get(By.key).next((function(t){return Pm.resolve(e.oc(t))}))},t.prototype.cc=function(t){return bv(t).delete(this.clientId)},t.prototype.uc=function(){return Object(Hu.b)(this,void 0,void 0,(function(){var e,n,r,i=this;return Object(Hu.d)(this,(function(s){switch(s.label){case 0:return!this.isPrimary||this.ac(this.Uo,18e5)?[3,2]:(this.Uo=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var n=t.Ys(e,ev.store);return n.ui().next((function(t){var e=i.hc(t,18e5),r=t.filter((function(t){return-1===e.indexOf(t)}));return Pm.forEach(r,(function(t){return n.delete(t.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(e=s.sent(),this.zo)for(n=0,r=e;n<r.length;n++)this.zo.removeItem(this.lc(r[n].clientId));s.label=2;case 2:return[2]}}))}))},t.prototype.Xo=function(){var t=this;this.qo=this.Cs.Us("client_metadata_refresh",4e3,(function(){return t.Ho().then((function(){return t.uc()})).then((function(){return t.Xo()}))}))},t.prototype.oc=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.sc=function(t){var e=this;return this.Mo?Pm.resolve(!0):vv(t).get(By.key).next((function(n){if(null!==n&&e.ac(n.leaseTimestampMs,5e3)&&!e._c(n.ownerId)){if(e.oc(n)&&e.networkEnabled)return!0;if(!e.oc(n)){if(!n.allowTabSynchronization)throw new ud(ad.FAILED_PRECONDITION,gv);return!1}}return!(!e.networkEnabled||!e.inForeground)||bv(t).ui().next((function(t){return void 0===e.hc(t,5e3).find((function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))}))}))})).next((function(t){return e.isPrimary!==t&&td("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.fc=function(){return Object(Hu.b)(this,void 0,void 0,(function(){var t=this;return Object(Hu.d)(this,(function(e){switch(e.label){case 0:return this.$o=!1,this.dc(),this.qo&&(this.qo.cancel(),this.qo=null),this.wc(),this.Ec(),[4,this.Wo.runTransaction("shutdown","readwrite",[By.store,ev.store],(function(e){var n=new mv(e,zm.Ds);return t.ic(n).next((function(){return t.cc(n)}))}))];case 1:return e.sent(),this.Wo.close(),this.Tc(),[2]}}))}))},t.prototype.hc=function(t,e){var n=this;return t.filter((function(t){return n.ac(t.updateTimeMs,e)&&!n._c(t.clientId)}))},t.prototype.Ic=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return bv(e).ui().next((function(e){return t.hc(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"lr",{get:function(){return this.$o},enumerable:!1,configurable:!0}),t.prototype.mc=function(t){return Cy.vr(t,this.serializer,this.os,this.Vr)},t.prototype.Ac=function(){return this.jo},t.prototype.Rc=function(){return this.ss},t.prototype.Pc=function(){return this.os},t.prototype.gc=function(){return this.Go},t.prototype.runTransaction=function(t,e,n){var r,i=this;return td("IndexedDbPersistence","Starting transaction:",t),this.Wo.runTransaction(t,"readonly"===e?"readonly":"readwrite",iv,(function(s){return r=new mv(s,i.ko?i.ko.next():zm.Ds),"readwrite-primary"===e?i.nc(r).next((function(t){return!!t||i.sc(r)})).next((function(e){if(!e)throw ed("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Cs.Mi((function(){return i.Qo(!1)})),new ud(ad.FAILED_PRECONDITION,Um);return n(r)})).next((function(t){return i.rc(r).next((function(){return t}))})):i.yc(r).next((function(){return n(r)}))})).then((function(t){return r.ns(),t}))},t.prototype.yc=function(t){var e=this;return vv(t).get(By.key).next((function(t){if(null!==t&&e.ac(t.leaseTimestampMs,5e3)&&!e._c(t.ownerId)&&!e.oc(t)&&!(e.Mo||e.allowTabSynchronization&&t.allowTabSynchronization))throw new ud(ad.FAILED_PRECONDITION,gv)}))},t.prototype.rc=function(t){var e=new By(this.clientId,this.allowTabSynchronization,Date.now());return vv(t).put(By.key,e)},t.Gs=function(){return Gm.Gs()},t.prototype.ic=function(t){var e=this,n=vv(t);return n.get(By.key).next((function(t){return e.oc(t)?(td("IndexedDbPersistence","Releasing primary lease."),n.delete(By.key)):Pm.resolve()}))},t.prototype.ac=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(ed("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.Jo=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Bo=function(){t.Cs.Ri((function(){return t.inForeground="visible"===t.document.visibilityState,t.Ho()}))},this.document.addEventListener("visibilitychange",this.Bo),this.inForeground="visible"===this.document.visibilityState)},t.prototype.wc=function(){this.Bo&&(this.document.removeEventListener("visibilitychange",this.Bo),this.Bo=null)},t.prototype.Yo=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Lo=function(){e.dc(),e.Cs.Ri((function(){return e.fc()}))},this.window.addEventListener("unload",this.Lo))},t.prototype.Ec=function(){this.Lo&&(this.window.removeEventListener("unload",this.Lo),this.Lo=null)},t.prototype._c=function(t){var e;try{var n=null!==(null===(e=this.zo)||void 0===e?void 0:e.getItem(this.lc(t)));return td("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return ed("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.dc=function(){if(this.zo)try{this.zo.setItem(this.lc(this.clientId),String(Date.now()))}catch(t){ed("Failed to set zombie client id.",t)}},t.prototype.Tc=function(){if(this.zo)try{this.zo.removeItem(this.lc(this.clientId))}catch(t){}},t.prototype.lc=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function vv(t){return yv.Ys(t,By.store)}function bv(t){return yv.Ys(t,ev.store)}var _v=function(){function t(t,e){this.db=t,this.cr=new ly(this,e)}return t.prototype.Er=function(t){var e=this.Vc(t);return this.db.Ac().vo(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.Vc=function(t){var e=0;return this.Ir(t,(function(t){e++})).next((function(){return e}))},t.prototype.Ue=function(t,e){return this.db.Ac().Ue(t,e)},t.prototype.Ir=function(t,e){return this.vc(t,(function(t,n){return e(n)}))},t.prototype.Do=function(t,e,n){return wv(t,n)},t.prototype.No=function(t,e,n){return wv(t,n)},t.prototype.mr=function(t,e,n){return this.db.Ac().mr(t,e,n)},t.prototype.qr=function(t,e){return wv(t,e)},t.prototype.bc=function(t,e){return function(t,e){var n=!1;return ky(t).fi((function(r){return xy(t,r,e).next((function(t){return t&&(n=!0),Pm.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.Ar=function(t,e){var n=this,r=this.db.Rc().Xr(),i=[],s=0;return this.vc(t,(function(o,a){if(a<=e){var u=n.bc(t,o).next((function(e){if(!e)return s++,r.Jn(t,o).next((function(){return r.Hn(o),pv(t).delete([0,hy(o.path)])}))}));i.push(u)}})).next((function(){return Pm.qn(i)})).next((function(){return r.apply(t)})).next((function(){return s}))},t.prototype.removeTarget=function(t,e){var n=e.dt(t.Fo);return this.db.Ac().yo(t,n)},t.prototype.Sc=function(t,e){return wv(t,e)},t.prototype.vc=function(t,e){var n,r=pv(t),i=zm.Ds;return r._i({index:Xy.documentTargetsIndex},(function(t,r){var s=r.path,o=r.sequenceNumber;0===t[0]?(i!==zm.Ds&&e(new Td(py(n)),i),i=o,n=s):i=zm.Ds})).next((function(){i!==zm.Ds&&e(new Td(py(n)),i)}))},t.prototype.Pr=function(t){return this.db.Rc().eo(t)},t}();function wv(t,e){return pv(t).put(function(t,e){return new Xy(0,hy(t.path),e)}(e,t.Fo))}function Ev(t,e){var n=t.projectId;return t.o||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Ov=function(){function t(t,e,n,r){this.persistence=t,this.Dc=e,this.serializer=r,this.Cc=new qd(md),this.Nc=new Nm((function(t){return kd(t)}),Rd),this.xc=_d.min(),this.rs=t.mc(n),this.Fc=t.Rc(),this.jo=t.Ac(),this.Oc=new qm(this.Fc,this.rs,this.persistence.Pc()),this.Go=t.gc(),this.Dc.Mc(this.Oc)}return t.prototype._r=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.Rr(n,e.Cc)}))},t}();function Sv(t,e,n,r){return new Ov(t,e,n,r)}function Tv(t,e){return Object(Hu.b)(this,void 0,void 0,(function(){var n,r,i,s;return Object(Hu.d)(this,(function(o){switch(o.label){case 0:return n=od(t),r=n.rs,i=n.Oc,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var s;return n.rs.Mr(t).next((function(o){return s=o,r=n.persistence.mc(e),i=new qm(n.Fc,r,n.persistence.Pc()),r.Mr(t)})).next((function(e){for(var n=[],r=[],o=Jd(),a=0,u=s;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)o=o.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var g=0,m=p.mutations;g<m.length;g++)o=o.add(m[g].key)}return i._s(t,o).next((function(t){return{kc:t,$c:n,Lc:r}}))}))}))];case 1:return s=o.sent(),[2,(n.rs=r,n.Oc=i,n.Dc.Mc(n.Oc),s)]}}))}))}function Cv(t,e){var n=od(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r=e.batch.keys(),i=n.Fc.Xr({Zr:!0});return function(t,e,n,r){var i=n.batch,s=i.keys(),o=Pm.resolve();return s.forEach((function(t){o=o.next((function(){return r.Jn(e,t)})).next((function(e){var s=e,o=n.Sn.get(t);sd(null!==o),(!s||s.version.F(o)<0)&&(s=i.yn(t,s,n))&&r.jn(s,n.bn)}))})),o.next((function(){return t.rs.$r(e,i)}))}(n,t,e,i).next((function(){return i.apply(t)})).next((function(){return n.rs.Ur(t)})).next((function(){return n.Oc._s(t,r)}))}))}function xv(t){var e=od(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.jo.To(t)}))}function Iv(t,e){var n=od(t),r=e.ft,i=n.Cc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var s=n.Fc.Xr({Zr:!0});i=n.Cc;var o=[];e.re.forEach((function(e,s){var a=i.get(s);if(a){o.push(n.jo.Co(t,e.de,s).next((function(){return n.jo.So(t,e._e,s)})));var u=e.resumeToken;if(u.ht()>0){var c=a.wt(u,r).dt(t.Fo);i=i.Tt(s,c),function(t,e,n){return sd(e.resumeToken.ht()>0),0===t.resumeToken.ht()||e.ft.O()-t.ft.O()>=3e8||n._e.size+n.fe.size+n.de.size>0}(a,c,e)&&o.push(n.jo.yo(t,c))}}}));var a=Wd();if(e.ce.forEach((function(r,i){e.ue.has(r)&&o.push(n.persistence.Vr.Sc(t,r))})),o.push(function(t,e,n,r,i){var s=Jd();return n.forEach((function(t){return s=s.add(t)})),e.getEntries(t,s).next((function(t){var i=Wd();return n.forEach((function(n,s){var o=t.get(n),a=r;s instanceof Xg&&s.version.isEqual(_d.min())?(e.Hn(n,a),i=i.Tt(n,s)):null==o||s.version.F(o.version)>0||0===s.version.F(o.version)&&o.hasPendingWrites?(e.jn(s,a),i=i.Tt(n,s)):td("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",s.version)})),i}))}(t,s,e.ce,r).next((function(t){a=t}))),!r.isEqual(_d.min())){var u=n.jo.To(t).next((function(e){return n.jo.mo(t,t.Fo,r)}));o.push(u)}return Pm.qn(o).next((function(){return s.apply(t)})).next((function(){return n.Oc.fs(t,a)}))})).then((function(t){return n.Cc=i,t}))}function Av(t,e){var n=od(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n.rs.Fr(t,e)}))}function jv(t,e){var n=od(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.jo.bo(t,e).next((function(i){return i?Pm.resolve(r=i):n.jo.fo(t).next((function(i){return r=new Fd(e,i,0,t.Fo),n.jo.Ao(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.Cc.get(t.targetId);return(null===r||t.ft.F(r.ft)>0)&&(n.Cc=n.Cc.Tt(t.targetId,t),n.Nc.set(e,t.targetId)),t}))}function kv(t,e,n){return Object(Hu.b)(this,void 0,void 0,(function(){var r,i,s,o;return Object(Hu.d)(this,(function(a){switch(a.label){case 0:r=od(t),i=r.Cc.get(e),s=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",s,(function(t){return r.persistence.Vr.removeTarget(t,i)}))];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!Km(o=a.sent()))throw o;return td("LocalStore","Failed to update sequence numbers for target "+e+": "+o),[3,5];case 5:return r.Cc=r.Cc.remove(e),r.Nc.delete(i.target),[2]}}))}))}function Rv(t,e,n){var r=od(t),i=_d.min(),s=Jd();return r.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var r=od(t),i=r.Nc.get(n);return void 0!==i?Pm.resolve(r.Cc.get(i)):r.jo.bo(e,n)}(r,t,um(e)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.jo.xo(t,e.targetId).next((function(t){s=t}))})).next((function(){return r.Dc.ws(t,e,n?i:_d.min(),n?s:Jd())})).next((function(t){return{documents:t,Bc:s}}))}))}function Nv(t,e){var n=od(t),r=od(n.jo),i=n.Cc.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.Ze(t,e).next((function(t){return t?t.target:null}))}))}function Pv(t){var e=od(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return function(t,e,n){var r=od(t),i=Wd(),s=vy(n),o=Dy(e),a=IDBKeyRange.lowerBound(s,!0);return o._i({index:Ky.readTimeIndex,range:a},(function(t,e){var n=my(r.serializer,e);i=i.Tt(n.key,n),s=e.readTime})).next((function(){return{qc:i,readTime:by(s)}}))}(e.Fc,t,e.xc)})).then((function(t){var n=t.qc;return e.xc=t.readTime,n}))}function Dv(t){return Object(Hu.b)(this,void 0,void 0,(function(){var e;return Object(Hu.d)(this,(function(n){return[2,(e=od(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return function(t){var e=Dy(t),n=_d.min();return e._i({index:Ky.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=by(e.readTime)),r.done()})).next((function(){return n}))}(t)})).then((function(t){e.xc=t}))]}))}))}function Lv(t){return Object(Hu.b)(this,void 0,void 0,(function(){return Object(Hu.d)(this,(function(e){if(t.code!==ad.FAILED_PRECONDITION||t.message!==Um)throw t;return td("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}var Fv=function(){function t(t,e,n,r,i,s){this.Cs=t,this.Uc=n,this.Qc=r,this.Kc=i,this.listener=s,this.state=0,this.Wc=0,this.jc=null,this.stream=null,this.Si=new Hm(t,e)}return t.prototype.Gc=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.zc=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.Hc()},t.prototype.stop=function(){return Object(Hu.b)(this,void 0,void 0,(function(){return Object(Hu.d)(this,(function(t){switch(t.label){case 0:return this.Gc()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.Jc=function(){this.state=0,this.Si.reset()},t.prototype.Yc=function(){var t=this;this.zc()&&null===this.jc&&(this.jc=this.Cs.Us(this.Uc,6e4,(function(){return t.Xc()})))},t.prototype.Zc=function(t){this.tu(),this.stream.send(t)},t.prototype.Xc=function(){return Object(Hu.b)(this,void 0,void 0,(function(){return Object(Hu.d)(this,(function(t){return this.zc()?[2,this.close(0)]:[2]}))}))},t.prototype.tu=function(){this.jc&&(this.jc.cancel(),this.jc=null)},t.prototype.close=function(t,e){return Object(Hu.b)(this,void 0,void 0,(function(){return Object(Hu.d)(this,(function(n){switch(n.label){case 0:return this.tu(),this.Si.cancel(),this.Wc++,3!==t?this.Si.reset():e&&e.code===ad.RESOURCE_EXHAUSTED?(ed(e.toString()),ed("Using maximum backoff delay to prevent overloading the backend."),this.Si.Ls()):e&&e.code===ad.UNAUTHENTICATED&&this.Kc.m(),null!==this.stream&&(this.eu(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.nu(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.eu=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.su(this.Wc),n=this.Wc;this.Kc.getToken().then((function(e){t.Wc===n&&t.iu(e)}),(function(n){e((function(){var e=new ud(ad.UNKNOWN,"Fetching auth token failed: "+n.message);return t.ru(e)}))}))},t.prototype.iu=function(t){var e=this,n=this.su(this.Wc);this.stream=this.ou(t),this.stream.cu((function(){n((function(){return e.state=2,e.listener.cu()}))})),this.stream.nu((function(t){n((function(){return e.ru(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.Hc=function(){var t=this;this.state=4,this.Si.Bs((function(){return Object(Hu.b)(t,void 0,void 0,(function(){return Object(Hu.d)(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.ru=function(t){return td("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.su=function(t){var e=this;return function(n){e.Cs.Ri((function(){return e.Wc===t?n():(td("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),Mv=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,s)||this).serializer=i,o}return Object(Hu.c)(e,t),e.prototype.ou=function(t){return this.Qc.uu("Listen",t)},e.prototype.onMessage=function(t){this.Si.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:id()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(t,e){return t.tn?(sd(void 0===e||"string"==typeof e),Pd.fromBase64String(e||"")):(sd(void 0===e||e instanceof Uint8Array),Pd.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(t){var e=void 0===t.code?ad.UNKNOWN:Vd(t.code);return new ud(e,t.message||"")}(o);n=new cp(r,i,s,a||null)}else if("documentChange"in e){var u=e.documentChange,c=Kp(t,u.document.name),l=Hp(u.document.updateTime),h=new $g({mapValue:{fields:u.document.fields}}),f=new Yg(c,l,h,{});n=new ap(u.targetIds||[],u.removedTargetIds||[],f.key,f)}else if("documentDelete"in e){var d=e.documentDelete,p=Kp(t,d.document),g=d.readTime?Hp(d.readTime):_d.min(),m=new Xg(p,g);n=new ap([],d.removedTargetIds||[],m.key,m)}else if("documentRemove"in e){var y=e.documentRemove,v=Kp(t,y.document);n=new ap([],y.removedTargetIds||[],v,null)}else{if(!("filter"in e))return id();var b=e.filter,_=new Md(b.count||0);n=new up(b.targetId,_)}return n}(this.serializer,t),n=function(t){if(!("targetChange"in t))return _d.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?_d.min():e.readTime?Hp(e.readTime):_d.min()}(t);return this.listener.au(e,n)},e.prototype.hu=function(t){var e={};e.database=Xp(this.serializer),e.addTarget=function(t,e){var n,r=e.target;return(n=Nd(r)?{documents:ng(t,r)}:{query:rg(t,r)}).targetId=e.targetId,e.resumeToken.ht()>0?n.resumeToken=Bp(t,e.resumeToken):e.ft.F(_d.min())>0&&(n.readTime=qp(t,e.ft.M())),n}(this.serializer,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return id()}}(0,e._t);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.Zc(e)},e.prototype.lu=function(t){var e={};e.database=Xp(this.serializer),e.removeTarget=t,this.Zc(e)},e}(Fv),Uv=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,s)||this).serializer=i,o._u=!1,o}return Object(Hu.c)(e,t),Object.defineProperty(e.prototype,"fu",{get:function(){return this._u},enumerable:!1,configurable:!0}),e.prototype.start=function(){this._u=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.eu=function(){this._u&&this.du([])},e.prototype.ou=function(t){return this.Qc.uu("Write",t)},e.prototype.onMessage=function(t){if(sd(!!t.streamToken),this.lastStreamToken=t.streamToken,this._u){this.Si.reset();var e=function(t,e){return t&&t.length>0?(sd(void 0!==e),t.map((function(t){return function(t,e){var n=Hp(t.updateTime?t.updateTime:e);n.isEqual(_d.min())&&(n=Hp(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new Ag(n,r)}(t,e)}))):[]}(t.writeResults,t.commitTime),n=Hp(t.commitTime);return this.listener.wu(n,e)}return sd(!t.writeResults||0===t.writeResults.length),this._u=!0,this.listener.Eu()},e.prototype.Tu=function(){var t={};t.database=Xp(this.serializer),this.Zc(t)},e.prototype.du=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return tg(e.serializer,t)}))};this.Zc(n)},e}(Fv),Vv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Qc=n,i.serializer=r,i.Iu=!1,i}return Object(Hu.c)(e,t),e.prototype.mu=function(){if(this.Iu)throw new ud(ad.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Au=function(t,e,n){var r=this;return this.mu(),this.credentials.getToken().then((function(i){return r.Qc.Au(t,e,n,i)})).catch((function(t){throw t.code===ad.UNAUTHENTICATED&&r.credentials.m(),t}))},e.prototype.Ru=function(t,e,n){var r=this;return this.mu(),this.credentials.getToken().then((function(i){return r.Qc.Ru(t,e,n,i)})).catch((function(t){throw t.code===ad.UNAUTHENTICATED&&r.credentials.m(),t}))},e.prototype.terminate=function(){this.Iu=!1},e}((function(){})),qv=function(){function t(t,e){this.di=t,this.Pu=e,this.state="Unknown",this.gu=0,this.yu=null,this.Vu=!0}return t.prototype.pu=function(){var t=this;0===this.gu&&(this.vu("Unknown"),this.yu=this.di.Us("online_state_timeout",1e4,(function(){return t.yu=null,t.bu("Backend didn't respond within 10 seconds."),t.vu("Offline"),Promise.resolve()})))},t.prototype.Su=function(t){"Online"===this.state?this.vu("Unknown"):(this.gu++,this.gu>=1&&(this.Du(),this.bu("Connection failed 1 times. Most recent error: "+t.toString()),this.vu("Offline")))},t.prototype.set=function(t){this.Du(),this.gu=0,"Online"===t&&(this.Vu=!1),this.vu(t)},t.prototype.vu=function(t){t!==this.state&&(this.state=t,this.Pu(t))},t.prototype.bu=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vu?(ed(e),this.Vu=!1):td("OnlineStateTracker",e)},t.prototype.Du=function(){null!==this.yu&&(this.yu.cancel(),this.yu=null)},t}(),Bv=function(t,e,n,r,i){var s=this;this.Cu=t,this.Nu=e,this.di=n,this.xu={},this.Fu=[],this.Ou=new Map,this.Mu=new Set,this.ku=[],this.$u=i,this.$u.Lu((function(t){n.Ri((function(){return Object(Hu.b)(s,void 0,void 0,(function(){return Object(Hu.d)(this,(function(t){switch(t.label){case 0:return Xv(this)?(td("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(Hu.b)(this,void 0,void 0,(function(){var e;return Object(Hu.d)(this,(function(n){switch(n.label){case 0:return(e=od(t)).Mu.add(4),[4,Hv(e)];case 1:return n.sent(),e.Bu.set("Unknown"),e.Mu.delete(4),[4,zv(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Bu=new qv(n,r)};function zv(t){return Object(Hu.b)(this,void 0,void 0,(function(){var e,n;return Object(Hu.d)(this,(function(r){switch(r.label){case 0:if(!Xv(t))return[3,4];e=0,n=t.ku,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function Hv(t){return Object(Hu.b)(this,void 0,void 0,(function(){var e,n;return Object(Hu.d)(this,(function(r){switch(r.label){case 0:e=0,n=t.ku,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function Gv(t,e){var n=od(t);n.Ou.has(e.targetId)||(n.Ou.set(e.targetId,e),Yv(n)?Qv(n):fb(n).zc()&&Wv(n,e))}function $v(t,e){var n=od(t),r=fb(n);n.Ou.delete(e),r.zc()&&Kv(n,e),0===n.Ou.size&&(r.zc()?r.Yc():Xv(n)&&n.Bu.set("Unknown"))}function Wv(t,e){t.qu.De(e.targetId),fb(t).hu(e)}function Kv(t,e){t.qu.De(e),fb(t).lu(e)}function Qv(t){t.qu=new hp({Xe:function(e){return t.xu.Xe(e)},Ze:function(e){return t.Ou.get(e)||null}}),fb(t).start(),t.Bu.pu()}function Yv(t){return Xv(t)&&!fb(t).Gc()&&t.Ou.size>0}function Xv(t){return 0===od(t).Mu.size}function Zv(t){t.qu=void 0}function Jv(t){return Object(Hu.b)(this,void 0,void 0,(function(){return Object(Hu.d)(this,(function(e){return t.Ou.forEach((function(e,n){Wv(t,e)})),[2]}))}))}function tb(t,e){return Object(Hu.b)(this,void 0,void 0,(function(){return Object(Hu.d)(this,(function(n){return Zv(t),Yv(t)?(t.Bu.Su(e),Qv(t)):t.Bu.set("Unknown"),[2]}))}))}function eb(t,e,n){return Object(Hu.b)(this,void 0,void 0,(function(){var r,i,s;return Object(Hu.d)(this,(function(o){switch(o.label){case 0:if(t.Bu.set("Online"),!(e instanceof cp&&2===e.state&&e.cause))return[3,6];o.label=1;case 1:return o.trys.push([1,3,,5]),[4,function(t,e){return Object(Hu.b)(this,void 0,void 0,(function(){var n,r,i,s;return Object(Hu.d)(this,(function(o){switch(o.label){case 0:n=e.cause,r=0,i=e.targetIds,o.label=1;case 1:return r<i.length?t.Ou.has(s=i[r])?[4,t.xu.Uu(s,n)]:[3,3]:[3,5];case 2:o.sent(),t.Ou.delete(s),t.qu.removeTarget(s),o.label=3;case 3:o.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return o.sent(),[3,5];case 3:return r=o.sent(),td("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,nb(t,r)];case 4:return o.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof ap?t.qu.$e(e):e instanceof up?t.qu.je(e):t.qu.qe(e),n.isEqual(_d.min()))return[3,13];o.label=7;case 7:return o.trys.push([7,11,,13]),[4,xv(t.Cu)];case 8:return i=o.sent(),n.F(i)>=0?[4,function(t,e){var n=t.qu.He(e);return n.re.forEach((function(n,r){if(n.resumeToken.ht()>0){var i=t.Ou.get(r);i&&t.Ou.set(r,i.wt(n.resumeToken,e))}})),n.oe.forEach((function(e){var n=t.Ou.get(e);if(n){t.Ou.set(e,n.wt(Pd.lt,n.ft)),Kv(t,e);var r=new Fd(n.target,e,1,n.sequenceNumber);Wv(t,r)}})),t.xu.Qu(n)}(t,n)]:[3,10];case 9:o.sent(),o.label=10;case 10:return[3,13];case 11:return td("RemoteStore","Failed to raise snapshot:",s=o.sent()),[4,nb(t,s)];case 12:return o.sent(),[3,13];case 13:return[2]}}))}))}function nb(t,e,n){return Object(Hu.b)(this,void 0,void 0,(function(){var r=this;return Object(Hu.d)(this,(function(i){switch(i.label){case 0:if(!Km(e))throw e;return t.Mu.add(1),[4,Hv(t)];case 1:return i.sent(),t.Bu.set("Offline"),n||(n=function(){return xv(t.Cu)}),t.di.Mi((function(){return Object(Hu.b)(r,void 0,void 0,(function(){return Object(Hu.d)(this,(function(e){switch(e.label){case 0:return td("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Mu.delete(1),[4,zv(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function rb(t,e){return e().catch((function(n){return nb(t,n,e)}))}function ib(t){return Object(Hu.b)(this,void 0,void 0,(function(){var e,n,r,i,s;return Object(Hu.d)(this,(function(o){switch(o.label){case 0:e=od(t),n=db(e),r=e.Fu.length>0?e.Fu[e.Fu.length-1].batchId:-1,o.label=1;case 1:if(!function(t){return Xv(t)&&t.Fu.length<10}(e))return[3,7];o.label=2;case 2:return o.trys.push([2,4,,6]),[4,Av(e.Cu,r)];case 3:return null===(i=o.sent())?(0===e.Fu.length&&n.Yc(),[3,7]):(r=i.batchId,function(t,e){t.Fu.push(e);var n=db(t);n.zc()&&n.fu&&n.du(e.mutations)}(e,i),[3,6]);case 4:return s=o.sent(),[4,nb(e,s)];case 5:return o.sent(),[3,6];case 6:return[3,1];case 7:return sb(e)&&ob(e),[2]}}))}))}function sb(t){return Xv(t)&&!db(t).Gc()&&t.Fu.length>0}function ob(t){db(t).start()}function ab(t){return Object(Hu.b)(this,void 0,void 0,(function(){return Object(Hu.d)(this,(function(e){return db(t).Tu(),[2]}))}))}function ub(t){return Object(Hu.b)(this,void 0,void 0,(function(){var e,n,r;return Object(Hu.d)(this,(function(i){for(e=db(t),n=0,r=t.Fu;n<r.length;n++)e.du(r[n].mutations);return[2]}))}))}function cb(t,e,n){return Object(Hu.b)(this,void 0,void 0,(function(){var r,i;return Object(Hu.d)(this,(function(s){switch(s.label){case 0:return r=t.Fu.shift(),i=Rm.from(r,e,n),[4,rb(t,(function(){return t.xu.Ku(i)}))];case 1:return s.sent(),[4,ib(t)];case 2:return s.sent(),[2]}}))}))}function lb(t,e){return Object(Hu.b)(this,void 0,void 0,(function(){return Object(Hu.d)(this,(function(n){switch(n.label){case 0:return e&&db(t).fu?[4,function(t,e){return Object(Hu.b)(this,void 0,void 0,(function(){var n,r;return Object(Hu.d)(this,(function(i){switch(i.label){case 0:return Ud(r=e.code)&&r!==ad.ABORTED?(n=t.Fu.shift(),db(t).Jc(),[4,rb(t,(function(){return t.xu.Wu(n.batchId,e)}))]):[3,3];case 1:return i.sent(),[4,ib(t)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return sb(t)&&ob(t),[2]}}))}))}function hb(t,e){return Object(Hu.b)(this,void 0,void 0,(function(){var n;return Object(Hu.d)(this,(function(r){switch(r.label){case 0:return n=od(t),e?(n.Mu.delete(2),[4,zv(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Mu.add(2),[4,Hv(n)]);case 3:r.sent(),n.Bu.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function fb(t){var e=this;return t.ju||(t.ju=function(t,e,n){var r=od(t);return r.mu(),new Mv(e,r.Qc,r.credentials,r.serializer,n)}(t.Nu,t.di,{cu:Jv.bind(null,t),nu:tb.bind(null,t),au:eb.bind(null,t)}),t.ku.push((function(n){return Object(Hu.b)(e,void 0,void 0,(function(){return Object(Hu.d)(this,(function(e){switch(e.label){case 0:return n?(t.ju.Jc(),Yv(t)?Qv(t):t.Bu.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.ju.stop()];case 2:e.sent(),Zv(t),e.label=3;case 3:return[2]}}))}))}))),t.ju}function db(t){var e=this;return t.Gu||(t.Gu=function(t,e,n){var r=od(t);return r.mu(),new Uv(e,r.Qc,r.credentials,r.serializer,n)}(t.Nu,t.di,{cu:ab.bind(null,t),nu:lb.bind(null,t),Eu:ub.bind(null,t),wu:cb.bind(null,t)}),t.ku.push((function(n){return Object(Hu.b)(e,void 0,void 0,(function(){return Object(Hu.d)(this,(function(e){switch(e.label){case 0:return n?(t.Gu.Jc(),[4,ib(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Gu.stop()];case 3:e.sent(),t.Fu.length>0&&(td("RemoteStore","Stopping write stream with "+t.Fu.length+" pending writes"),t.Fu=[]),e.label=4;case 4:return[2]}}))}))}))),t.Gu}var pb=function(){this.zu=void 0,this.listeners=[]},gb=function(){this.queries=new Nm((function(t){return hm(t)}),lm),this.onlineState="Unknown",this.Hu=new Set};function mb(t,e){return Object(Hu.b)(this,void 0,void 0,(function(){var n,r,i,s,o,a,u;return Object(Hu.d)(this,(function(c){switch(c.label){case 0:if(n=od(t),i=!1,(s=n.queries.get(r=e.query))||(i=!0,s=new pb),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),o=s,[4,n.Ju(r)];case 2:return o.zu=c.sent(),[3,4];case 3:return a=c.sent(),u=iy(a,"Initialization of query '"+fm(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,s),s.listeners.push(e),e.Yu(n.onlineState),s.zu&&e.Xu(s.zu)&&_b(n),[2]}}))}))}function yb(t,e){return Object(Hu.b)(this,void 0,void 0,(function(){var n,r,i,s,o;return Object(Hu.d)(this,(function(a){return n=od(t),i=!1,(s=n.queries.get(r=e.query))&&(o=s.listeners.indexOf(e))>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length),i?[2,(n.queries.delete(r),n.Zu(r))]:[2]}))}))}function vb(t,e){for(var n=od(t),r=!1,i=0,s=e;i<s.length;i++){var o=s[i],a=n.queries.get(o.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].Xu(o)&&(r=!0);a.zu=o}}r&&_b(n)}function bb(t,e,n){var r=od(t),i=r.queries.get(e);if(i)for(var s=0,o=i.listeners;s<o.length;s++)o[s].onError(n);r.queries.delete(e)}function _b(t){t.Hu.forEach((function(t){t.next()}))}var wb=function(){function t(t,e,n){this.query=t,this.ta=e,this.ea=!1,this.na=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Xu=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new ip(t.query,t.docs,t.te,e,t.ee,t.fromCache,t.ne,!0)}var s=!1;return this.ea?this.sa(t)&&(this.ta.next(t),s=!0):this.ia(t,this.onlineState)&&(this.ra(t),s=!0),this.na=t,s},t.prototype.onError=function(t){this.ta.error(t)},t.prototype.Yu=function(t){this.onlineState=t;var e=!1;return this.na&&!this.ea&&this.ia(this.na,t)&&(this.ra(this.na),e=!0),e},t.prototype.ia=function(t,e){return!t.fromCache||!(this.options.oa&&"Offline"!==e||t.docs.W()&&"Offline"!==e)},t.prototype.sa=function(t){return t.docChanges.length>0||!!(t.ne||this.na&&this.na.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.ra=function(t){t=ip.ie(t.query,t.docs,t.ee,t.fromCache),this.ea=!0,this.ta.next(t)},t}(),Eb=function(){function t(){this.ca=new Hd(Ob.ua),this.aa=new Hd(Ob.ha)}return t.prototype.W=function(){return this.ca.W()},t.prototype.Do=function(t,e){var n=new Ob(t,e);this.ca=this.ca.add(n),this.aa=this.aa.add(n)},t.prototype.la=function(t,e){var n=this;t.forEach((function(t){return n.Do(t,e)}))},t.prototype.No=function(t,e){this._a(new Ob(t,e))},t.prototype.fa=function(t,e){var n=this;t.forEach((function(t){return n.No(t,e)}))},t.prototype.da=function(t){var e=this,n=new Td(new Ed([])),r=new Ob(n,t),i=new Ob(n,t+1),s=[];return this.aa.Kt([r,i],(function(t){e._a(t),s.push(t.key)})),s},t.prototype.wa=function(){var t=this;this.ca.forEach((function(e){return t._a(e)}))},t.prototype._a=function(t){this.ca=this.ca.delete(t),this.aa=this.aa.delete(t)},t.prototype.Ea=function(t){var e=new Td(new Ed([])),n=new Ob(e,t),r=new Ob(e,t+1),i=Jd();return this.aa.Kt([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.Qr=function(t){var e=new Ob(t,0),n=this.ca.jt(e);return null!==n&&t.isEqual(n.key)},t}(),Ob=function(){function t(t,e){this.key=t,this.Ta=e}return t.ua=function(t,e){return Td.$(t.key,e.key)||md(t.Ta,e.Ta)},t.ha=function(t,e){return md(t.Ta,e.Ta)||Td.$(t.key,e.key)},t}();function Sb(t,e){return"firestore_clients_"+t+"_"+e}function Tb(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.u()&&(r+="_"+e.uid),r}function Cb(t,e){return"firestore_targets_"+t+"_"+e}var xb=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Ia=function(e,n,r){var i=JSON.parse(r),s="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),o=void 0;return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(o=new ud(i.error.code,i.error.message)),s?new t(e,n,i.state,o):(ed("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.ma=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Ib=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Ia=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),s=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(s=new ud(r.error.code,r.error.message)),i?new t(e,r.state,s):(ed("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.ma=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Ab=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Ia=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,s=ep(),o=0;i&&o<r.activeTargetIds.length;++o)i=Id(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new t(e,s):(ed("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),jb=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Ia=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(ed("SharedClientState","Failed to parse online state: "+e),null)},t}(),kb=function(){function t(){this.activeTargetIds=ep()}return t.prototype.Aa=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Ra=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.ma=function(){var t={activeTargetIds:this.activeTargetIds.H(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Rb=function(){function t(t,e,n,r,i){this.window=t,this.Cs=e,this.persistenceKey=n,this.Pa=r,this.ga=null,this.Pu=null,this.ps=null,this.ya=this.Va.bind(this),this.pa=new qd(md),this.lr=!1,this.va=[];var s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ba=Sb(this.persistenceKey,this.Pa),this.Sa=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.pa=this.pa.Tt(this.Pa,new kb),this.Da=new RegExp("^firestore_clients_"+s+"_([^_]*)$"),this.Ca=new RegExp("^firestore_mutations_"+s+"_(\\d+)(?:_(.*))?$"),this.Na=new RegExp("^firestore_targets_"+s+"_(\\d+)$"),this.xa=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Fa=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.ya)}return t.Gs=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(Hu.b)(this,void 0,void 0,(function(){var t,e,n,r,i,s,o,a,u,c,l=this;return Object(Hu.d)(this,(function(h){switch(h.label){case 0:return[4,this.ga.Ic()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Pa&&(i=this.getItem(Sb(this.persistenceKey,r)))&&(s=Ab.Ia(r,i))&&(this.pa=this.pa.Tt(s.clientId,s));for(this.Oa(),(o=this.storage.getItem(this.xa))&&(a=this.Ma(o))&&this.ka(a),u=0,c=this.va;u<c.length;u++)this.Va(c[u]);return this.va=[],this.window.addEventListener("unload",(function(){return l.fc()})),this.lr=!0,[2]}}))}))},t.prototype.Ss=function(t){this.setItem(this.Sa,JSON.stringify(t))},t.prototype.$a=function(){return this.La(this.pa)},t.prototype.Ba=function(t){var e=!1;return this.pa.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.qa=function(t){this.Ua(t,"pending")},t.prototype.Qa=function(t,e,n){this.Ua(t,e,n),this.Ka(t)},t.prototype.Wa=function(t){var e="not-current";if(this.Ba(t)){var n=this.storage.getItem(Cb(this.persistenceKey,t));if(n){var r=Ib.Ia(t,n);r&&(e=r.state)}}return this.ja.Aa(t),this.Oa(),e},t.prototype.Ga=function(t){this.ja.Ra(t),this.Oa()},t.prototype.za=function(t){return this.ja.activeTargetIds.has(t)},t.prototype.Ha=function(t){this.removeItem(Cb(this.persistenceKey,t))},t.prototype.Ja=function(t,e,n){this.Ya(t,e,n)},t.prototype.Xa=function(t,e,n){var r=this;e.forEach((function(t){r.Ka(t)})),this.currentUser=t,n.forEach((function(t){r.qa(t)}))},t.prototype.Za=function(t){this.th(t)},t.prototype.eh=function(){this.nh()},t.prototype.fc=function(){this.lr&&(this.window.removeEventListener("storage",this.ya),this.removeItem(this.ba),this.lr=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return td("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){td("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){td("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Va=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(td("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ba)return void ed("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Cs.Mi((function(){return Object(Hu.b)(e,void 0,void 0,(function(){var t,e,r,i,s,o;return Object(Hu.d)(this,(function(a){if(this.lr){if(null!==n.key)if(this.Da.test(n.key)){if(null==n.newValue)return t=this.sh(n.key),[2,this.ih(t,null)];if(e=this.rh(n.key,n.newValue))return[2,this.ih(e.clientId,e)]}else if(this.Ca.test(n.key)){if(null!==n.newValue&&(r=this.oh(n.key,n.newValue)))return[2,this.uh(r)]}else if(this.Na.test(n.key)){if(null!==n.newValue&&(i=this.ah(n.key,n.newValue)))return[2,this.hh(i)]}else if(n.key===this.xa){if(null!==n.newValue&&(s=this.Ma(n.newValue)))return[2,this.ka(s)]}else if(n.key===this.Sa)(o=function(t){var e=zm.Ds;if(null!=t)try{var n=JSON.parse(t);sd("number"==typeof n),e=n}catch(t){ed("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==zm.Ds&&this.ps(o);else if(n.key===this.Fa)return[2,this.ga.lh()]}else this.va.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"ja",{get:function(){return this.pa.get(this.Pa)},enumerable:!1,configurable:!0}),t.prototype.Oa=function(){this.setItem(this.ba,this.ja.ma())},t.prototype.Ua=function(t,e,n){var r=new xb(this.currentUser,t,e,n),i=Tb(this.persistenceKey,this.currentUser,t);this.setItem(i,r.ma())},t.prototype.Ka=function(t){var e=Tb(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.th=function(t){this.storage.setItem(this.xa,JSON.stringify({clientId:this.Pa,onlineState:t}))},t.prototype.Ya=function(t,e,n){var r=Cb(this.persistenceKey,t),i=new Ib(t,e,n);this.setItem(r,i.ma())},t.prototype.nh=function(){this.setItem(this.Fa,"value-not-used")},t.prototype.sh=function(t){var e=this.Da.exec(t);return e?e[1]:null},t.prototype.rh=function(t,e){var n=this.sh(t);return Ab.Ia(n,e)},t.prototype.oh=function(t,e){var n=this.Ca.exec(t),r=Number(n[1]);return xb.Ia(new Xf(void 0!==n[2]?n[2]:null),r,e)},t.prototype.ah=function(t,e){var n=this.Na.exec(t),r=Number(n[1]);return Ib.Ia(r,e)},t.prototype.Ma=function(t){return jb.Ia(t)},t.prototype.uh=function(t){return Object(Hu.b)(this,void 0,void 0,(function(){return Object(Hu.d)(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.ga._h(t.batchId,t.state,t.error)]:(td("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.hh=function(t){return this.ga.fh(t.targetId,t.state,t.error)},t.prototype.ih=function(t,e){var n=this,r=e?this.pa.Tt(t,e):this.pa.remove(t),i=this.La(this.pa),s=this.La(r),o=[],a=[];return s.forEach((function(t){i.has(t)||o.push(t)})),i.forEach((function(t){s.has(t)||a.push(t)})),this.ga.dh(o,a).then((function(){n.pa=r}))},t.prototype.ka=function(t){this.pa.get(t.clientId)&&this.Pu(t.onlineState)},t.prototype.La=function(t){var e=ep();return t.forEach((function(t,n){e=e.Gt(n.activeTargetIds)})),e},t}(),Nb=function(){function t(){this.wh=new kb,this.Eh={},this.Pu=null,this.ps=null}return t.prototype.qa=function(t){},t.prototype.Qa=function(t,e,n){},t.prototype.Wa=function(t){return this.wh.Aa(t),this.Eh[t]||"not-current"},t.prototype.Ja=function(t,e,n){this.Eh[t]=e},t.prototype.Ga=function(t){this.wh.Ra(t)},t.prototype.za=function(t){return this.wh.activeTargetIds.has(t)},t.prototype.Ha=function(t){delete this.Eh[t]},t.prototype.$a=function(){return this.wh.activeTargetIds},t.prototype.Ba=function(t){return this.wh.activeTargetIds.has(t)},t.prototype.start=function(){return this.wh=new kb,Promise.resolve()},t.prototype.Xa=function(t,e,n){},t.prototype.Za=function(t){},t.prototype.fc=function(){},t.prototype.Ss=function(t){},t.prototype.eh=function(){},t}(),Pb=function(t){this.key=t},Db=function(t){this.key=t},Lb=function(){function t(t,e){this.query=t,this.Th=e,this.Ih=null,this.le=!1,this.mh=Jd(),this.ee=Jd(),this.Ah=pm(t),this.Rh=new np(this.Ah)}return Object.defineProperty(t.prototype,"Ph",{get:function(){return this.Th},enumerable:!1,configurable:!0}),t.prototype.gh=function(t,e){var n=this,r=e?e.yh:new rp,i=e?e.Rh:this.Rh,s=e?e.ee:this.ee,o=i,a=!1,u=nm(this.query)&&i.size===this.query.limit?i.last():null,c=rm(this.query)&&i.size===this.query.limit?i.first():null;if(t.Pt((function(t,e){var l=i.get(t),h=e instanceof Yg?e:null;h&&(h=dm(n.query,h)?h:null);var f=!!l&&n.ee.has(l.key),d=!!h&&(h.an||n.ee.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data().isEqual(h.data())?f!==d&&(r.track({type:3,doc:h}),p=!0):n.Vh(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.Ah(h,u)>0||c&&n.Ah(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(o=o.add(h),s=d?s.add(t):s.delete(t)):(o=o.delete(t),s=s.delete(t)))})),nm(this.query)||rm(this.query))for(;o.size>this.query.limit;){var l=nm(this.query)?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{Rh:o,yh:r,ph:a,ee:s}},t.prototype.Vh=function(t,e){return t.an&&e.hasCommittedMutations&&!e.an},t.prototype.Zn=function(t,e,n){var r=this,i=this.Rh;this.Rh=t.Rh,this.ee=t.ee;var s=t.yh.Zt();s.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return id()}};return n(t)-n(e)}(t.type,e.type)||r.Ah(t.doc,e.doc)})),this.bh(n);var o=e?this.Sh():[],a=0===this.mh.size&&this.le?1:0,u=a!==this.Ih;return this.Ih=a,0!==s.length||u?{snapshot:new ip(this.query,t.Rh,i,s,t.ee,0===a,u,!1),Dh:o}:{Dh:o}},t.prototype.Yu=function(t){return this.le&&"Offline"===t?(this.le=!1,this.Zn({Rh:this.Rh,yh:new rp,ee:this.ee,ph:!1},!1)):{Dh:[]}},t.prototype.Ch=function(t){return!this.Th.has(t)&&!!this.Rh.has(t)&&!this.Rh.get(t).an},t.prototype.bh=function(t){var e=this;t&&(t._e.forEach((function(t){return e.Th=e.Th.add(t)})),t.fe.forEach((function(t){})),t.de.forEach((function(t){return e.Th=e.Th.delete(t)})),this.le=t.le)},t.prototype.Sh=function(){var t=this;if(!this.le)return[];var e=this.mh;this.mh=Jd(),this.Rh.forEach((function(e){t.Ch(e.key)&&(t.mh=t.mh.add(e.key))}));var n=[];return e.forEach((function(e){t.mh.has(e)||n.push(new Db(e))})),this.mh.forEach((function(t){e.has(t)||n.push(new Pb(t))})),n},t.prototype.Nh=function(t){this.Th=t.Bc,this.mh=Jd();var e=this.gh(t.documents);return this.Zn(e,!0)},t.prototype.xh=function(){return ip.ie(this.query,this.Rh,this.ee,0===this.Ih)},t}(),Fb=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Mb=function(t){this.key=t,this.Fh=!1},Ub=function(){function t(t,e,n,r,i,s){this.Cu=t,this.Oh=e,this.Mh=n,this.kh=r,this.currentUser=i,this.$h=s,this.Lh={},this.Bh=new Nm((function(t){return hm(t)}),lm),this.qh=new Map,this.Uh=[],this.Qh=new qd(Td.$),this.Kh=new Map,this.Wh=new Eb,this.jh={},this.Gh=new Map,this.zh=lv._o(),this.onlineState="Unknown",this.Hh=void 0}return Object.defineProperty(t.prototype,"Jh",{get:function(){return!0===this.Hh},enumerable:!1,configurable:!0}),t}();function Vb(t,e){return Object(Hu.b)(this,void 0,void 0,(function(){var n,r,i,s,o;return Object(Hu.d)(this,(function(a){switch(a.label){case 0:return n=g_(t),(i=n.Bh.get(e))?(n.kh.Wa(i.targetId),r=i.view.xh(),[3,4]):[3,1];case 1:return[4,jv(n.Cu,um(e))];case 2:return s=a.sent(),o=n.kh.Wa(s.targetId),[4,qb(n,e,s.targetId,"current"===o)];case 3:r=a.sent(),n.Jh&&Gv(n.Oh,s),a.label=4;case 4:return[2,r]}}))}))}function qb(t,e,n,r){return Object(Hu.b)(this,void 0,void 0,(function(){var i,s,o,a,u,c;return Object(Hu.d)(this,(function(l){switch(l.label){case 0:return t.Yh=function(e,n,r){return function(t,e,n,r){return Object(Hu.b)(this,void 0,void 0,(function(){var i,s,o;return Object(Hu.d)(this,(function(a){switch(a.label){case 0:return(i=e.view.gh(n)).ph?[4,Rv(t.Cu,e.query,!1).then((function(t){return e.view.gh(t.documents,i)}))]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return s=r&&r.re.get(e.targetId),o=e.view.Zn(i,t.Jh,s),[2,(t_(t,e.targetId,o.Dh),o.snapshot)]}}))}))}(t,e,n,r)},[4,Rv(t.Cu,e,!0)];case 1:return i=l.sent(),s=new Lb(e,i.Bc),o=s.gh(i.documents),a=op.he(n,r&&"Offline"!==t.onlineState),u=s.Zn(o,t.Jh,a),t_(t,n,u.Dh),c=new Fb(e,n,s),[2,(t.Bh.set(e,c),t.qh.has(n)?t.qh.get(n).push(e):t.qh.set(n,[e]),u.snapshot)]}}))}))}function Bb(t,e){return Object(Hu.b)(this,void 0,void 0,(function(){var n,r,i;return Object(Hu.d)(this,(function(s){switch(s.label){case 0:return n=od(t),r=n.Bh.get(e),(i=n.qh.get(r.targetId)).length>1?[2,(n.qh.set(r.targetId,i.filter((function(t){return!lm(t,e)}))),void n.Bh.delete(e))]:n.Jh?(n.kh.Ga(r.targetId),n.kh.Ba(r.targetId)?[3,2]:[4,kv(n.Cu,r.targetId,!1).then((function(){n.kh.Ha(r.targetId),$v(n.Oh,r.targetId),Zb(n,r.targetId)})).catch(Lv)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return Zb(n,r.targetId),[4,kv(n.Cu,r.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}}))}))}function zb(t,e,n){return Object(Hu.b)(this,void 0,void 0,(function(){var r,i,s,o;return Object(Hu.d)(this,(function(a){switch(a.label){case 0:r=m_(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=od(t),i=bd.now(),s=e.reduce((function(t,e){return t.add(e.key)}),Jd());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return r.Oc._s(t,s).next((function(s){n=s;for(var o=[],a=0,u=e;a<u.length;a++){var c=u[a],l=Dg(c,n.get(c.key));null!=l&&o.push(new Ug(c.key,l,Kg(l.proto.mapValue),jg.exists(!0)))}return r.rs.Sr(t,i,o,e)}))})).then((function(t){var e=t.vn(n);return{batchId:t.batchId,Qn:e}}))}(r.Cu,e)];case 2:return i=a.sent(),r.kh.qa(i.batchId),function(t,e,n){var r=t.jh[t.currentUser.h()];r||(r=new qd(md)),r=r.Tt(e,n),t.jh[t.currentUser.h()]=r}(r,i.batchId,n),[4,r_(r,i.Qn)];case 3:return a.sent(),[4,ib(r.Oh)];case 4:return a.sent(),[3,6];case 5:return s=a.sent(),o=iy(s,"Failed to persist write"),n.reject(o),[3,6];case 6:return[2]}}))}))}function Hb(t,e){return Object(Hu.b)(this,void 0,void 0,(function(){var n,r;return Object(Hu.d)(this,(function(i){switch(i.label){case 0:n=od(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Iv(n.Cu,e)];case 2:return r=i.sent(),e.re.forEach((function(t,e){var r=n.Kh.get(e);r&&(sd(t._e.size+t.fe.size+t.de.size<=1),t._e.size>0?r.Fh=!0:t.fe.size>0?sd(r.Fh):t.de.size>0&&(sd(r.Fh),r.Fh=!1))})),[4,r_(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,Lv(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function Gb(t,e,n){var r=od(t);if(r.Jh&&0===n||!r.Jh&&1===n){var i=[];r.Bh.forEach((function(t,n){var r=n.view.Yu(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=od(t);n.onlineState=e;var r=!1;n.queries.forEach((function(t,n){for(var i=0,s=n.listeners;i<s.length;i++)s[i].Yu(e)&&(r=!0)})),r&&_b(n)}(r.Mh,e),i.length&&r.Lh.au(i),r.onlineState=e,r.Jh&&r.kh.Za(e)}}function $b(t,e,n){return Object(Hu.b)(this,void 0,void 0,(function(){var r,i,s,o,a,u;return Object(Hu.d)(this,(function(c){switch(c.label){case 0:return(r=od(t)).kh.Ja(e,"rejected",n),i=r.Kh.get(e),(s=i&&i.key)?(o=(o=new qd(Td.$)).Tt(s,new Xg(s,_d.min())),a=Jd().add(s),u=new sp(_d.min(),new Map,new Hd(md),o,a),[4,Hb(r,u)]):[3,2];case 1:return c.sent(),r.Qh=r.Qh.remove(s),r.Kh.delete(e),n_(r),[3,4];case 2:return[4,kv(r.Cu,e,!1).then((function(){return Zb(r,e,n)})).catch(Lv)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}function Wb(t,e){return Object(Hu.b)(this,void 0,void 0,(function(){var n,r,i;return Object(Hu.d)(this,(function(s){switch(s.label){case 0:n=od(t),r=e.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,Cv(n.Cu,e)];case 2:return i=s.sent(),Xb(n,r,null),Yb(n,r),n.kh.Qa(r,"acknowledged"),[4,r_(n,i)];case 3:return s.sent(),[3,6];case 4:return[4,Lv(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}}))}))}function Kb(t,e,n){return Object(Hu.b)(this,void 0,void 0,(function(){var r,i;return Object(Hu.d)(this,(function(s){switch(s.label){case 0:r=od(t),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(t,e){var n=od(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var r;return n.rs.Cr(t,e).next((function(e){return sd(null!==e),r=e.keys(),n.rs.$r(t,e)})).next((function(){return n.rs.Ur(t)})).next((function(){return n.Oc._s(t,r)}))}))}(r.Cu,e)];case 2:return i=s.sent(),Xb(r,e,n),Yb(r,e),r.kh.Qa(e,"rejected",n),[4,r_(r,i)];case 3:return s.sent(),[3,6];case 4:return[4,Lv(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}}))}))}function Qb(t,e){return Object(Hu.b)(this,void 0,void 0,(function(){var n,r,i,s,o;return Object(Hu.d)(this,(function(a){switch(a.label){case 0:Xv((n=od(t)).Oh)||td("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=od(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e.rs.Or(t)}))}(n.Cu)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.Gh.get(r)||[]).push(e),n.Gh.set(r,i),[3,4]);case 3:return s=a.sent(),o=iy(s,"Initialization of waitForPendingWrites() operation failed"),e.reject(o),[3,4];case 4:return[2]}}))}))}function Yb(t,e){(t.Gh.get(e)||[]).forEach((function(t){t.resolve()})),t.Gh.delete(e)}function Xb(t,e,n){var r=od(t),i=r.jh[r.currentUser.h()];if(i){var s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.jh[r.currentUser.h()]=i}}function Zb(t,e,n){void 0===n&&(n=null),t.kh.Ga(e);for(var r=0,i=t.qh.get(e);r<i.length;r++){var s=i[r];t.Bh.delete(s),n&&t.Lh.Xh(s,n)}t.qh.delete(e),t.Jh&&t.Wh.da(e).forEach((function(e){t.Wh.Qr(e)||Jb(t,e)}))}function Jb(t,e){var n=t.Qh.get(e);null!==n&&($v(t.Oh,n),t.Qh=t.Qh.remove(e),t.Kh.delete(n),n_(t))}function t_(t,e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];s instanceof Pb?(t.Wh.Do(s.key,e),e_(t,s)):s instanceof Db?(td("SyncEngine","Document no longer in limbo: "+s.key),t.Wh.No(s.key,e),t.Wh.Qr(s.key)||Jb(t,s.key)):id()}}function e_(t,e){var n=e.key;t.Qh.get(n)||(td("SyncEngine","New document in limbo: "+n),t.Uh.push(n),n_(t))}function n_(t){for(;t.Uh.length>0&&t.Qh.size<t.$h;){var e=t.Uh.shift(),n=t.zh.next();t.Kh.set(n,new Mb(e)),t.Qh=t.Qh.Tt(e,n),Gv(t.Oh,new Fd(um(em(e.path)),n,2,zm.Ds))}}function r_(t,e,n){return Object(Hu.b)(this,void 0,void 0,(function(){var r,i,s,o;return Object(Hu.d)(this,(function(a){switch(a.label){case 0:return r=od(t),i=[],s=[],o=[],r.Bh.W()?[3,3]:(r.Bh.forEach((function(t,a){o.push(r.Yh(a,e,n).then((function(t){if(t){r.Jh&&r.kh.Ja(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=Bm.Vs(a.targetId,t);s.push(e)}})))})),[4,Promise.all(o)]);case 1:return a.sent(),r.Lh.au(i),[4,function(t,e){return Object(Hu.b)(this,void 0,void 0,(function(){var n,r,i,s,o,a,u,c;return Object(Hu.d)(this,(function(l){switch(l.label){case 0:n=od(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return Pm.forEach(e,(function(e){return Pm.forEach(e.gs,(function(r){return n.persistence.Vr.Do(t,e.targetId,r)})).next((function(){return Pm.forEach(e.ys,(function(r){return n.persistence.Vr.No(t,e.targetId,r)}))}))}))}))];case 2:return l.sent(),[3,4];case 3:if(!Km(r=l.sent()))throw r;return td("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,s=e;i<s.length;i++)a=(o=s[i]).targetId,o.fromCache||(u=n.Cc.get(a),c=u.Et(u.ft),n.Cc=n.Cc.Tt(a,c));return[2]}}))}))}(r.Cu,s)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}function i_(t,e){return Object(Hu.b)(this,void 0,void 0,(function(){var n,r;return Object(Hu.d)(this,(function(i){switch(i.label){case 0:return(n=od(t)).currentUser.isEqual(e)?[3,3]:(td("SyncEngine","User change. New user:",e.h()),[4,Tv(n.Cu,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Gh.forEach((function(t){t.forEach((function(t){t.reject(new ud(ad.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.Gh.clear()}(n),n.kh.Xa(e,r.$c,r.Lc),[4,r_(n,r.kc)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function s_(t,e){var n=od(t),r=n.Kh.get(e);if(r&&r.Fh)return Jd().add(r.key);var i=Jd(),s=n.qh.get(e);if(!s)return i;for(var o=0,a=s;o<a.length;o++){var u=n.Bh.get(a[o]);i=i.Gt(u.view.Ph)}return i}function o_(t,e){return Object(Hu.b)(this,void 0,void 0,(function(){var n,r,i;return Object(Hu.d)(this,(function(s){switch(s.label){case 0:return[4,Rv((n=od(t)).Cu,e.query,!0)];case 1:return r=s.sent(),i=e.view.Nh(r),[2,(n.Jh&&t_(n,e.targetId,i.Dh),i)]}}))}))}function a_(t){return Object(Hu.b)(this,void 0,void 0,(function(){var e;return Object(Hu.d)(this,(function(n){return[2,Pv((e=od(t)).Cu).then((function(t){return r_(e,t)}))]}))}))}function u_(t,e,n,r){return Object(Hu.b)(this,void 0,void 0,(function(){var i,s;return Object(Hu.d)(this,(function(o){switch(o.label){case 0:return[4,function(t,e){var n=od(t),r=od(n.rs);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.Nr(t,e).next((function(e){return e?n.Oc._s(t,e):Pm.resolve(null)}))}))}((i=od(t)).Cu,e)];case 1:return null===(s=o.sent())?[3,6]:"pending"!==n?[3,3]:[4,ib(i.Oh)];case 2:return o.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Xb(i,e,r||null),Yb(i,e),function(t,e){od(od(t).rs).Br(e)}(i.Cu,e)):id(),o.label=4;case 4:return[4,r_(i,s)];case 5:return o.sent(),[3,7];case 6:td("SyncEngine","Cannot apply mutation batch with id: "+e),o.label=7;case 7:return[2]}}))}))}function c_(t,e){return Object(Hu.b)(this,void 0,void 0,(function(){var n,r,i,s,o,a,u;return Object(Hu.d)(this,(function(c){switch(c.label){case 0:return g_(n=od(t)),m_(n),!0!==e||!0===n.Hh?[3,3]:(r=n.kh.$a(),[4,l_(n,r.H())]);case 1:return i=c.sent(),n.Hh=!0,[4,hb(n.Oh,!0)];case 2:for(c.sent(),s=0,o=i;s<o.length;s++)Gv(n.Oh,o[s]);return[3,7];case 3:return!1!==e||!1===n.Hh?[3,7]:(a=[],u=Promise.resolve(),n.qh.forEach((function(t,e){n.kh.za(e)?a.push(e):u=u.then((function(){return Zb(n,e),kv(n.Cu,e,!0)})),$v(n.Oh,e)})),[4,u]);case 4:return c.sent(),[4,l_(n,a)];case 5:return c.sent(),function(t){var e=od(t);e.Kh.forEach((function(t,n){$v(e.Oh,n)})),e.Wh.wa(),e.Kh=new Map,e.Qh=new qd(Td.$)}(n),n.Hh=!1,[4,hb(n.Oh,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}}))}))}function l_(t,e,n){return Object(Hu.b)(this,void 0,void 0,(function(){var n,r,i,s,o,a,u,c,l,h,f,d,p;return Object(Hu.d)(this,(function(g){switch(g.label){case 0:n=od(t),r=[],i=[],s=0,o=e,g.label=1;case 1:return s<o.length?(u=void 0,(c=n.qh.get(a=o[s]))&&0!==c.length?[4,jv(n.Cu,um(c[0]))]:[3,7]):[3,13];case 2:u=g.sent(),l=0,h=c,g.label=3;case 3:return l<h.length?(f=n.Bh.get(h[l]),[4,o_(n,f)]):[3,6];case 4:(d=g.sent()).snapshot&&i.push(d.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,Nv(n.Cu,a)];case 8:return p=g.sent(),[4,jv(n.Cu,p)];case 9:return u=g.sent(),[4,qb(n,h_(p),a,!1)];case 10:g.sent(),g.label=11;case 11:r.push(u),g.label=12;case 12:return s++,[3,1];case 13:return[2,(n.Lh.au(i),r)]}}))}))}function h_(t){return tm(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function f_(t){var e=od(t);return od(od(e.Cu).persistence).Ic()}function d_(t,e,n,r){return Object(Hu.b)(this,void 0,void 0,(function(){var i,s,o;return Object(Hu.d)(this,(function(a){switch(a.label){case 0:return(i=od(t)).Hh?(td("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.qh.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Pv(i.Cu)];case 3:return s=a.sent(),o=sp.ae(e,"current"===n),[4,r_(i,s,o)];case 4:return a.sent(),[3,8];case 5:return[4,kv(i.Cu,e,!0)];case 6:return a.sent(),Zb(i,e,r),[3,8];case 7:id(),a.label=8;case 8:return[2]}}))}))}function p_(t,e,n){return Object(Hu.b)(this,void 0,void 0,(function(){var r,i,s,o,a,u,c,l,h;return Object(Hu.d)(this,(function(f){switch(f.label){case 0:if(!(r=g_(t)).Hh)return[3,10];i=0,s=e,f.label=1;case 1:return i<s.length?r.qh.has(o=s[i])?(td("SyncEngine","Adding an already active target "+o),[3,5]):[4,Nv(r.Cu,o)]:[3,6];case 2:return a=f.sent(),[4,jv(r.Cu,a)];case 3:return u=f.sent(),[4,qb(r,h_(a),u.targetId,!1)];case 4:f.sent(),Gv(r.Oh,u),f.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Object(Hu.d)(this,(function(e){switch(e.label){case 0:return r.qh.has(t)?[4,kv(r.Cu,t,!1).then((function(){$v(r.Oh,t),Zb(r,t)})).catch(Lv)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},l=0,h=n,f.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))}function g_(t){var e=od(t);return e.Oh.xu.Qu=Hb.bind(null,e),e.Oh.xu.Xe=s_.bind(null,e),e.Oh.xu.Uu=$b.bind(null,e),e.Lh.au=vb.bind(null,e.Mh),e.Lh.Xh=bb.bind(null,e.Mh),e}function m_(t){var e=od(t);return e.Oh.xu.Ku=Wb.bind(null,e),e.Oh.xu.Wu=Kb.bind(null,e),e}var y_=function(){function t(){}return t.prototype.Mc=function(t){this.Zh=t},t.prototype.ws=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.Tn.length||1===t.Tn.length&&t.Tn[0].field.tt())}(e)||n.isEqual(_d.min())?this.tl(t,e):this.Zh._s(t,r).next((function(s){var o=i.el(e,s);return(nm(e)||rm(e))&&i.ph(e.limitType,o,r,n)?i.tl(t,e):(Jf()<=$u.a.DEBUG&&td("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),fm(e)),i.Zh.ws(t,e,n).next((function(t){return o.forEach((function(e){t=t.Tt(e.key,e)})),t})))}))},t.prototype.el=function(t,e){var n=new Hd(pm(t));return e.forEach((function(e,r){r instanceof Yg&&dm(t,r)&&(n=n.add(r))})),n},t.prototype.ph=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.F(r)>0)},t.prototype.tl=function(t,e){return Jf()<=$u.a.DEBUG&&td("IndexFreeQueryEngine","Using full collection scan to execute query:",fm(e)),this.Zh.ws(t,e,_d.min())},t}(),v_=function(){function t(t,e){this.os=t,this.Vr=e,this.rs=[],this.nl=1,this.sl=new Hd(Ob.ua)}return t.prototype.br=function(t){return Pm.resolve(0===this.rs.length)},t.prototype.Sr=function(t,e,n,r){var i=this.nl;this.nl++;var s=new km(i,e,n,r);this.rs.push(s);for(var o=0,a=r;o<a.length;o++){var u=a[o];this.sl=this.sl.add(new Ob(u.key,i)),this.os.Dr(t,u.key.path.q())}return Pm.resolve(s)},t.prototype.Cr=function(t,e){return Pm.resolve(this.il(e))},t.prototype.Fr=function(t,e){var n=this.rl(e+1),r=n<0?0:n;return Pm.resolve(this.rs.length>r?this.rs[r]:null)},t.prototype.Or=function(){return Pm.resolve(0===this.rs.length?-1:this.nl-1)},t.prototype.Mr=function(t){return Pm.resolve(this.rs.slice())},t.prototype.us=function(t,e){var n=this,r=new Ob(e,0),i=new Ob(e,Number.POSITIVE_INFINITY),s=[];return this.sl.Kt([r,i],(function(t){var e=n.il(t.Ta);s.push(e)})),Pm.resolve(s)},t.prototype.ds=function(t,e){var n=this,r=new Hd(md);return e.forEach((function(t){var e=new Ob(t,0),i=new Ob(t,Number.POSITIVE_INFINITY);n.sl.Kt([e,i],(function(t){r=r.add(t.Ta)}))})),Pm.resolve(this.ol(r))},t.prototype.Rs=function(t,e){var n=e.path,r=n.length+1,i=n;Td.ot(i)||(i=i.child(""));var s=new Ob(new Td(i),0),o=new Hd(md);return this.sl.Wt((function(t){var e=t.key.path;return!!n.j(e)&&(e.length===r&&(o=o.add(t.Ta)),!0)}),s),Pm.resolve(this.ol(o))},t.prototype.ol=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.il(t);null!==r&&n.push(r)})),n},t.prototype.$r=function(t,e){var n=this;sd(0===this.cl(e.batchId,"removed")),this.rs.shift();var r=this.sl;return Pm.forEach(e.mutations,(function(i){var s=new Ob(i.key,e.batchId);return r=r.delete(s),n.Vr.qr(t,i.key)})).next((function(){n.sl=r}))},t.prototype.Br=function(t){},t.prototype.Qr=function(t,e){var n=new Ob(e,0),r=this.sl.jt(n);return Pm.resolve(e.isEqual(r&&r.key))},t.prototype.Ur=function(t){return Pm.resolve()},t.prototype.cl=function(t,e){return this.rl(t)},t.prototype.rl=function(t){return 0===this.rs.length?0:t-this.rs[0].batchId},t.prototype.il=function(t){var e=this.rl(t);return e<0||e>=this.rs.length?null:this.rs[e]},t}(),b_=function(){function t(t,e){this.os=t,this.ul=e,this.docs=new qd(Td.$),this.size=0}return t.prototype.jn=function(t,e,n){var r=e.key,i=this.docs.get(r),s=i?i.size:0,o=this.ul(e);return this.docs=this.docs.Tt(r,{zn:e,size:o,readTime:n}),this.size+=o-s,this.os.Dr(t,r.path.q())},t.prototype.Hn=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.Jn=function(t,e){var n=this.docs.get(e);return Pm.resolve(n?n.zn:null)},t.prototype.getEntries=function(t,e){var n=this,r=Kd();return e.forEach((function(t){var e=n.docs.get(t);r=r.Tt(t,e?e.zn:null)})),Pm.resolve(r)},t.prototype.ws=function(t,e,n){for(var r=Yd(),i=new Td(e.path.child("")),s=this.docs.Vt(i);s.Nt();){var o=s.Ct(),a=o.value,u=a.zn,c=a.readTime;if(!e.path.j(o.key.path))break;c.F(n)<=0||u instanceof Yg&&dm(e,u)&&(r=r.Tt(u.key,u))}return Pm.resolve(r)},t.prototype.al=function(t,e){return Pm.forEach(this.docs,(function(t){return e(t)}))},t.prototype.Xr=function(t){return new __(this)},t.prototype.eo=function(t){return Pm.resolve(this.size)},t}(),__=function(t){function e(e){var n=this;return(n=t.call(this)||this).no=e,n}return Object(Hu.c)(e,t),e.prototype.Zn=function(t){var e=this,n=[];return this.Qn.forEach((function(r,i){i&&i.zn?n.push(e.no.jn(t,i.zn,e.Wn(r))):e.no.Hn(r)})),Pm.qn(n)},e.prototype.Yn=function(t,e){return this.no.Jn(t,e)},e.prototype.Xn=function(t,e){return this.no.getEntries(t,e)},e}(Dm),w_=function(){function t(t){this.persistence=t,this.hl=new Nm((function(t){return kd(t)}),Rd),this.lastRemoteSnapshotVersion=_d.min(),this.highestTargetId=0,this.ll=0,this._l=new Eb,this.targetCount=0,this.fl=lv.lo()}return t.prototype.Ue=function(t,e){return this.hl.forEach((function(t,n){return e(n)})),Pm.resolve()},t.prototype.To=function(t){return Pm.resolve(this.lastRemoteSnapshotVersion)},t.prototype.Io=function(t){return Pm.resolve(this.ll)},t.prototype.fo=function(t){return this.highestTargetId=this.fl.next(),Pm.resolve(this.highestTargetId)},t.prototype.mo=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ll&&(this.ll=e),Pm.resolve()},t.prototype.Ro=function(t){this.hl.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.fl=new lv(e),this.highestTargetId=e),t.sequenceNumber>this.ll&&(this.ll=t.sequenceNumber)},t.prototype.Ao=function(t,e){return this.Ro(e),this.targetCount+=1,Pm.resolve()},t.prototype.yo=function(t,e){return this.Ro(e),Pm.resolve()},t.prototype.Vo=function(t,e){return this.hl.delete(e.target),this._l.da(e.targetId),this.targetCount-=1,Pm.resolve()},t.prototype.mr=function(t,e,n){var r=this,i=0,s=[];return this.hl.forEach((function(o,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.hl.delete(o),s.push(r.po(t,a.targetId)),i++)})),Pm.qn(s).next((function(){return i}))},t.prototype.vo=function(t){return Pm.resolve(this.targetCount)},t.prototype.bo=function(t,e){var n=this.hl.get(e)||null;return Pm.resolve(n)},t.prototype.So=function(t,e,n){return this._l.la(e,n),Pm.resolve()},t.prototype.Co=function(t,e,n){this._l.fa(e,n);var r=this.persistence.Vr,i=[];return r&&e.forEach((function(e){i.push(r.qr(t,e))})),Pm.qn(i)},t.prototype.po=function(t,e){return this._l.da(e),Pm.resolve()},t.prototype.xo=function(t,e){var n=this._l.Ea(e);return Pm.resolve(n)},t.prototype.Qr=function(t,e){return Pm.resolve(this._l.Qr(e))},t}(),E_=function(){function t(t){this.serializer=t,this.dl=new Map,this.wl=new Map}return t.prototype.ro=function(t,e){return Pm.resolve(this.dl.get(e))},t.prototype.oo=function(t,e){var n;return this.dl.set(e.id,{id:(n=e).id,version:n.version,createTime:Hp(n.createTime)}),Pm.resolve()},t.prototype.co=function(t,e){return Pm.resolve(this.wl.get(e))},t.prototype.uo=function(t,e){var n;return this.wl.set(e.name,{name:(n=e).name,query:Ty(n.bundledQuery),readTime:Hp(n.readTime)}),Pm.resolve()},t}(),O_=function(){function t(t,e){var n=this;this.El={},this.ko=new zm(0),this.$o=!1,this.$o=!0,this.Vr=t(this),this.jo=new w_(this),this.os=new My,this.ss=function(t,e){return new b_(t,(function(t){return n.Vr.Tl(t)}))}(this.os),this.serializer=new gy(e),this.Go=new E_(this.serializer)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.fc=function(){return this.$o=!1,Promise.resolve()},Object.defineProperty(t.prototype,"lr",{get:function(){return this.$o},enumerable:!1,configurable:!0}),t.prototype.tc=function(){},t.prototype.ec=function(){},t.prototype.Pc=function(){return this.os},t.prototype.mc=function(t){var e=this.El[t.h()];return e||(e=new v_(this.os,this.Vr),this.El[t.h()]=e),e},t.prototype.Ac=function(){return this.jo},t.prototype.Rc=function(){return this.ss},t.prototype.gc=function(){return this.Go},t.prototype.runTransaction=function(t,e,n){var r=this;td("MemoryPersistence","Starting transaction:",t);var i=new S_(this.ko.next());return this.Vr.Il(),n(i).next((function(t){return r.Vr.ml(i).next((function(){return t}))})).Ln().then((function(t){return i.ns(),t}))},t.prototype.Al=function(t,e){return Pm.Un(Object.values(this.El).map((function(n){return function(){return n.Qr(t,e)}})))},t}(),S_=function(t){function e(e){var n=this;return(n=t.call(this)||this).Fo=e,n}return Object(Hu.c)(e,t),e}(Vm),T_=function(){function t(t){this.persistence=t,this.Rl=new Eb,this.Pl=null}return t.gl=function(e){return new t(e)},Object.defineProperty(t.prototype,"yl",{get:function(){if(this.Pl)return this.Pl;throw id()},enumerable:!1,configurable:!0}),t.prototype.Do=function(t,e,n){return this.Rl.Do(n,e),this.yl.delete(n.toString()),Pm.resolve()},t.prototype.No=function(t,e,n){return this.Rl.No(n,e),this.yl.add(n.toString()),Pm.resolve()},t.prototype.qr=function(t,e){return this.yl.add(e.toString()),Pm.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.Rl.da(e.targetId).forEach((function(t){return n.yl.add(t.toString())}));var r=this.persistence.Ac();return r.xo(t,e.targetId).next((function(t){t.forEach((function(t){return n.yl.add(t.toString())}))})).next((function(){return r.Vo(t,e)}))},t.prototype.Il=function(){this.Pl=new Set},t.prototype.ml=function(t){var e=this,n=this.persistence.Rc().Xr();return Pm.forEach(this.yl,(function(r){var i=Td.st(r);return e.Vl(t,i).next((function(t){t||n.Hn(i)}))})).next((function(){return e.Pl=null,n.apply(t)}))},t.prototype.Sc=function(t,e){var n=this;return this.Vl(t,e).next((function(t){t?n.yl.delete(e.toString()):n.yl.add(e.toString())}))},t.prototype.Tl=function(t){return 0},t.prototype.Vl=function(t,e){var n=this;return Pm.Un([function(){return Pm.resolve(n.Rl.Qr(e))},function(){return n.persistence.Ac().Qr(t,e)},function(){return n.persistence.Al(t,e)}])},t}(),C_=function(){function t(t){this.pl=t.pl,this.vl=t.vl}return t.prototype.cu=function(t){this.bl=t},t.prototype.nu=function(t){this.Sl=t},t.prototype.onMessage=function(t){this.Dl=t},t.prototype.close=function(){this.vl()},t.prototype.send=function(t){this.pl(t)},t.prototype.Cl=function(){this.bl()},t.prototype.Nl=function(t){this.Sl(t)},t.prototype.xl=function(t){this.Dl(t)},t}(),x_={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},I_=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.i=e.i,n}return Object(Hu.c)(e,t),e.prototype.Ll=function(t,e,n,r){return new Promise((function(i,s){var o=new Wf;o.listenOnce(Hf.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case zf.NO_ERROR:var e=o.getResponseJson();td("Connection","XHR received:",JSON.stringify(e)),i(e);break;case zf.TIMEOUT:td("Connection",'RPC "'+t+'" timed out'),s(new ud(ad.DEADLINE_EXCEEDED,"Request time out"));break;case zf.HTTP_ERROR:var n=o.getStatus();if(td("Connection",'RPC "'+t+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace("_","-");return Object.values(ad).indexOf(e)>=0?e:ad.UNKNOWN}(r.status);s(new ud(a,r.message))}else s(new ud(ad.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new ud(ad.UNAVAILABLE,"Connection failed."));break;default:id()}}finally{td("Connection",'RPC "'+t+'" completed.')}}));var a=JSON.stringify(r);o.send(e,"POST",a,n,15)}))},e.prototype.uu=function(t,e){var n=[this.Ol,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new Mf,i=Vl(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.t.projectId+"/databases/"+this.t.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.i};this.$l(s.initMessageHeaders,e),Object(Wu.l)()||Object(Wu.n)()||Object(Wu.j)()||Object(Wu.k)()||Object(Wu.o)()||Object(Wu.i)()||(s.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");td("Connection","Creating WebChannel: "+o,s);var a=r.createWebChannel(o,s),u=!1,c=!1,l=new C_({pl:function(t){c?td("Connection","Not sending because WebChannel is closed:",t):(u||(td("Connection","Opening WebChannel transport."),a.open(),u=!0),td("Connection","WebChannel sending:",t),a.send(t))},vl:function(){return a.close()}}),h=function(t,e,n){t.listen(e,(function(t){try{n(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return h(a,$f.EventType.OPEN,(function(){c||td("Connection","WebChannel transport opened.")})),h(a,$f.EventType.CLOSE,(function(){c||(c=!0,td("Connection","WebChannel transport closed"),l.Nl())})),h(a,$f.EventType.ERROR,(function(t){c||(c=!0,nd("Connection","WebChannel transport errored:",t),l.Nl(new ud(ad.UNAVAILABLE,"The operation could not be completed")))})),h(a,$f.EventType.MESSAGE,(function(t){var e;if(!c){var n=t.data[0];sd(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){td("Connection","WebChannel received error:",r);var i=r.status,s=function(t){var e=Dd[t];if(void 0!==e)return Vd(e)}(i),o=r.message;void 0===s&&(s=ad.INTERNAL,o="Unknown error status: "+i+" with message "+r.message),c=!0,l.Nl(new ud(s,o)),a.close()}else td("Connection","WebChannel received:",n),l.xl(n)}})),h(i,Gf.STAT_EVENT,(function(t){10===t.stat?td("Connection","Detected buffering proxy"):11===t.stat&&td("Connection","Detected no buffering proxy")})),setTimeout((function(){l.Cl()}),0),l},e}(function(){function t(t){this.Fl=t,this.t=t.t,this.Ol=(t.ssl?"https":"http")+"://"+t.host,this.Ml="projects/"+this.t.projectId+"/databases/"+this.t.database+"/documents"}return t.prototype.Au=function(t,e,n,r){var i=this.kl(t,e);td("RestConnection","Sending: ",i,n);var s={};return this.$l(s,r),this.Ll(t,i,s,n).then((function(t){return td("RestConnection","Received: ",t),t}),(function(e){throw nd("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.Ru=function(t,e,n,r){return this.Au(t,e,n,r)},t.prototype.$l=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.1.1",t["Content-Type"]="text/plain",e)for(var n in e.T)e.T.hasOwnProperty(n)&&(t[n]=e.T[n])},t.prototype.kl=function(t,e){return this.Ol+"/v1/"+e+":"+x_[t]},t}()),A_=function(){function t(){var t=this;this.Bl=function(){return t.ql()},this.Ul=function(){return t.Ql()},this.Kl=[],this.Wl()}return t.prototype.Lu=function(t){this.Kl.push(t)},t.prototype.fc=function(){window.removeEventListener("online",this.Bl),window.removeEventListener("offline",this.Ul)},t.prototype.Wl=function(){window.addEventListener("online",this.Bl),window.addEventListener("offline",this.Ul)},t.prototype.ql=function(){td("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.Kl;t<e.length;t++)(0,e[t])(0)},t.prototype.Ql=function(){td("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.Kl;t<e.length;t++)(0,e[t])(1)},t.Gs=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),j_=function(){function t(){}return t.prototype.Lu=function(t){},t.prototype.fc=function(){},t}(),k_=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(Hu.b)(this,void 0,void 0,(function(){return Object(Hu.d)(this,(function(e){switch(e.label){case 0:return this.serializer=Fm(t.Fl.t),this.kh=this.jl(t),this.persistence=this.Gl(t),[4,this.persistence.start()];case 1:return e.sent(),this.zl=this.Hl(t),this.Cu=this.Jl(t),[2]}}))}))},t.prototype.Hl=function(t){return null},t.prototype.Jl=function(t){return Sv(this.persistence,new y_,t.Yl,this.serializer)},t.prototype.Gl=function(t){return new O_(T_.gl,this.serializer)},t.prototype.jl=function(t){return new Nb},t.prototype.terminate=function(){return Object(Hu.b)(this,void 0,void 0,(function(){return Object(Hu.d)(this,(function(t){switch(t.label){case 0:return this.zl&&this.zl.stop(),[4,this.kh.fc()];case 1:return t.sent(),[4,this.persistence.fc()];case 2:return t.sent(),[2]}}))}))},t}(),R_=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Xl=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(Hu.c)(e,t),e.prototype.initialize=function(e){return Object(Hu.b)(this,void 0,void 0,(function(){return Object(Hu.d)(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,Dv(this.Cu)];case 2:return n.sent(),[4,this.Xl.initialize(this,e)];case 3:return n.sent(),[4,m_(this.Xl.ga)];case 4:return n.sent(),[4,ib(this.Xl.Oh)];case 5:return n.sent(),[2]}}))}))},e.prototype.Jl=function(t){return Sv(this.persistence,new y_,t.Yl,this.serializer)},e.prototype.Hl=function(t){return new cy(this.persistence.Vr.cr,t.di)},e.prototype.Gl=function(t){var e=Ev(t.Fl.t,t.Fl.persistenceKey),n=void 0!==this.cacheSizeBytes?uy.er(this.cacheSizeBytes):uy.ir;return new yv(this.synchronizeTabs,e,t.clientId,n,t.di,ty(),ey(),this.serializer,this.kh,!!this.forceOwnership)},e.prototype.jl=function(t){return new Nb},e}(k_),N_=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Xl=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(Hu.c)(e,t),e.prototype.initialize=function(e){return Object(Hu.b)(this,void 0,void 0,(function(){var n,r=this;return Object(Hu.d)(this,(function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Xl.ga,this.kh instanceof Rb?(this.kh.ga={_h:u_.bind(null,n),fh:d_.bind(null,n),dh:p_.bind(null,n),Ic:f_.bind(null,n),lh:a_.bind(null,n)},[4,this.kh.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.Zo((function(t){return Object(Hu.b)(r,void 0,void 0,(function(){return Object(Hu.d)(this,(function(e){switch(e.label){case 0:return[4,c_(this.Xl.ga,t)];case 1:return e.sent(),this.zl&&(t&&!this.zl.lr?this.zl.start(this.Cu):t||this.zl.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},e.prototype.jl=function(t){var e=ty();if(!Rb.Gs(e))throw new ud(ad.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Ev(t.Fl.t,t.Fl.persistenceKey);return new Rb(e,t.di,n,t.clientId,t.Yl)},e}(R_),P_=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(Hu.b)(this,void 0,void 0,(function(){var n=this;return Object(Hu.d)(this,(function(r){switch(r.label){case 0:return this.Cu?[3,2]:(this.Cu=t.Cu,this.kh=t.kh,this.Nu=this.Zl(e),this.Oh=this.t_(e),this.Mh=this.e_(e),this.ga=this.n_(e,!t.synchronizeTabs),this.kh.Pu=function(t){return Gb(n.ga,t,1)},this.Oh.xu.s_=i_.bind(null,this.ga),[4,hb(this.Oh,this.ga.Jh)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.e_=function(t){return new gb},t.prototype.Zl=function(t){var e=Fm(t.Fl.t),n=new I_(t.Fl);return function(t,e,n){return new Vv(t,e,n)}(t.credentials,n,e)},t.prototype.t_=function(t){var e,n,r,i,s,o=this;return e=this.Cu,n=this.Nu,r=t.di,i=function(t){return Gb(o.ga,t,0)},s=A_.Gs()?new A_:new j_,new Bv(e,n,r,i,s)},t.prototype.n_=function(t,e){return function(t,e,n,r,i,s,o){var a=new Ub(t,e,n,r,i,s);return o&&(a.Hh=!0),a}(this.Cu,this.Oh,this.Mh,this.kh,t.Yl,t.$h,e)},t.prototype.terminate=function(){return function(t){return Object(Hu.b)(this,void 0,void 0,(function(){var e;return Object(Hu.d)(this,(function(n){switch(n.label){case 0:return e=od(t),td("RemoteStore","RemoteStore shutting down."),e.Mu.add(5),[4,Hv(e)];case 1:return n.sent(),e.$u.fc(),e.Bu.set("Unknown"),[2]}}))}))}(this.Oh)},t}(),D_=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.i_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.i_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.r_=function(){this.muted=!0},t.prototype.i_=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),L_=function(t){this.o_=t};function F_(t,e,n){if(!n)throw new ud(ad.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function M_(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new ud(ad.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function U_(t,e,n,r){if(!0===e&&!0===r)throw new ud(ad.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function V_(t){if(!Td.ot(t))throw new ud(ad.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function q_(t){if(Td.ot(t))throw new ud(ad.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function B_(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":id()}function z_(t,e){if(t instanceof L_&&(t=t.o_),!(t instanceof e)){if(e.name===t.constructor.name)throw new ud(ad.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=B_(t);throw new ud(ad.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function H_(t,e){if(e<=0)throw new ud(ad.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var G_=function(t){this.c_=t},$_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Hu.c)(e,t),e.prototype.u_=function(t){if(2!==t.a_)throw t.h_(1===t.a_?this.c_+"() can only appear at the top level of your update data":this.c_+"() cannot be used with set() unless you pass {merge:true}");return t.en.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(G_);function W_(t,e,n){return new Yw({a_:3,l_:e.settings.l_,methodName:t.c_,__:n},e.t,e.serializer,e.ignoreUndefinedProperties)}var K_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Hu.c)(e,t),e.prototype.u_=function(t){return new Ig(t.path,new bg)},e.prototype.isEqual=function(t){return t instanceof e},e}(G_),Q_=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).f_=n,r}return Object(Hu.c)(e,t),e.prototype.u_=function(t){var e=W_(this,t,!0),n=this.f_.map((function(t){return nE(t,e)})),r=new _g(n);return new Ig(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(G_),Y_=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).f_=n,r}return Object(Hu.c)(e,t),e.prototype.u_=function(t){var e=W_(this,t,!0),n=this.f_.map((function(t){return nE(t,e)})),r=new Eg(n);return new Ig(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(G_),X_=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).d_=n,r}return Object(Hu.c)(e,t),e.prototype.u_=function(t){var e=new Sg(t.serializer,Vp(t.serializer,this.d_));return new Ig(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(G_),Z_=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new ud(ad.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new ud(ad.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.w_=t,this.E_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.w_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.E_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.w_===t.w_&&this.E_===t.E_},t.prototype.toJSON=function(){return{latitude:this.w_,longitude:this.E_}},t.prototype.C=function(t){return md(this.w_,t.w_)||md(this.E_,t.E_)},t}(),J_=function(){function t(t){this.T_=t}return t.fromBase64String=function(e){try{return new t(Pd.fromBase64String(e))}catch(e){throw new ud(ad.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Pd.fromUint8Array(e))},t.prototype.toBase64=function(){return this.T_.toBase64()},t.prototype.toUint8Array=function(){return this.T_.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.T_.isEqual(t.T_)},t}(),tw=new Map,ew=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new ud(ad.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new ud(ad.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,U_("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),nw=function(){function t(t,e){this.I_="(lite)",this.m_=new ew({}),this.A_=!1,t instanceof Yf?(this.R_=t,this.P_=new ld):(this.g_=t,this.R_=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new ud(ad.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yf(t.options.projectId)}(t),this.P_=new hd(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this.g_)throw new ud(ad.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.g_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y_",{get:function(){return this.A_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"V_",{get:function(){return void 0!==this.p_},enumerable:!1,configurable:!0}),t.prototype.v_=function(t){if(this.A_)throw new ud(ad.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.m_=new ew(t),void 0!==t.credentials&&(this.P_=function(t){if(!t)return new ld;switch(t.type){case"gapi":var e=t.client;return sd(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new dd(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new ud(ad.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype.b_=function(){return this.m_},t.prototype.S_=function(){return this.A_=!0,this.m_},t.prototype._delete=function(){return this.p_||(this.p_=this.D_()),this.p_},t.prototype.D_=function(){return function(t){var e=tw.get(t);e&&(td("ComponentProvider","Removing Datastore"),tw.delete(t),e.terminate())}(this),Promise.resolve()},t}();function rw(){if("undefined"==typeof Uint8Array)throw new ud(ad.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function iw(){if("undefined"==typeof atob)throw new ud(ad.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var sw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Hu.c)(e,t),e.fromBase64String=function(t){return iw(),new e(J_.fromBase64String(t))},e.fromUint8Array=function(t){return rw(),new e(J_.fromUint8Array(t))},e.prototype.toBase64=function(){return iw(),this.o_.toBase64()},e.prototype.toUint8Array=function(){return rw(),this.o_.toUint8Array()},e.prototype.isEqual=function(t){return this.o_.isEqual(t.o_)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(L_),ow=function(){function t(){}return t.prototype.C_=function(t,e){switch(void 0===e&&(e="none"),_p(t)){case 0:return null;case 1:return t.booleanValue;case 2:return xp(t.integerValue||t.doubleValue);case 3:return this.N_(t.timestampValue);case 4:return this.x_(t,e);case 5:return t.stringValue;case 6:return this.F_(Ip(t.bytesValue));case 7:return this.O_(t.referenceValue);case 8:return this.M_(t.geoPointValue);case 9:return this.k_(t.arrayValue,e);case 10:return this.L_(t.mapValue,e);default:throw id()}},t.prototype.L_=function(t,e){var n=this,r={};return gp(t.fields||{},(function(t,i){r[t]=n.C_(i,e)})),r},t.prototype.M_=function(t){return new Z_(xp(t.latitude),xp(t.longitude))},t.prototype.k_=function(t,e){var n=this;return(t.values||[]).map((function(t){return n.C_(t,e)}))},t.prototype.x_=function(t,e){switch(e){case"previous":var n=function t(e){var n=e.mapValue.fields.__previous_value__;return yp(n)?t(n):n}(t);return null==n?null:this.C_(n,e);case"estimate":return this.N_(vp(t));default:return null}},t.prototype.N_=function(t){var e=Cp(t);return new bd(e.seconds,e.nanos)},t.prototype.B_=function(t,e){var n=Ed.Y(t);sd(pg(n));var r=new Yf(n.get(1),n.get(3)),i=new Td(n.B(5));return r.isEqual(e)||ed("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}(),aw=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Hu.c)(e,t),e.prototype.F_=function(t){return new sw(new J_(t))},e.prototype.O_=function(t){var e=this.B_(t,this.firestore.R_);return PE.q_(e,this.firestore,null)},e}(ow),uw=function(){function t(t,e,n,r,i){this.U_=t,this.Q_=e,this.K_=n,this.W_=r,this.j_=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this.K_.path.K()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Tw(this.U_,this.j_,this.K_)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this.W_},t.prototype.data=function(){if(this.W_){if(this.j_){var t=new cw(this.U_,this.Q_,this.K_,this.W_,null);return this.j_.fromFirestore(t)}return this.Q_.C_(this.W_.En())}},t.prototype.get=function(t){if(this.W_){var e=this.W_.data().field(lw("DocumentSnapshot.get",t));if(null!==e)return this.Q_.C_(e)}},t}(),cw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Hu.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(uw);function lw(t,e){return"string"==typeof e?uE(t,e):e instanceof L_?e.o_.G_:e.G_}var hw=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new ud(ad.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.G_=new Sd(t)}return t.prototype.isEqual=function(t){return this.G_.isEqual(t.G_)},t}(),fw=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).z_=new ry,r.I_="name"in e?e.name:"[DEFAULT]",r}return Object(Hu.c)(e,t),e.prototype.D_=function(){return this.H_||kE(this),this.H_.terminate()},e}(nw);function dw(t,e,n){var r=this,i=new Lm;return t.di.enqueue((function(){return Object(Hu.b)(r,void 0,void 0,(function(){var r;return Object(Hu.d)(this,(function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,pE(t,n)];case 1:return s.sent(),[4,gE(t,e)];case 2:return s.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===ad.FAILED_PRECONDITION||t.code===ad.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=s.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function pw(t){if(t.y_||t.V_)throw new ud(ad.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var gw=function(t){function e(e,n,r,i,s,o){var a=this;return(a=t.call(this,e,n,r,i,o)||this).U_=e,a.J_=e,a.metadata=s,a}return Object(Hu.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this.W_){if(this.j_){var e=new mw(this.U_,this.Q_,this.K_,this.W_,this.metadata,null);return this.j_.fromFirestore(e,t)}return this.Q_.C_(this.W_.En(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this.W_){var n=this.W_.data().field(lw("DocumentSnapshot.get",t));if(null!==n)return this.Q_.C_(n,e.serverTimestamps)}},e}(uw),mw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Hu.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(gw),yw=function(){function t(t,e,n,r){this.U_=t,this.Q_=e,this.Y_=r,this.metadata=new ME(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.Y_.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this.Y_.docs.forEach((function(r){t.call(e,new mw(n.U_,n.Q_,r.key,r,new ME(n.Y_.ee.has(r.key),n.Y_.fromCache),n.query.j_))}))},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this.Y_.se)throw new ud(ad.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.X_&&this.Z_===e||(this.X_=function(t,e){if(t.Y_.te.W()){var n=0;return t.Y_.docChanges.map((function(e){return{type:"added",doc:new mw(t.U_,t.Q_,e.doc.key,e.doc,new ME(t.Y_.ee.has(e.doc.key),t.Y_.fromCache),t.query.j_),oldIndex:-1,newIndex:n++}}))}var r=t.Y_.te;return t.Y_.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var n=new mw(t.U_,t.Q_,e.doc.key,e.doc,new ME(t.Y_.ee.has(e.doc.key),t.Y_.fromCache),t.query.j_),i=-1,s=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(s=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:vw(e.type),doc:n,oldIndex:i,newIndex:s}}))}(this,e),this.Z_=e),this.X_},t}();function vw(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return id()}}function bw(t,e){return t instanceof gw&&e instanceof gw?t.U_===e.U_&&t.K_.isEqual(e.K_)&&(null===t.W_?null===e.W_:t.W_.isEqual(e.W_))&&t.j_===e.j_:t instanceof yw&&e instanceof yw&&t.U_===e.U_&&Hw(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t.Y_.isEqual(e.Y_)}var _w=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Hu.c)(e,t),e.prototype.F_=function(t){return new J_(t)},e.prototype.O_=function(t){var e=this.B_(t,this.firestore.R_);return new Tw(this.firestore,null,e)},e}(ow);function ww(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var s=z_(t.firestore,fw),o=Gw(s);return e instanceof L_&&(e=e.o_),Ow(s,("string"==typeof e||e instanceof hw?tE(o,"updateDoc",t.K_,e,n,r):Jw(o,"updateDoc",t.K_,e)).ef(t.K_,jg.exists(!0)))}function Ew(t){for(var e,n,r,i=this,s=[],o=1;o<arguments.length;o++)s[o-1]=arguments[o];var a={includeMetadataChanges:!1},u=0;"object"!=typeof s[u]||Mm(s[u])||(a=s[u],u++);var c,l,h,f={includeMetadataChanges:a.includeMetadataChanges};if(Mm(s[u])){var d=s[u];s[u]=null===(e=d.next)||void 0===e?void 0:e.bind(d),s[u+1]=null===(n=d.error)||void 0===n?void 0:n.bind(d),s[u+2]=null===(r=d.complete)||void 0===r?void 0:r.bind(d)}if(t instanceof Tw)l=z_(t.firestore,fw),h=em(t.K_.path),c={next:function(e){s[u]&&s[u](Sw(l,t,e))},error:s[u+1],complete:s[u+2]};else{l=z_(t.firestore,fw),h=t.tf;var p=new _w(l);c={next:function(e){s[u]&&s[u](new yw(l,p,t,e))},error:s[u+1],complete:s[u+2]},Mw(t.tf)}var g=jE(l),m=new D_(c),y=new wb(h,m,f);return l.z_.Ri((function(){return Object(Hu.b)(i,void 0,void 0,(function(){var t;return Object(Hu.d)(this,(function(e){switch(e.label){case 0:return t=mb,[4,EE(g)];case 1:return[2,t.apply(void 0,[e.sent(),y])]}}))}))})),function(){m.r_(),l.z_.Ri((function(){return Object(Hu.b)(i,void 0,void 0,(function(){var t;return Object(Hu.d)(this,(function(e){switch(e.label){case 0:return t=yb,[4,EE(g)];case 1:return[2,t.apply(void 0,[e.sent(),y])]}}))}))}))}}function Ow(t,e){return function(t,e){var n=this,r=new Lm;return t.di.Ri((function(){return Object(Hu.b)(n,void 0,void 0,(function(){var n;return Object(Hu.d)(this,(function(i){switch(i.label){case 0:return n=zb,[4,wE(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(jE(t),e)}function Sw(t,e,n){var r=n.docs.get(e.K_),i=new _w(t);return new gw(t,i,e.K_,r,new ME(n.hasPendingWrites,n.fromCache),e.j_)}var Tw=function(){function t(t,e,n){this.j_=e,this.K_=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"nf",{get:function(){return this.K_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.K_.path.K()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.K_.path.J()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Uw(this.firestore,this.j_,this.K_.path.q())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this.K_)},t}(),Cw=function(){function t(t,e,n){this.j_=e,this.tf=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this.tf)},t}(),xw=function(){};function Iw(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var s=i[r];t=s.sf(t)}return t}var Aw=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).rf=e,i.cf=n,i.uf=r,i.type="where",i}return Object(Hu.c)(e,t),e.prototype.sf=function(t){var e=Gw(t.firestore),n=function(t,e,n,r,i,s,o){var a;if(i.tt()){if("array-contains"===s||"array-contains-any"===s)throw new ud(ad.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+s+"' queries on FieldPath.documentId().");if("in"===s||"not-in"===s){Lw(o,s);for(var u=[],c=0,l=o;c<l.length;c++)u.push(Dw(r,t,l[c]));a={arrayValue:{values:u}}}else a=Dw(r,t,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||Lw(o,s),a=eE(n,"where",o,"in"===s||"not-in"===s);var h=gm.create(i,s,a);return function(t,e){if(e.An()){var n=sm(t);if(null!==n&&!n.isEqual(e.field))throw new ud(ad.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=im(t);null!==r&&Fw(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new ud(ad.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t.tf,0,e,t.firestore.R_,this.rf,this.cf,this.uf);return new Cw(t.firestore,t.j_,function(t,e){var n=t.filters.concat([e]);return new Jg(t.path,t.collectionGroup,t.Tn.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t.tf,n))},e}(xw),jw=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).rf=e,r.af=n,r.type="orderBy",r}return Object(Hu.c)(e,t),e.prototype.sf=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new ud(ad.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new ud(ad.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Im(e,n);return function(t,e){if(null===im(t)){var n=sm(t);null!==n&&Fw(0,n,e.field)}}(t,r),r}(t.tf,this.rf,this.af);return new Cw(t.firestore,t.j_,function(t,e){var n=t.Tn.concat([e]);return new Jg(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t.tf,e))},e}(xw),kw=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.hf=n,i.lf=r,i}return Object(Hu.c)(e,t),e.prototype.sf=function(t){return new Cw(t.firestore,t.j_,cm(t.tf,this.hf,this.lf))},e}(xw),Rw=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i._f=n,i.ff=r,i}return Object(Hu.c)(e,t),e.prototype.sf=function(t){var e=Pw(t,this.type,this._f,this.ff);return new Cw(t.firestore,t.j_,function(t,e){return new Jg(t.path,t.collectionGroup,t.Tn.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t.tf,e))},e}(xw),Nw=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i._f=n,i.ff=r,i}return Object(Hu.c)(e,t),e.prototype.sf=function(t){var e=Pw(t,this.type,this._f,this.ff);return new Cw(t.firestore,t.j_,function(t,e){return new Jg(t.path,t.collectionGroup,t.Tn.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t.tf,e))},e}(xw);function Pw(t,e,n,r){if(n[0]instanceof L_&&(n[0]=n[0].o_),n[0]instanceof uw)return function(t,e,n,r,i){if(!r)throw new ud(ad.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var s=[],o=0,a=am(t);o<a.length;o++){var u=a[o];if(u.field.tt())s.push(Ap(e,r.key));else{var c=r.field(u.field);if(yp(c))throw new ud(ad.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.J();throw new ud(ad.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}s.push(c)}}return new Sm(s,i)}(t.tf,t.firestore.R_,e,n[0].W_,r);var i=Gw(t.firestore);return function(t,e,n,r,i,s){var o=t.Tn;if(i.length>o.length)throw new ud(ad.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.tt()){if("string"!=typeof c)throw new ud(ad.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!om(t)&&-1!==c.indexOf("/"))throw new ud(ad.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(Ed.Y(c));if(!Td.ot(l))throw new ud(ad.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new Td(l);a.push(Ap(e,h))}else{var f=eE(n,r,c);a.push(f)}}return new Sm(a,s)}(t.tf,t.firestore.R_,i,e,n,r)}function Dw(t,e,n){if(n instanceof L_&&(n=n.o_),"string"==typeof n){if(""===n)throw new ud(ad.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!om(e)&&-1!==n.indexOf("/"))throw new ud(ad.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Ed.Y(n));if(!Td.ot(r))throw new ud(ad.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Ap(t,new Td(r))}if(n instanceof Tw)return Ap(t,n.K_);throw new ud(ad.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+B_(n)+".")}function Lw(t,e){if(!Array.isArray(t)||0===t.length)throw new ud(ad.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new ud(ad.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function Fw(t,e,n){if(!n.isEqual(e))throw new ud(ad.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function Mw(t){if(rm(t)&&0===t.Tn.length)throw new ud(ad.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Uw=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,em(r))||this).firestore=e,i.nf=r,i.type="collection",i}return Object(Hu.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.tf.path.K()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.tf.path.J()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.nf.q();return t.W()?null:new Tw(this.firestore,null,new Td(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this.nf)},e}(Cw);function Vw(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(F_("collection","path",e),t instanceof nw){var i=Ed.Y.apply(Ed,Object(Hu.g)([e],n));return q_(i),new Uw(t,null,i)}if(!(t instanceof Tw||t instanceof Uw))throw new ud(ad.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var s=Ed.Y.apply(Ed,Object(Hu.g)([t.path],n)).child(Ed.Y(e));return q_(s),new Uw(t.firestore,null,s)}function qw(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(1===arguments.length&&(e=gd.D()),F_("doc","path",e),t instanceof nw){var i=Ed.Y.apply(Ed,Object(Hu.g)([e],n));return V_(i),new Tw(t,null,new Td(i))}if(!(t instanceof Tw||t instanceof Uw))throw new ud(ad.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var s=t.nf.child(Ed.Y.apply(Ed,Object(Hu.g)([e],n)));return V_(s),new Tw(t.firestore,t instanceof Uw?t.j_:null,new Td(s))}var Bw=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Hu.c)(e,t),e.prototype.F_=function(t){return new J_(t)},e.prototype.O_=function(t){var e=this.B_(t,this.firestore.R_);return new Tw(this.firestore,null,e)},e}(ow);function zw(t,e){return(t instanceof Tw||t instanceof Uw)&&(e instanceof Tw||e instanceof Uw)&&t.firestore===e.firestore&&t.path===e.path&&t.j_===e.j_}function Hw(t,e){return t instanceof Cw&&e instanceof Cw&&t.firestore===e.firestore&&lm(t.tf,e.tf)&&t.j_===e.j_}function Gw(t){var e=t.S_(),n=Fm(t.R_);return new Xw(t.R_,!!e.ignoreUndefinedProperties,n)}var $w=/^__.*__$/,Ww=function(){function t(t,e,n){this.data=t,this.en=e,this.fieldTransforms=n}return t.prototype.ef=function(t,e){var n=[];return n.push(null!==this.en?new Ug(t,this.data,this.en,e):new Mg(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new qg(t,this.fieldTransforms)),n},t}(),Kw=function(){function t(t,e,n){this.data=t,this.en=e,this.fieldTransforms=n}return t.prototype.ef=function(t,e){var n=[new Ug(t,this.data,this.en,e)];return this.fieldTransforms.length>0&&n.push(new qg(t,this.fieldTransforms)),n},t}();function Qw(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw id()}}var Yw=function(){function t(t,e,n,r,i,s){this.settings=t,this.t=e,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.df(),this.fieldTransforms=i||[],this.en=s||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"a_",{get:function(){return this.settings.a_},enumerable:!1,configurable:!0}),t.prototype.wf=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.t,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.en)},t.prototype.Ef=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.wf({path:n,__:!1});return r.Tf(t),r},t.prototype.If=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.wf({path:n,__:!1});return r.df(),r},t.prototype.mf=function(t){return this.wf({path:void 0,__:!0})},t.prototype.h_=function(t){return cE(t,this.settings.methodName,this.settings.Af||!1,this.path,this.settings.l_)},t.prototype.contains=function(t){return void 0!==this.en.find((function(e){return t.j(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.j(e.field)}))},t.prototype.df=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Tf(this.path.get(t))},t.prototype.Tf=function(t){if(0===t.length)throw this.h_("Document fields must not be empty");if(Qw(this.a_)&&$w.test(t))throw this.h_('Document fields cannot begin and end with "__"')},t}(),Xw=function(){function t(t,e,n){this.t=t,this.ignoreUndefinedProperties=e,this.serializer=n||Fm(t)}return t.prototype.Rf=function(t,e,n,r){return void 0===r&&(r=!1),new Yw({a_:t,methodName:e,l_:n,path:Sd.X(),__:!1,Af:r},this.t,this.serializer,this.ignoreUndefinedProperties)},t}();function Zw(t,e,n,r,i,s){void 0===s&&(s={});var o=t.Rf(s.merge||s.mergeFields?2:0,e,n,i);sE("Data must be an object, but it was:",o,r);var a,u,c=rE(r,o);if(s.merge)a=new xg(o.en),u=o.fieldTransforms;else if(s.mergeFields){for(var l=[],h=0,f=s.mergeFields;h<f.length;h++){var d=oE(e,f[h],n);if(!o.contains(d))throw new ud(ad.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");lE(l,d)||l.push(d)}a=new xg(l),u=o.fieldTransforms.filter((function(t){return a.un(t.field)}))}else a=null,u=o.fieldTransforms;return new Ww(new $g(c),a,u)}function Jw(t,e,n,r){var i=t.Rf(1,e,n);sE("Data must be an object, but it was:",i,r);var s=[],o=new Wg;gp(r,(function(t,r){var a=uE(e,t,n);r instanceof L_&&(r=r.o_);var u=i.If(a);if(r instanceof $_)s.push(a);else{var c=nE(r,u);null!=c&&(s.push(a),o.set(a,c))}}));var a=new xg(s);return new Kw(o.hn(),a,i.fieldTransforms)}function tE(t,e,n,r,i,s){var o=t.Rf(1,e,n),a=[oE(e,r,n)],u=[i];if(s.length%2!=0)throw new ud(ad.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<s.length;c+=2)a.push(oE(e,s[c])),u.push(s[c+1]);for(var l=[],h=new Wg,f=a.length-1;f>=0;--f)if(!lE(l,a[f])){var d=a[f],p=u[f];p instanceof L_&&(p=p.o_);var g=o.If(d);if(p instanceof $_)l.push(d);else{var m=nE(p,g);null!=m&&(l.push(d),h.set(d,m))}}var y=new xg(l);return new Kw(h.hn(),y,o.fieldTransforms)}function eE(t,e,n,r){return void 0===r&&(r=!1),nE(n,t.Rf(r?4:3,e))}function nE(t,e){if(t instanceof L_&&(t=t.o_),iE(t))return sE("Unsupported field value:",e,t),rE(t,e);if(t instanceof G_)return function(t,e){if(!Qw(e.a_))throw e.h_(t.c_+"() can only be used with update() and set()");if(!e.path)throw e.h_(t.c_+"() is not currently supported inside arrays");var n=t.u_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.en.push(e.path),t instanceof Array){if(e.settings.__&&4!==e.a_)throw e.h_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,s=t;i<s.length;i++){var o=nE(s[i],e.mf(r));null==o&&(o={nullValue:"NULL_VALUE"}),n.push(o),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof L_&&(t=t.o_),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Vp(e.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=bd.fromDate(t);return{timestampValue:qp(e.serializer,n)}}if(t instanceof bd){var r=new bd(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:qp(e.serializer,r)}}if(t instanceof Z_)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof J_)return{bytesValue:Bp(e.serializer,t.T_)};if(t instanceof Tw){var i=e.t,s=t.firestore.R_;if(!s.isEqual(i))throw e.h_("Document reference is for database "+s.projectId+"/"+s.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:Gp(t.firestore.R_||e.t,t.K_.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.h_("Unsupported field value: "+B_(t))}(t,e)}function rE(t,e){var n={};return mp(t)?e.path&&e.path.length>0&&e.en.push(e.path):gp(t,(function(t,r){var i=nE(r,e.Ef(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function iE(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof bd||t instanceof Z_||t instanceof J_||t instanceof Tw||t instanceof G_)}function sE(t,e,n){if(!iE(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=B_(n);throw e.h_("an object"===r?t+" a custom object":t+" "+r)}}function oE(t,e,n){if(e instanceof L_&&(e=e.o_),e instanceof hw)return e.G_;if("string"==typeof e)return uE(t,e);throw cE("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var aE=new RegExp("[~\\*/\\[\\]]");function uE(t,e,n){if(e.search(aE)>=0)throw cE("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(hw.bind.apply(hw,Object(Hu.g)([void 0],e.split("."))))).G_}catch(r){throw cE("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function cE(t,e,n,r,i){var s=r&&!r.W(),o=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(s||o)&&(u+=" (found",s&&(u+=" in field "+r),o&&(u+=" in document "+i),u+=")"),new ud(ad.INVALID_ARGUMENT,(a+=". ")+t+u)}function lE(t,e){return t.some((function(t){return t.isEqual(e)}))}var hE=function(){function t(t){this.Nu=t,this.Pf=new Map,this.mutations=[],this.gf=!1,this.yf=null,this.Vf=new Set}return t.prototype.pf=function(t){return Object(Hu.b)(this,void 0,void 0,(function(){var e,n=this;return Object(Hu.d)(this,(function(r){switch(r.label){case 0:if(this.vf(),this.mutations.length>0)throw new ud(ad.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(Hu.b)(this,void 0,void 0,(function(){var n,r,i,s,o,a;return Object(Hu.d)(this,(function(u){switch(u.label){case 0:return n=od(t),r=Xp(n.serializer)+"/documents",i={documents:e.map((function(t){return Wp(n.serializer,t)}))},[4,n.Ru("BatchGetDocuments",r,i)];case 1:return s=u.sent(),o=new Map,s.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){sd(!!e.found);var n=Kp(t,e.found.name),r=Hp(e.found.updateTime),i=new $g({mapValue:{fields:e.found.fields}});return new Yg(n,r,i,{})}(t,e):"missing"in e?function(t,e){sd(!!e.missing),sd(!!e.readTime);var n=Kp(t,e.missing),r=Hp(e.readTime);return new Xg(n,r)}(t,e):id()}(n.serializer,t);o.set(e.key.toString(),e)})),a=[],[2,(e.forEach((function(t){var e=o.get(t.toString());sd(!!e),a.push(e)})),a)]}}))}))}(this.Nu,t)];case 1:return[2,((e=r.sent()).forEach((function(t){t instanceof Xg||t instanceof Yg?n.bf(t):id()})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.ef(t,this.rn(t))),this.Vf.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.ef(t,this.Sf(t)))}catch(t){this.yf=t}this.Vf.add(t.toString())},t.prototype.delete=function(t){this.write([new Hg(t,this.rn(t))]),this.Vf.add(t.toString())},t.prototype.commit=function(){return Object(Hu.b)(this,void 0,void 0,(function(){var t,e=this;return Object(Hu.d)(this,(function(n){switch(n.label){case 0:if(this.vf(),this.yf)throw this.yf;return t=this.Pf,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=Td.st(n);e.mutations.push(new Gg(r,e.rn(r)))})),[4,function(t,e){return Object(Hu.b)(this,void 0,void 0,(function(){var n,r,i;return Object(Hu.d)(this,(function(s){switch(s.label){case 0:return n=od(t),r=Xp(n.serializer)+"/documents",i={writes:e.map((function(t){return tg(n.serializer,t)}))},[4,n.Au("Commit",r,i)];case 1:return s.sent(),[2]}}))}))}(this.Nu,this.mutations)];case 1:return n.sent(),this.gf=!0,[2]}}))}))},t.prototype.bf=function(t){var e;if(t instanceof Yg)e=t.version;else{if(!(t instanceof Xg))throw id();e=_d.min()}var n=this.Pf.get(t.key.toString());if(n){if(!e.isEqual(n))throw new ud(ad.ABORTED,"Document version changed between two reads.")}else this.Pf.set(t.key.toString(),e)},t.prototype.rn=function(t){var e=this.Pf.get(t.toString());return!this.Vf.has(t.toString())&&e?jg.updateTime(e):jg.on()},t.prototype.Sf=function(t){var e=this.Pf.get(t.toString());if(!this.Vf.has(t.toString())&&e){if(e.isEqual(_d.min()))throw new ud(ad.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return jg.updateTime(e)}return jg.exists(!0)},t.prototype.write=function(t){this.vf(),this.mutations=this.mutations.concat(t)},t.prototype.vf=function(){},t}(),fE=function(){function t(t,e,n,r){this.di=t,this.Nu=e,this.updateFunction=n,this.Ti=r,this.Df=5,this.Si=new Hm(this.di,"transaction_retry")}return t.prototype.run=function(){this.Cf()},t.prototype.Cf=function(){var t=this;this.Si.Bs((function(){return Object(Hu.b)(t,void 0,void 0,(function(){var t,e,n=this;return Object(Hu.d)(this,(function(r){return t=new hE(this.Nu),(e=this.Nf(t))&&e.then((function(e){n.di.Ri((function(){return t.commit().then((function(){n.Ti.resolve(e)})).catch((function(t){n.xf(t)}))}))})).catch((function(t){n.xf(t)})),[2]}))}))}))},t.prototype.Nf=function(t){try{var e=this.updateFunction(t);return!Cd(e)&&e.catch&&e.then?e:(this.Ti.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Ti.reject(t),null}},t.prototype.xf=function(t){var e=this;this.Df>0&&this.Ff(t)?(this.Df-=1,this.di.Ri((function(){return e.Cf(),Promise.resolve()}))):this.Ti.reject(t)},t.prototype.Ff=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Ud(e)}return!1},t}(),dE=function(){function t(t,e,n){var r=this;this.credentials=t,this.di=e,this.Fl=n,this.user=Xf.UNAUTHENTICATED,this.clientId=gd.D(),this.Of=function(){},this.g=new Lm,this.credentials.A((function(t){td("FirestoreClient","Received user=",t.uid),r.user.isEqual(t)||(r.user=t,r.Of(t)),r.g.resolve()}))}return t.prototype.getConfiguration=function(){return Object(Hu.b)(this,void 0,void 0,(function(){return Object(Hu.d)(this,(function(t){switch(t.label){case 0:return[4,this.g.promise];case 1:return[2,(t.sent(),{di:this.di,Fl:this.Fl,clientId:this.clientId,credentials:this.credentials,Yl:this.user,$h:100})]}}))}))},t.prototype.Mf=function(t){var e=this;this.Of=t,this.g.promise.then((function(){return e.Of(e.user)}))},t.prototype.kf=function(){if(this.di.Ci)throw new ud(ad.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.di.Oi();var e=new Lm;return this.di.Ni((function(){return Object(Hu.b)(t,void 0,void 0,(function(){var t,n;return Object(Hu.d)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.$f?[4,this.$f.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.Lf?[4,this.Lf.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.R(),e.resolve(),[3,6];case 5:return t=r.sent(),n=iy(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}}))}))})),e.promise},t}();function pE(t,e){return Object(Hu.b)(this,void 0,void 0,(function(){var n,r=this;return Object(Hu.d)(this,(function(i){switch(i.label){case 0:return t.di.Li(),td("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=i.sent(),[4,e.initialize(n)];case 2:return i.sent(),t.Mf((function(n){return t.di.Mi((function(){return Object(Hu.b)(r,void 0,void 0,(function(){return Object(Hu.d)(this,(function(t){switch(t.label){case 0:return[4,Tv(e.Cu,n)];case 1:return t.sent(),[2]}}))}))}))})),e.persistence.tc((function(){return t.terminate()})),t.Lf=e,[2]}}))}))}function gE(t,e){return Object(Hu.b)(this,void 0,void 0,(function(){var n,r;return Object(Hu.d)(this,(function(i){switch(i.label){case 0:return t.di.Li(),[4,mE(t)];case 1:return n=i.sent(),td("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.Mf((function(n){return t.di.Mi((function(){return function(t,e){return Object(Hu.b)(this,void 0,void 0,(function(){var n,r;return Object(Hu.d)(this,(function(i){switch(i.label){case 0:return(n=od(t)).di.Li(),td("RemoteStore","RemoteStore received new credentials"),r=Xv(n),n.Mu.add(3),[4,Hv(n)];case 1:return i.sent(),r&&n.Bu.set("Unknown"),[4,n.xu.s_(e)];case 2:return i.sent(),n.Mu.delete(3),[4,zv(n)];case 3:return i.sent(),[2]}}))}))}(e.Oh,n)}))})),t.$f=e,[2]}}))}))}function mE(t){return Object(Hu.b)(this,void 0,void 0,(function(){return Object(Hu.d)(this,(function(e){switch(e.label){case 0:return t.Lf?[3,2]:(td("FirestoreClient","Using default OfflineComponentProvider"),[4,pE(t,new k_)]);case 1:e.sent(),e.label=2;case 2:return[2,t.Lf]}}))}))}function yE(t){return Object(Hu.b)(this,void 0,void 0,(function(){return Object(Hu.d)(this,(function(e){switch(e.label){case 0:return t.$f?[3,2]:(td("FirestoreClient","Using default OnlineComponentProvider"),[4,gE(t,new P_)]);case 1:e.sent(),e.label=2;case 2:return[2,t.$f]}}))}))}function vE(t){return mE(t).then((function(t){return t.persistence}))}function bE(t){return mE(t).then((function(t){return t.Cu}))}function _E(t){return yE(t).then((function(t){return t.Oh}))}function wE(t){return yE(t).then((function(t){return t.ga}))}function EE(t){return Object(Hu.b)(this,void 0,void 0,(function(){var e,n;return Object(Hu.d)(this,(function(r){switch(r.label){case 0:return[4,yE(t)];case 1:return e=r.sent(),[2,((n=e.Mh).Ju=Vb.bind(null,e.ga),n.Zu=Bb.bind(null,e.ga),n)]}}))}))}function OE(t,e,n,r,i){var s=new D_({next:function(s){e.Ri((function(){return yb(t,o)}));var a=s.docs.has(n);!a&&s.fromCache?i.reject(new ud(ad.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new ud(ad.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:function(t){return i.reject(t)}}),o=new wb(em(n.path),s,{includeMetadataChanges:!0,oa:!0});return mb(t,o)}function SE(t,e,n,r,i){var s=new D_({next:function(n){e.Ri((function(){return yb(t,o)})),n.fromCache&&"server"===r.source?i.reject(new ud(ad.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),o=new wb(n,s,{includeMetadataChanges:!0,oa:!0});return mb(t,o)}var TE=function(){function t(t,e){this.U_=t,this.Bf=e,this.qf=[],this.Uf=!1,this.Qf=Gw(t)}return t.prototype.set=function(t,e,n){this.Kf();var r=CE(t,this.U_),i=$E(r.j_,e,n),s=Zw(this.Qf,"WriteBatch.set",r.K_,i,null!==r.j_,n);return this.qf=this.qf.concat(s.ef(r.K_,jg.on())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this.Kf();var s,o=CE(t,this.U_);return e instanceof L_&&(e=e.o_),s="string"==typeof e||e instanceof hw?tE(this.Qf,"WriteBatch.update",o.K_,e,n,r):Jw(this.Qf,"WriteBatch.update",o.K_,e),this.qf=this.qf.concat(s.ef(o.K_,jg.exists(!0))),this},t.prototype.delete=function(t){this.Kf();var e=CE(t,this.U_);return this.qf=this.qf.concat(new Hg(e.K_,jg.on())),this},t.prototype.commit=function(){return this.Kf(),this.Uf=!0,this.qf.length>0?this.Bf(this.qf):Promise.resolve()},t.prototype.Kf=function(){if(this.Uf)throw new ud(ad.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function CE(t,e){if(t instanceof L_&&(t=t.o_),t.firestore!==e)throw new ud(ad.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var xE=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).U_=e,r}return Object(Hu.c)(e,t),e.prototype.get=function(e){var n=this,r=CE(e,this.U_),i=new _w(this.U_);return t.prototype.get.call(this,e).then((function(t){return new gw(n.U_,i,r.K_,t.W_,new ME(!1,!1),r.j_)}))},e}(function(){function t(t,e){this.U_=t,this.Wf=e,this.Qf=Gw(t)}return t.prototype.get=function(t){var e=this,n=CE(t,this.U_),r=new Bw(this.U_);return this.Wf.pf([n.K_]).then((function(t){if(!t||1!==t.length)return id();var i=t[0];if(i instanceof Xg)return new uw(e.U_,r,n.K_,null,n.j_);if(i instanceof Yg)return new uw(e.U_,r,i.key,i,n.j_);throw id()}))},t.prototype.set=function(t,e,n){var r=CE(t,this.U_),i=$E(r.j_,e,n),s=Zw(this.Qf,"Transaction.set",r.K_,i,null!==r.j_,n);return this.Wf.set(r.K_,s),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var s,o=CE(t,this.U_);return e instanceof L_&&(e=e.o_),s="string"==typeof e||e instanceof hw?tE(this.Qf,"Transaction.update",o.K_,e,n,r):Jw(this.Qf,"Transaction.update",o.K_,e),this.Wf.update(o.K_,s),this},t.prototype.delete=function(t){var e=CE(t,this.U_);return this.Wf.delete(e.K_),this},t}()),IE=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){pw(t);var n=jE(t),r=t.S_(),i=new P_;return dw(n,i,new R_(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t.o_,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){pw(t);var e=jE(t),n=t.S_(),r=new P_;return dw(e,r,new N_(r,n.cacheSizeBytes))}(t.o_)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t.y_&&!t.V_)throw new ud(ad.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Lm;return t.z_.Ni((function(){return Object(Hu.b)(e,void 0,void 0,(function(){var e;return Object(Hu.d)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(Hu.b)(this,void 0,void 0,(function(){return Object(Hu.d)(this,(function(e){switch(e.label){case 0:return Gm.Gs()?[4,Gm.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}}))}))}(Ev(t.R_,t.I_))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise}(t.o_)},t}(),AE=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).jf=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof Yf||(i.Gf=e),i}return Object(Hu.c)(e,t),Object.defineProperty(e.prototype,"R_",{get:function(){return this.o_.R_},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this.o_.b_()),t)).merge,this.o_.v_(t)},e.prototype.useEmulator=function(t,e){"firestore.googleapis.com"!==this.o_.b_().host&&nd("Host has been set in both settings() and useEmulator(), emulator host will be used"),this.settings({host:t+":"+e,ssl:!1,merge:!0})},e.prototype.enableNetwork=function(){return function(t){var e=this;return t.di.enqueue((function(){return Object(Hu.b)(e,void 0,void 0,(function(){var e,n;return Object(Hu.d)(this,(function(r){switch(r.label){case 0:return[4,vE(t)];case 1:return e=r.sent(),[4,_E(t)];case 2:return n=r.sent(),[2,(e.ec(!0),function(t){var e=od(t);return e.Mu.delete(0),zv(e)}(n))]}}))}))}))}(jE(this.o_))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t.di.enqueue((function(){return Object(Hu.b)(e,void 0,void 0,(function(){var e,n;return Object(Hu.d)(this,(function(r){switch(r.label){case 0:return[4,vE(t)];case 1:return e=r.sent(),[4,_E(t)];case 2:return n=r.sent(),[2,(e.ec(!1),function(t){return Object(Hu.b)(this,void 0,void 0,(function(){var e;return Object(Hu.d)(this,(function(n){switch(n.label){case 0:return(e=od(t)).Mu.add(0),[4,Hv(e)];case 1:return n.sent(),e.Bu.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(jE(this.o_))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&U_("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.jf.enableMultiTabIndexedDbPersistence(this):this.jf.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.jf.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.app._removeServiceInstance("firestore-exp"),this.o_._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new Lm;return t.di.Ri((function(){return Object(Hu.b)(e,void 0,void 0,(function(){var e;return Object(Hu.d)(this,(function(r){switch(r.label){case 0:return e=Qb,[4,wE(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(jE(this.o_))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){var n=this,r=jE(t),i=Mm(e)?e:{next:e},s=new D_(i);return t.z_.Ri((function(){return Object(Hu.b)(n,void 0,void 0,(function(){var t;return Object(Hu.d)(this,(function(e){switch(e.label){case 0:return t=function(t,e){od(t).Hu.add(e),e.next()},[4,EE(r)];case 1:return t.apply(void 0,[e.sent(),s]),[2]}}))}))})),function(){s.r_(),t.z_.Ri((function(){return Object(Hu.b)(n,void 0,void 0,(function(){var t;return Object(Hu.d)(this,(function(e){switch(e.label){case 0:return t=function(t,e){od(t).Hu.delete(e)},[4,EE(r)];case 1:return t.apply(void 0,[e.sent(),s]),[2]}}))}))}))}}(this.o_,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.Gf)throw new ud(ad.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Gf},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new HE(this,Vw(this.o_,t))}catch(t){throw DE(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new PE(this,qw(this.o_,t))}catch(t){throw DE(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new qE(this,function(t,e){if(F_("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ud(ad.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Cw(t,null,function(t){return new Jg(Ed.X(),t)}(e))}(this.o_,t))}catch(t){throw DE(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new Lm;return t.di.Ri((function(){return Object(Hu.b)(n,void 0,void 0,(function(){var n;return Object(Hu.d)(this,(function(i){switch(i.label){case 0:return[4,function(t){return yE(t).then((function(t){return t.Nu}))}(t)];case 1:return n=i.sent(),new fE(t.di,n,e,r).run(),[2]}}))}))})),r.promise}(jE(t),(function(n){return e(new xE(t,n))}))}(this.o_,(function(n){return t(new RE(e,n))}))},e.prototype.batch=function(){var t=this;return jE(this.o_),new NE(new TE(this.o_,(function(e){return Ow(t.o_,e)})))},e}(L_);function jE(t){return t.H_||kE(t),t.H_.kf(),t.H_}function kE(t){var e=t.S_(),n=function(t,e,n){return new Qf(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t.R_,t.I_,e);t.H_=new dE(t.P_,t.z_,n)}var RE=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).U_=e,r}return Object(Hu.c)(e,t),e.prototype.get=function(t){var e=this,n=GE(t);return this.o_.get(n).then((function(t){return new UE(e.U_,t)}))},e.prototype.set=function(t,e,n){var r=GE(t);return n?(M_("Transaction.set",n),this.o_.set(r,e,n)):this.o_.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var o=GE(t);return 2===arguments.length?this.o_.update(o,e):(r=this.o_).update.apply(r,Object(Hu.g)([o,e,n],i)),this},e.prototype.delete=function(t){var e=GE(t);return this.o_.delete(e),this},e}(L_),NE=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Hu.c)(e,t),e.prototype.set=function(t,e,n){var r=GE(t);return n?(M_("WriteBatch.set",n),this.o_.set(r,e,n)):this.o_.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var o=GE(t);return 2===arguments.length?this.o_.update(o,e):(r=this.o_).update.apply(r,Object(Hu.g)([o,e,n],i)),this},e.prototype.delete=function(t){var e=GE(t);return this.o_.delete(e),this},e.prototype.commit=function(){return this.o_.commit()},e}(L_),PE=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Q_=new aw(e),r}return Object(Hu.c)(e,t),e.zf=function(t,n,r){if(t.length%2!=0)throw new ud(ad.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.J()+" has "+t.length);return new e(n,new Tw(n.o_,r,new Td(t)))},e.q_=function(t,n,r){return new e(n,new Tw(n.o_,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this.o_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new HE(this.firestore,this.o_.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.o_.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new HE(this.firestore,Vw(this.o_,t))}catch(t){throw DE(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof L_&&(t=t.o_),t instanceof Tw&&zw(this.o_,t)},e.prototype.set=function(t,e){e=M_("DocumentReference.set",e);try{return function(t,e,n){var r=z_(t.firestore,fw),i=$E(t.j_,e,n);return Ow(r,Zw(Gw(r),"setDoc",t.K_,i,null!==t.j_,n).ef(t.K_,jg.on()))}(this.o_,t,e)}catch(t){throw DE(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?ww(this.o_,t):ww.apply(void 0,Object(Hu.g)([this.o_,t,e],n))}catch(t){throw DE(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return Ow(z_((t=this.o_).firestore,fw),[new Hg(t.K_,jg.on())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=LE(e),i=FE(e,(function(e){return new UE(t.firestore,new gw(t.firestore.o_,t.Q_,e.K_,e.W_,e.metadata,t.o_.j_))}));return Ew(this.o_,r,i)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){var e=this,n=z_(t.firestore,fw),r=jE(n),i=new _w(n),s=new Lm;return n.z_.Ri((function(){return Object(Hu.b)(e,void 0,void 0,(function(){return Object(Hu.d)(this,(function(e){switch(e.label){case 0:return[4,bE(r)];case 1:return[4,function(t,e,n){return Object(Hu.b)(this,void 0,void 0,(function(){var r,i,s;return Object(Hu.d)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=od(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.Oc.cs(t,e)}))}(t,e)];case 1:return(r=o.sent())instanceof Yg?n.resolve(r):r instanceof Xg?n.resolve(null):n.reject(new ud(ad.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return i=o.sent(),s=iy(i,"Failed to get document '"+e+" from cache"),n.reject(s),[3,3];case 3:return[2]}}))}))}(e.sent(),t.K_,s)];case 2:return e.sent(),[2]}}))}))})),s.promise.then((function(e){return new gw(n,i,t.K_,e,new ME(e instanceof Yg&&e.an,!0),t.j_)}))}(this.o_):"server"===(null==t?void 0:t.source)?function(t){var e=this,n=z_(t.firestore,fw),r=jE(n),i=new Lm;return n.z_.Ri((function(){return Object(Hu.b)(e,void 0,void 0,(function(){return Object(Hu.d)(this,(function(e){switch(e.label){case 0:return[4,EE(r)];case 1:return[4,OE(e.sent(),n.z_,t.K_,{source:"server"},i)];case 2:return e.sent(),[2]}}))}))})),i.promise.then((function(e){return Sw(n,t,e)}))}(this.o_):function(t){var e=this,n=z_(t.firestore,fw),r=jE(n),i=new Lm;return n.z_.Ri((function(){return Object(Hu.b)(e,void 0,void 0,(function(){return Object(Hu.d)(this,(function(e){switch(e.label){case 0:return[4,EE(r)];case 1:return[4,OE(e.sent(),n.z_,t.K_,{source:"default"},i)];case 2:return e.sent(),[2]}}))}))})),i.promise.then((function(e){return Sw(n,t,e)}))}(this.o_)).then((function(t){return new UE(e.firestore,new gw(e.firestore.o_,e.Q_,t.K_,t.W_,t.metadata,e.o_.j_))}))},e.prototype.withConverter=function(t){return new e(this.firestore,this.o_.withConverter(t))},e}(L_);function DE(t,e,n){return t.message=t.message.replace(e,n),t}function LE(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!Mm(r))return r}return{}}function FE(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=Mm(t[0])?t[0]:Mm(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var ME=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),UE=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).U_=e,r}return Object(Hu.c)(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new PE(this.U_,this.o_.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this.o_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.o_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this.o_.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this.o_.data(t)},e.prototype.get=function(t,e){return this.o_.get(t,e)},e.prototype.isEqual=function(t){return bw(this.o_,t.o_)},e}(L_),VE=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Hu.c)(e,t),e.prototype.data=function(t){return this.o_.data(t)},e}(UE),qE=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r}return Object(Hu.c)(e,t),e.prototype.where=function(t,n,r){try{return new e(this.firestore,Iw(this.o_,function(t,e,n){var r=e,i=lw("where",t);return new Aw(i,r,n)}(t,n,r)))}catch(t){throw DE(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Iw(this.o_,function(t,e){void 0===e&&(e="asc");var n=e,r=lw("orderBy",t);return new jw(r,n)}(t,n)))}catch(t){throw DE(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Iw(this.o_,function(t){return H_("limit",t),new kw("limit",t,"F")}(t)))}catch(t){throw DE(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Iw(this.o_,function(t){return H_("limitToLast",t),new kw("limitToLast",t,"L")}(t)))}catch(t){throw DE(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Iw(this.o_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Rw("startAt",t,!0)}).apply(void 0,t)))}catch(t){throw DE(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Iw(this.o_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Rw("startAfter",t,!1)}).apply(void 0,t)))}catch(t){throw DE(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Iw(this.o_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Nw("endBefore",t,!0)}).apply(void 0,t)))}catch(t){throw DE(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Iw(this.o_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Nw("endAt",t,!1)}).apply(void 0,t)))}catch(t){throw DE(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return Hw(this.o_,t.o_)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){var e=this,n=z_(t.firestore,fw),r=jE(n),i=new _w(n),s=new Lm;return n.z_.Ri((function(){return Object(Hu.b)(e,void 0,void 0,(function(){return Object(Hu.d)(this,(function(e){switch(e.label){case 0:return[4,bE(r)];case 1:return[4,function(t,e,n){return Object(Hu.b)(this,void 0,void 0,(function(){var r,i,s,o,a,u;return Object(Hu.d)(this,(function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,Rv(t,e,!0)];case 1:return r=c.sent(),i=new Lb(e,r.Bc),s=i.gh(r.documents),o=i.Zn(s,!1),n.resolve(o.snapshot),[3,3];case 2:return a=c.sent(),u=iy(a,"Failed to execute query '"+e+" against cache"),n.reject(u),[3,3];case 3:return[2]}}))}))}(e.sent(),t.tf,s)];case 2:return e.sent(),[2]}}))}))})),s.promise.then((function(e){return new yw(n,i,t,e)}))}(this.o_):"server"===(null==t?void 0:t.source)?function(t){var e=this,n=z_(t.firestore,fw),r=jE(n),i=new _w(n),s=new Lm;return n.z_.Ri((function(){return Object(Hu.b)(e,void 0,void 0,(function(){return Object(Hu.d)(this,(function(e){switch(e.label){case 0:return[4,EE(r)];case 1:return[4,SE(e.sent(),n.z_,t.tf,{source:"server"},s)];case 2:return e.sent(),[2]}}))}))})),s.promise.then((function(e){return new yw(n,i,t,e)}))}(this.o_):function(t){var e=this,n=z_(t.firestore,fw),r=jE(n),i=new _w(n);Mw(t.tf);var s=new Lm;return n.z_.Ri((function(){return Object(Hu.b)(e,void 0,void 0,(function(){return Object(Hu.d)(this,(function(e){switch(e.label){case 0:return[4,EE(r)];case 1:return[4,SE(e.sent(),n.z_,t.tf,{source:"default"},s)];case 2:return e.sent(),[2]}}))}))})),s.promise.then((function(e){return new yw(n,i,t,e)}))}(this.o_)).then((function(t){return new zE(e.firestore,t)}))},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=LE(e),i=FE(e,(function(e){return new zE(t.firestore,e)}));return Ew(this.o_,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this.o_.withConverter(t))},e}(L_),BE=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).U_=e,r}return Object(Hu.c)(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this.o_.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new VE(this.U_,this.o_.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this.o_.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this.o_.newIndex},enumerable:!1,configurable:!0}),e}(L_),zE=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).U_=e,r}return Object(Hu.c)(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new qE(this.U_,this.o_.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.o_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.o_.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.o_.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this.o_.docs.map((function(e){return new VE(t.U_,e)}))},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this.o_.docChanges(t).map((function(t){return new BE(e.U_,t)}))},e.prototype.forEach=function(t,e){var n=this;this.o_.forEach((function(r){t.call(e,new VE(n.U_,r))}))},e.prototype.isEqual=function(t){return bw(this.o_,t.o_)},e}(L_),HE=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r.o_=n,r}return Object(Hu.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.o_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.o_.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.o_.parent;return t?new PE(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new PE(this.firestore,void 0===t?qw(this.o_):qw(this.o_,t))}catch(t){throw DE(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=z_(t.firestore,fw),r=qw(t),i=$E(t.j_,e);return Ow(n,Zw(Gw(t.firestore),"addDoc",r.K_,i,null!==t.j_,{}).ef(r.K_,jg.exists(!1))).then((function(){return r}))}(this.o_,t).then((function(t){return new PE(e.firestore,t)}))},e.prototype.isEqual=function(t){return zw(this.o_,t.o_)},e.prototype.withConverter=function(t){return new e(this.firestore,this.o_.withConverter(t))},e}(qE);function GE(t){return t instanceof L_&&(t=t.o_),z_(t,Tw)}function $E(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var WE,KE=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(hw.bind.apply(hw,Object(Hu.g)([void 0],e))))||this}return Object(Hu.c)(e,t),e.documentId=function(){return new e(Sd.et().J())},e.prototype.isEqual=function(t){return t instanceof L_&&(t=t.o_),t instanceof hw&&this.o_.G_.isEqual(t.G_)},e}(L_),QE=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Hu.c)(e,t),e.serverTimestamp=function(){var t=new K_("serverTimestamp");return t.c_="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new $_("deleteField");return t.c_="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Q_("arrayUnion",t)}).apply(void 0,t);return r.c_="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Y_("arrayRemove",t)}).apply(void 0,t);return r.c_="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new X_("increment",t)}(t);return n.c_="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this.o_.isEqual(t.o_)},e}(L_),YE={Firestore:AE,GeoPoint:Z_,Timestamp:bd,Blob:sw,Transaction:RE,WriteBatch:NE,DocumentReference:PE,DocumentSnapshot:UE,Query:qE,QueryDocumentSnapshot:VE,QuerySnapshot:zE,CollectionReference:HE,FieldPath:KE,FieldValue:QE,setLogLevel:function(t){Zf.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new Kf.a("firestore",(function(t){return function(t,e){return new AE(t,new fw(t,e),new IE)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},YE)))})(WE=Gu.a),WE.registerVersion("@firebase/firestore","2.0.4"),n("tf+s");const XE=new r.q("angularfire2.auth.use-emulator");function ZE(t,e){return function(t,e=pi.b){return new xt.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function JE(t,e){return ZE(t,e).pipe(Object(Lt.a)(t=>({payload:t,type:"query"})))}function tO(t,e){return JE(t,e).pipe(ue(void 0),Ei(),Object(Lt.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const s=n.find(t=>t.doc.ref.isEqual(e.ref)),o=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));s&&JSON.stringify(s.doc.metadata)===JSON.stringify(e.metadata)||!s&&o&&JSON.stringify(o.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function eO(t,e,n){return tO(t,n).pipe(ce((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return nO(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return nO(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return nO(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),t=>t.lift(new fi(void 0,void 0)),Object(Lt.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function nO(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function rO(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}class iO{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=tO(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(Lt.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(ue(void 0),Ei(),Ut(([t,e])=>e.length>0||!t),Object(Lt.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(ce((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=rO(t);return eO(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return JE(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Lt.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(yt.a)(this.query.get(t)).pipe(Object(Ti.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new sO(this.ref.doc(t),this.afs)}}class sO{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=hO(n,e);return new iO(r,i,this.afs)}snapshotChanges(){return ZE(this.ref,this.afs.schedulers.outsideAngular).pipe(ue(void 0),Ei(),Object(Lt.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(Lt.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(yt.a)(this.ref.get(t)).pipe(Object(Ti.b)(this.afs.schedulers.insideAngular))}}class oO{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?tO(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Lt.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),Ut(t=>t.length>0),this.afs.keepUnstableUntilFirst):tO(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(ce((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=rO(t);return eO(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return JE(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Lt.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(yt.a)(this.query.get(t)).pipe(Object(Ti.b)(this.afs.schedulers.insideAngular))}}const aO=new r.q("angularfire2.enableFirestorePersistence"),uO=new r.q("angularfire2.firestore.persistenceSettings"),cO=new r.q("angularfire2.firestore.settings"),lO=new r.q("angularfire2.firestore.use-emulator");function hO(t,e=(t=>t)){return{query:e(t),ref:t}}let fO=(()=>{class t{constructor(t,e,n,r,i,s,o,a,u){this.schedulers=new Bu.d(s),this.keepUnstableUntilFirst=Object(Bu.h)(this.schedulers);const c=Object(Bu.g)(t,s,e);!zu.a.auth&&u&&Object(Bu.j)();const l=a;[this.firestore,this.persistenceEnabled$]=Object(Bu.f)(c.name+".firestore","AngularFirestore",c,()=>{const t=s.runOutsideAngular(()=>c.firestore());if(r&&t.settings(r),l&&t.useEmulator(...l),n&&!function(t){return"server"===t}(i)){const e=()=>{try{return Object(yt.a)(t.enablePersistence(o||void 0).then(()=>!0,()=>!1))}catch(e){return"undefined"!=typeof console&&console.warn(e),Object(mt.a)(!1)}};return[t,s.runOutsideAngular(e)]}return[t,Object(mt.a)(!1)]},[r,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=hO(n,e),s=this.schedulers.ngZone.run(()=>r);return new iO(s,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new oO(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new sO(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(Bu.c),r.Rb(Bu.b,8),r.Rb(aO,8),r.Rb(cO,8),r.Rb(r.B),r.Rb(r.z),r.Rb(uO,8),r.Rb(lO,8),r.Rb(XE,8))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Rb)(Bu.c),Object(r.Rb)(Bu.b,8),Object(r.Rb)(aO,8),Object(r.Rb)(cO,8),Object(r.Rb)(r.B),Object(r.Rb)(r.z),Object(r.Rb)(uO,8),Object(r.Rb)(lO,8),Object(r.Rb)(XE,8))},token:t,providedIn:"any"}),t})();function dO(t,e){if(1&t){const t=r.Ob();r.Nb(0,"figure"),r.Nb(1,"img",6),r.Ub("click",(function(){r.ec(t);const n=e.$implicit;return r.Wb().openDialog(n)})),r.Mb(),r.Nb(2,"figcaption"),r.mc(3),r.Mb(),r.Mb()}if(2&t){const t=e.$implicit;r.Ab(1),r.cc("src",t.poster,r.fc),r.cc("alt",t.title),r.Ab(2),r.nc(t.title)}}let pO=(()=>{class t{constructor(t,e){this.firestore=t,this.dialog=e}ngOnInit(){this.movies=this.getItems$()}getItems$(){return this.firestore.collection("movies").valueChanges()}openDialog(t){this.dialog.open(qu,{width:"50%",height:"60%",data:t}).afterClosed().subscribe(t=>{console.log("The dialog was closed")})}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(fO),r.Kb(Mu))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-movies"]],decls:18,vars:3,consts:[[1,"hero-image"],[1,"title"],[1,"wordCarousel"],[1,"flip4"],[1,"imgContainer"],[4,"ngFor","ngForOf"],[3,"src","alt","click"]],template:function(t,e){1&t&&(r.Nb(0,"div",0),r.Nb(1,"div",1),r.Nb(2,"h4",2),r.Nb(3,"span"),r.mc(4,"Cines Manolo "),r.Mb(),r.Nb(5,"div"),r.Nb(6,"ul",3),r.Nb(7,"li"),r.mc(8,"Cines de calidad"),r.Mb(),r.Nb(9,"li"),r.mc(10,"Incre\xedble sonido 7.1"),r.Mb(),r.Nb(11,"li"),r.mc(12,"4K"),r.Mb(),r.Nb(13,"li"),r.mc(14,"Butacas top tier"),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Nb(15,"div",4),r.lc(16,dO,4,3,"figure",5),r.Xb(17,"async"),r.Mb(),r.Mb()),2&t&&(r.Ab(16),r.bc("ngForOf",r.Yb(17,1,e.movies)))},directives:[j],pipes:[L],styles:[".hero-image[_ngcontent-%COMP%]{background-image:linear-gradient(rgba(0,0,0,.5),rgba(0,0,0,.5)),url(https://www.collinsdictionary.com/images/full/cinema_130498385.jpg);height:100%;background-position:50%;background-repeat:no-repeat;background-size:cover;position:relative}.title[_ngcontent-%COMP%]{width:80%}.title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;margin-left:40%;margin-top:15px}.imgContainer[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center;margin-left:38%}.imgContainer[_ngcontent-%COMP%]   figure[_ngcontent-%COMP%]{margin-top:9%}.imgContainer[_ngcontent-%COMP%]   figcaption[_ngcontent-%COMP%]{margin-left:15px;margin-top:5px}.imgContainer[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-left:15px;width:200px;height:300px}.imgContainer[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.3);cursor:pointer}figcaption[_ngcontent-%COMP%]{color:#fff}.wordCarousel[_ngcontent-%COMP%]{font-size:36px;font-weight:100;color:#939393}.wordCarousel[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{overflow:hidden;float:right;height:65px;margin-top:15px}.wordCarousel[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-family:Serif;color:#ccc;font-weight:700;height:45px;margin-bottom:45px;display:block}.flip2[_ngcontent-%COMP%]{animation:flip2 6s cubic-bezier(.23,1,.32,1.2) infinite}.flip3[_ngcontent-%COMP%]{animation:flip3 8s cubic-bezier(.23,1,.32,1.2) infinite}.flip4[_ngcontent-%COMP%]{animation:flip4 10s cubic-bezier(.23,1,.32,1.2) infinite}@keyframes flip2{0%{margin-top:-180px}5%{margin-top:-90px}50%{margin-top:-90px}55%{margin-top:0}99.99%{margin-top:0}to{margin-top:-270px}}@keyframes flip3{0%{margin-top:-270px}5%{margin-top:-180px}33%{margin-top:-180px}38%{margin-top:-90px}66%{margin-top:-90px}71%{margin-top:0}99.99%{margin-top:0}to{margin-top:-270px}}@keyframes flip4{0%{margin-top:-360px}5%{margin-top:-270px}25%{margin-top:-270px}30%{margin-top:-180px}50%{margin-top:-180px}55%{margin-top:-90px}75%{margin-top:-90px}80%{margin-top:0}99.99%{margin-top:0}to{margin-top:-270px}}"]}),t})(),gO=(()=>{class t{constructor(){this.title="the-movie"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Eb({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(t,e){1&t&&r.Lb(0,"app-movies")},directives:[pO],styles:[""]}),t})(),mO=(()=>{class t{}return t.\u0275mod=r.Ib({type:t,bootstrap:[gO]}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[],imports:[[gt,ai,bu,Bu.a,Bu.a.initializeApp(i),Uu]]}),t})();Object(r.T)(),dt().bootstrapModule(mO).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return u}));var r=n("7o/Q"),i=n("HDdC"),s=n("SeVD");class o extends r.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function u(t,e){if(!e.closed)return t instanceof i.a?t.subscribe(e):Object(s.a)(t)(e)}}},[[0,0]]]);